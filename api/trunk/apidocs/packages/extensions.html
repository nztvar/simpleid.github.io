<!DOCTYPE html><html xmlns:date="http://exslt.org/dates-and-times" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="viewport" content="width=device-width; initial-scale=1.0; maximum-scale=1.0; user-scalable=0;">
<meta charset="utf-8">
<title>SimpleID API Documentation (trunk) » extensions</title>
<meta name="author" content="Mike van Riel">
<meta name="description" content="">
<link href="../css/template.css" rel="stylesheet" media="all">
<script src="../js/jquery-1.7.1.min.js" type="text/javascript"></script><script src="../js/jquery-ui-1.8.2.custom.min.js" type="text/javascript"></script><script src="../js/jquery.mousewheel.min.js" type="text/javascript"></script><script src="../js/bootstrap.js" type="text/javascript"></script><script src="../js/template.js" type="text/javascript"></script><script src="../js/prettify/prettify.min.js" type="text/javascript"></script><link rel="shortcut icon" href="../img/favicon.ico">
<link rel="apple-touch-icon" href="../img/apple-touch-icon.png">
<link rel="apple-touch-icon" sizes="72x72" href="../img/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="114x114" href="../img/apple-touch-icon-114x114.png">
</head>
<body>
<div class="navbar navbar-fixed-top">
<div class="navbar-inner"><div class="container">
<a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse"><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></a><a class="brand" href="../index.html">SimpleID API Documentation (trunk)</a><div class="nav-collapse"><ul class="nav">
<li class="dropdown">
<a href="#api" class="dropdown-toggle" data-toggle="dropdown">
                                    API Documentation <b class="caret"></b></a><ul class="dropdown-menu">
<li><a>Packages</a></li>
<li><a href="../packages/extensions.html"><i class="icon-folder-open"></i> extensions</a></li>
<li><a href="../packages/simpleid.html"><i class="icon-folder-open"></i> simpleid</a></li>
<li><a href="../packages/simpleweb.html"><i class="icon-folder-open"></i> simpleweb</a></li>
</ul>
</li>
<li class="dropdown" id="charts-menu">
<a href="#charts" class="dropdown-toggle" data-toggle="dropdown">
                                    Charts <b class="caret"></b></a><ul class="dropdown-menu"><li><a href="../graph_class.html"><i class="icon-list-alt"></i> Class hierarchy diagram</a></li></ul>
</li>
<li class="dropdown" id="reports-menu">
<a href="#reports" class="dropdown-toggle" data-toggle="dropdown">
                                    Reports <b class="caret"></b></a><ul class="dropdown-menu">
<li><a href="../errors.html"><i class="icon-remove-sign"></i> Errors 
                <span class="label label-info">52</span></a></li>
<li><a href="../markers.html"><i class="icon-map-marker"></i> Markers 
                <ul></ul></a></li>
<li><a href="../deprecated.html"><i class="icon-stop"></i> Deprecated elements 
                <span class="label label-info">3</span></a></li>
</ul>
</li>
</ul></div>
</div></div>
<div class="go_to_top"><a href="#___" style="color: inherit">Back to top  <i class="icon-upload icon-white"></i></a></div>
</div>
<div id="___" class="container">
<noscript><div class="alert alert-warning">
                            Javascript is disabled; several features are only available
                            if Javascript is enabled.
                        </div></noscript>
<div class="row">
<div class="span4">
<div class="btn-group view pull-right" data-toggle="buttons-radio">
<button class="btn details" title="Show descriptions and method names"><i class="icon-list"></i></button><button class="btn simple" title="Show only method names"><i class="icon-align-justify"></i></button>
</div>
<ul class="side-nav nav nav-list">
<li class="nav-header">
<i class="icon-map-marker"></i> Packages</li>
<li>
<a href="../packages/extensions.html" title="extensions"><i class="icon-folder-open"></i>extensions</a><ul class="nav nav-list nav-packages"></ul>
</li>
<li class="nav-header">
<i class="icon-custom icon-function"></i> Functions</li>
<li class="function  "><a href="#hook_checkid" title="hook_checkid :: Processes an authentication request that is &lt;i&gt;not&lt;/i&gt; about an identifier."><span class="description">Processes an authentication request that is &lt;i&gt;not&lt;/i&gt; about an identifier.</span><pre>hook_checkid</pre></a></li>
<li class="function  "><a href="#hook_checkid_identity" title="hook_checkid_identity :: Processes an authentication request where the assertion is potentially
positive."><span class="description">Processes an authentication request where the assertion is potentially
positive.</span><pre>hook_checkid_identity</pre></a></li>
<li class="function  "><a href="#hook_consent" title="hook_consent :: Processes the relying party verification form."><span class="description">Processes the relying party verification form.</span><pre>hook_consent</pre></a></li>
<li class="function  "><a href="#hook_consent_form" title="hook_consent_form :: Provides additional form items when displaying the relying party consent
form"><span class="description">Provides additional form items when displaying the relying party consent
form</span><pre>hook_consent_form</pre></a></li>
<li class="function  "><a href="#hook_indirect_response" title="hook_indirect_response :: Determines the format in which assertions are sent, when they are sent via
indirect communication."><span class="description">Determines the format in which assertions are sent, when they are sent via
indirect communication.</span><pre>hook_indirect_response</pre></a></li>
<li class="function  "><a href="#hook_page_dashboard" title="hook_page_dashboard :: Returns additional blocks to be displayed in the user's dashboard."><span class="description">Returns additional blocks to be displayed in the user's dashboard.</span><pre>hook_page_dashboard</pre></a></li>
<li class="function  "><a href="#hook_page_profile" title="hook_page_profile :: Returns additional blocks to be displayed in the user's profile page."><span class="description">Returns additional blocks to be displayed in the user's profile page.</span><pre>hook_page_profile</pre></a></li>
<li class="function  "><a href="#hook_response" title="hook_response :: Gets fields and values to be included in the OpenID response."><span class="description">Gets fields and values to be included in the OpenID response.</span><pre>hook_response</pre></a></li>
<li class="function  "><a href="#hook_routes" title="hook_routes :: Return any additional items provided by the extension to be appended to the
Simpleweb route array."><span class="description">Return any additional items provided by the extension to be appended to the
Simpleweb route array.</span><pre>hook_routes</pre></a></li>
<li class="function  "><a href="#hook_rp_form" title="hook_rp_form :: Provides additional form items when displaying the relying party consent
form"><span class="description">Provides additional form items when displaying the relying party consent
form</span><pre>hook_rp_form</pre></a></li>
<li class="function  "><a href="#hook_send" title="hook_send :: Processes the relying party consent form."><span class="description">Processes the relying party consent form.</span><pre>hook_send</pre></a></li>
<li class="function  "><a href="#hook_signed_fields" title="hook_signed_fields :: Gets fields associated with this extension which needs to be signed"><span class="description">Gets fields associated with this extension which needs to be signed</span><pre>hook_signed_fields</pre></a></li>
<li class="function  "><a href="#hook_user_auto_login" title="hook_user_auto_login :: Attempts to automatically login using credentials presented by the user agent."><span class="description">Attempts to automatically login using credentials presented by the user agent.</span><pre>hook_user_auto_login</pre></a></li>
<li class="function  "><a href="#hook_user_login_form" title="hook_user_login_form :: Provides additional form items when displaying the login form"><span class="description">Provides additional form items when displaying the login form</span><pre>hook_user_login_form</pre></a></li>
<li class="function  "><a href="#hook_user_verify_credentials" title="hook_user_verify_credentials :: Verifies a set of credentials for a specified user."><span class="description">Verifies a set of credentials for a specified user.</span><pre>hook_user_verify_credentials</pre></a></li>
<li class="function  "><a href="#hook_xrds_types" title="hook_xrds_types :: Returns an array of type URIs to be included in SimpleID's XRDS document."><span class="description">Returns an array of type URIs to be included in SimpleID's XRDS document.</span><pre>hook_xrds_types</pre></a></li>
</ul>
</div>
<div class="span8 package-contents">
<ul class="breadcrumb">
<li>
<a href="../index.html"><i class="icon-folder-open"></i></a><span class="divider">\</span>
</li>
<li class="active"><a href="../packages/extensions.html">extensions</a></li>
</ul>
<div class="package-indent">
<h3>
<i class="icon-custom icon-function"></i> Functions</h3>
<a name="hook_checkid" id="hook_checkid"></a><div class="element clickable function  hook_checkid" data-toggle="collapse" data-target=".hook_checkid .collapse">
<h2>Processes an authentication request that is &lt;i&gt;not&lt;/i&gt; about an identifier.</h2>
<pre>hook_checkid(array $request, bool $immediate) : int</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>The OpenID specifications provides a mechanism for extensions to process
authentication requests that are not about an identifier.  Authentication requests
about identifiers are automatically processed by the <a href="simpleid_checkid_identity()">simpleid_checkid_identity()</a>
function and the <a href="hook_checkid_identity()">hook_checkid_identity()</a> hooks.</p>

<p>Assertion results are coded within SimpleID as an integer between 127 (<a href="CHECKID_OK">CHECKID_OK</a>)
and -127 (<a href="CHECKID_PROTOCOL_ERROR">CHECKID_PROTOCOL_ERROR</a>).  Positive values indicate a potential
positive assertion (subject to various types of user approval), while negative
values indicate a irrecoverable negative assertion.</p>

<p>This hook should return one of these values.  If the extension is unable to
handle this particular type of authentication request, it should return NULL.</p></p>
<table class="table table-bordered"><tr>
<th>see</th>
<td>\global\simpleid_checkid()</td>
</tr></table>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$request</h4>
<code>array</code><p>the OpenID request</p></div>
<div class="subelement argument">
<h4>$immediate</h4>
<code>bool</code><p>true if openid.mode is checkid_immediate</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>int</code>a return value from the list of possible values returned by {@link simpleid_checkid_identity()} or NULL</div>
</div></div>
</div>
<a name="hook_checkid_identity" id="hook_checkid_identity"></a><div class="element clickable function  hook_checkid_identity" data-toggle="collapse" data-target=".hook_checkid_identity .collapse">
<h2>Processes an authentication request where the assertion is potentially
positive.</h2>
<pre>hook_checkid_identity(array $request, string $identity, bool $immediate) : int</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>Assertion results are coded within SimpleID as an integer between 127 (<a href="CHECKID_OK">CHECKID_OK</a>)
and -127 (<a href="CHECKID_PROTOCOL_ERROR">CHECKID_PROTOCOL_ERROR</a>).  Positive values indicate a potential
positive assertion (subject to various types of user approval), while negative
values indicate a irrecoverable negative assertion.</p>

<p>Extensions are able to examine the authentication request to modify change
the assertion result from positive to negative.  As SimpleID takes the
minimum from the results returned by this hook, extensions are
not able to change the assertion result from negative to positive.</p>

<p>If the extension is indifferent to the result of the current authentication
request (e.g. it cannot understand it), it should return NULL.</p>

<p>This hook is not called at all if SimpleID determines that the assertion
is negative.</p></p>
<table class="table table-bordered"><tr>
<th>see</th>
<td>\global\simpleid_checkid_identity()</td>
</tr></table>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$request</h4>
<code>array</code><p>the OpenID request</p></div>
<div class="subelement argument">
<h4>$identity</h4>
<code>string</code><p>the identity to be checked against</p></div>
<div class="subelement argument">
<h4>$immediate</h4>
<code>bool</code><p>true if openid.mode is checkid_immediate</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>int</code>a return value from the list of possible values returned by {@link simpleid_checkid_identity()} or NULL</div>
</div></div>
</div>
<a name="hook_consent" id="hook_consent"></a><div class="element clickable function  hook_consent" data-toggle="collapse" data-target=".hook_consent .collapse">
<h2>Processes the relying party verification form.</h2>
<pre>hook_consent(array $form_request, array $response, array $rp) </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>This provides the extension with the opportunity to:</p>

<ul>
<li>modify the OpenID response based on the user's preferences by editing
$response</li>
<li>save the user's preferences by editing $rp</li>
</ul>

<p><strong>WARNING</strong> Because this function requires parameters to be
passed by reference, this does not work with <a href="extension_invoke_all()">extension_invoke_all()</a>.</p></p>
<table class="table table-bordered"><tr>
<th>since</th>
<td>0.8</td>
</tr></table>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$form_request</h4>
<code>array</code><p>the data submitted by the user in the relying party verification form</p></div>
<div class="subelement argument">
<h4>$response</h4>
<code>array</code><p>&$response pointer to the proposed OpenID response</p>
</div>
<div class="subelement argument">
<h4>$rp</h4>
<code>array</code><p>&$rp pointer to the user's preferences saved with this relying party</p>
</div>
</div></div>
</div>
<a name="hook_consent_form" id="hook_consent_form"></a><div class="element clickable function  hook_consent_form" data-toggle="collapse" data-target=".hook_consent_form .collapse">
<h2>Provides additional form items when displaying the relying party consent
form</h2>
<pre>hook_consent_form(array $request, array $response, array $rp) : string</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<table class="table table-bordered">
<tr>
<th>see</th>
<td>\global\simpleid_consent_form()</td>
</tr>
<tr>
<th>since</th>
<td>0.8</td>
</tr>
</table>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$request</h4>
<code>array</code><p>the OpenID request</p></div>
<div class="subelement argument">
<h4>$response</h4>
<code>array</code><p>the proposed OpenID response</p></div>
<div class="subelement argument">
<h4>$rp</h4>
<code>array</code><p>the user's preferences saved with this relying party</p>
</div>
<h3>Returns</h3>
<div class="subelement response">
<code>string</code>HTML code to be inserted into the verification form</div>
</div></div>
</div>
<a name="hook_indirect_response" id="hook_indirect_response"></a><div class="element clickable function  hook_indirect_response" data-toggle="collapse" data-target=".hook_indirect_response .collapse">
<h2>Determines the format in which assertions are sent, when they are sent via
indirect communication.</h2>
<pre>hook_indirect_response(string $url, array $response) : int</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>The OpenID specification version 2.0 provides for the sending of assertions
via indirect communication.  The original specifications provide that the
response should be formatted within the query string.</p>

<p>Some extensions to the OpenID specification allows the assertion to be
formatted in some other way, e.g. via the fragment.  This hook allows
extensions to specify which format the assertion should be sent.</p>

<p>If the extension is indifferent regarding the format, it should return
null</p></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$url</h4>
<code>string</code><p>the URL of the RP to which the response is to be sent</p></div>
<div class="subelement argument">
<h4>$response</h4>
<code>array</code><p>the assertion to be sent</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>int</code>one of OPENID_RESPONSE_QUERY or OPENID_RESPONSE_FRAGMENT or NULL</div>
</div></div>
</div>
<a name="hook_page_dashboard" id="hook_page_dashboard"></a><div class="element clickable function  hook_page_dashboard" data-toggle="collapse" data-target=".hook_page_dashboard .collapse">
<h2>Returns additional blocks to be displayed in the user's dashboard.</h2>
<pre>hook_page_dashboard() : array</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>A block is coded as an array in accordance with the specifications set
out in <a href="page.inc">page.inc</a>.</p>

<p>This hook should return an <i>array</i> of blocks, i.e. an array of
arrays.</p></p>
<table class="table table-bordered">
<tr>
<th>see</th>
<td>\global\page_dashboard()</td>
</tr>
<tr>
<th>since</th>
<td>0.7</td>
</tr>
</table>
<h3>Returns</h3>
<div class="subelement response">
<code>array</code>an array of blocks to add to the user's dashboard</div>
</div></div>
</div>
<a name="hook_page_profile" id="hook_page_profile"></a><div class="element clickable function  hook_page_profile" data-toggle="collapse" data-target=".hook_page_profile .collapse">
<h2>Returns additional blocks to be displayed in the user's profile page.</h2>
<pre>hook_page_profile() : array</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>A block is coded as an array in accordance with the specifications set
out in <a href="page.inc">page.inc</a>.</p>

<p>This hook should return an <i>array</i> of blocks, i.e. an array of
arrays.</p></p>
<table class="table table-bordered">
<tr>
<th>see</th>
<td>\global\page_profile()</td>
</tr>
<tr>
<th>since</th>
<td>0.7</td>
</tr>
</table>
<h3>Returns</h3>
<div class="subelement response">
<code>array</code>an array of blocks to add to the user's profile page</div>
</div></div>
</div>
<a name="hook_response" id="hook_response"></a><div class="element clickable function  hook_response" data-toggle="collapse" data-target=".hook_response .collapse">
<h2>Gets fields and values to be included in the OpenID response.</h2>
<pre>hook_response(bool $assertion, array $request) : array</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>For positive assertions, this hook should assume that all user approvals
have been given and return a response array accordingly.  The extension has
the opportunity to modify the response what the user has actually approved
in the <a href="hook_send()">send hook</a>.</p>

<p>This hook will need to provide any aliases required.</p>

<p>An example:</p>

<pre><code><?php
$alias = openid_extension_alias($my_uri);
return array(
    'openid.ns.' . $alias => $my_uri,
    'openid.' . $alias . '.field' => 'value'
);
?>
</code></pre></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$assertion</h4>
<code>bool</code><p>true if a positive assertion is made, false otherwise</p></div>
<div class="subelement argument">
<h4>$request</h4>
<code>array</code><p>the OpenID request</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>array</code>the fields and values to include</div>
</div></div>
</div>
<a name="hook_routes" id="hook_routes"></a><div class="element clickable function  hook_routes" data-toggle="collapse" data-target=".hook_routes .collapse">
<h2>Return any additional items provided by the extension to be appended to the
Simpleweb route array.</h2>
<pre>hook_routes() : array</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<table class="table table-bordered">
<tr>
<th>see</th>
<td>\global\simpleweb.inc</td>
</tr>
<tr>
<th>see</th>
<td>\global\simpleid_start()</td>
</tr>
<tr>
<th>since</th>
<td>0.7</td>
</tr>
</table>
<h3>Returns</h3>
<div class="subelement response">
<code>array</code>the routes array</div>
</div></div>
</div>
<a name="hook_rp_form" id="hook_rp_form"></a><div class="element clickable function  hook_rp_form" data-toggle="collapse" data-target=".hook_rp_form .collapse">
<h2>Provides additional form items when displaying the relying party consent
form</h2>
<pre>hook_rp_form(array $request, array $response, array $rp) : string</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<table class="table table-bordered">
<tr>
<th>see</th>
<td>\global\simpleid_consent_form()</td>
</tr>
<tr>
<th>deprecated</th>
<td>Use {@link hook_consent_form()}</td>
</tr>
</table>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$request</h4>
<code>array</code><p>the OpenID request</p></div>
<div class="subelement argument">
<h4>$response</h4>
<code>array</code><p>the proposed OpenID response</p></div>
<div class="subelement argument">
<h4>$rp</h4>
<code>array</code><p>the user's preferences saved with this relying party</p>
</div>
<h3>Returns</h3>
<div class="subelement response">
<code>string</code>HTML code to be inserted into the verification form</div>
</div></div>
</div>
<a name="hook_send" id="hook_send"></a><div class="element clickable function  hook_send" data-toggle="collapse" data-target=".hook_send .collapse">
<h2>Processes the relying party consent form.</h2>
<pre>hook_send(array $form_request, array $response, array $rp) </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>This provides the extension with the opportunity to:</p>

<ul>
<li>modify the OpenID response based on the user's preferences by editing
$response</li>
<li>save the user's preferences by editing $rp</li>
</ul>

<p><strong>WARNING</strong> Because this function requires parameters to be
passed by reference, this does not work with <a href="extension_invoke_all()">extension_invoke_all()</a>.</p></p>
<table class="table table-bordered"><tr>
<th>deprecated</th>
<td>Use {@link hook_consent()}</td>
</tr></table>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$form_request</h4>
<code>array</code><p>the data submitted by the user in the relying party verification form</p></div>
<div class="subelement argument">
<h4>$response</h4>
<code>array</code><p>&$response pointer to the proposed OpenID response</p>
</div>
<div class="subelement argument">
<h4>$rp</h4>
<code>array</code><p>&$rp pointer to the user's preferences saved with this relying party</p>
</div>
</div></div>
</div>
<a name="hook_signed_fields" id="hook_signed_fields"></a><div class="element clickable function  hook_signed_fields" data-toggle="collapse" data-target=".hook_signed_fields .collapse">
<h2>Gets fields associated with this extension which needs to be signed</h2>
<pre>hook_signed_fields(array $response) : array</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>SimpleID automatically handles signing fields required by the OpenID
specification, so only the fields introduced by this extension
needed to be returned by this function.</p>

<p>The array of fields returned by this function must include any applicable
aliases as required.  For example</p>

<pre><code><?php
$alias = openid_extension_alias($my_uri);
return array($alias . '.field1', $alias . 'field2');
?>
</code></pre></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$response</h4>
<code>array</code><p>the OpenID response to sign</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>array</code>an array of fields to sign</div>
</div></div>
</div>
<a name="hook_user_auto_login" id="hook_user_auto_login"></a><div class="element clickable function  hook_user_auto_login" data-toggle="collapse" data-target=".hook_user_auto_login .collapse">
<h2>Attempts to automatically login using credentials presented by the user agent.</h2>
<pre>hook_user_auto_login() : array</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>This hook is called by the <a href="user_auto_login()">user_auto_login()</a> function.  The hook
should detect any credentials present in the request and return a $user array
(loaded using the <a href="user_load()">user_load()</a> function) if credentials identifying
the user is present.</p>

<p>If no credentials are present, or the credentials are invalid, this hook
should return NULL.</p></p>
<h3>Returns</h3>
<div class="subelement response">
<code>array</code>the user array, or NULL</div>
</div></div>
</div>
<a name="hook_user_login_form" id="hook_user_login_form"></a><div class="element clickable function  hook_user_login_form" data-toggle="collapse" data-target=".hook_user_login_form .collapse">
<h2>Provides additional form items when displaying the login form</h2>
<pre>hook_user_login_form(string $destination, string $state) </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<table class="table table-bordered"><tr>
<th>see</th>
<td>\global\user_login_form()</td>
</tr></table>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$destination</h4>
<code>string</code><p>he SimpleID location to which the user is directed if login is successful</p></div>
<div class="subelement argument">
<h4>$state</h4>
<code>string</code><p>the current SimpleID state, if required by the location</p></div>
</div></div>
</div>
<a name="hook_user_verify_credentials" id="hook_user_verify_credentials"></a><div class="element clickable function  hook_user_verify_credentials" data-toggle="collapse" data-target=".hook_user_verify_credentials .collapse">
<h2>Verifies a set of credentials for a specified user.</h2>
<pre>hook_user_verify_credentials(string $uid, array $credentials) : bool</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>A set of credentials comprises:</p>

<ul>
<li>A user name</li>
<li>Some kind of verifying information, such as a plaintext password, a hashed
password (e.g. digest) or some other kind of identifying information.</li>
</ul>

<p>The user name is passed to this function using the $uid parameter.  The user
name may or may not exist.  If the user name does not exist, this function
<strong>must</strong> return false.</p>

<p>The credentials are supplied as an array using the $credentials parameter.
Typically this array will be a subset of the $_POST superglobal passed to the
<a href="user_login()">user_login()</a> function.  Thus it will generally contain the keys 'pass' and
'digest'.</p>

<p>This hook must check whether the credentials supplied matches the credentials
for the specified user in the store.  If for any reason that credentials
do not match, this function <strong>must</strong> return false.</p></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$uid</h4>
<code>string</code><p>the name of the user to verify</p></div>
<div class="subelement argument">
<h4>$credentials</h4>
<code>array</code><p>the credentials supplied by the browser</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>bool</code>whether the credentials supplied matches those for the specified user</div>
</div></div>
</div>
<a name="hook_xrds_types" id="hook_xrds_types"></a><div class="element clickable function  hook_xrds_types" data-toggle="collapse" data-target=".hook_xrds_types .collapse">
<h2>Returns an array of type URIs to be included in SimpleID's XRDS document.</h2>
<pre>hook_xrds_types() : array</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>For example:</p>

<pre><code><?php
return array('http://specs.openid.net/extensions/ui/1.0/lang-pref', 'http://specs.openid.net/extensions/ui/1.0/mode/popup');
?>
</code></pre></p>
<table class="table table-bordered"><tr>
<th>since</th>
<td>0.7</td>
</tr></table>
<h3>Returns</h3>
<div class="subelement response">
<code>array</code>an array of URIs</div>
</div></div>
</div>
</div>
</div>
</div>
<div class="row"><footer class="span12">
            Template is built using <a href="http://twitter.github.com/bootstrap/">Twitter Bootstrap 2</a> and icons provided by <a href="http://glyphicons.com/">Glyphicons</a>.<br>
            Documentation is powered by <a href="http://www.phpdoc.org/">phpDocumentor 2.0.0a10</a> and<br>
            generated on 2013-05-12T06:51:32Z.<br></footer></div>
</div>
</body>
</html>
