<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
  <html xmlns="http://www.w3.org/1999/xhtml">
		<head>
			<!-- template designed by Marco Von Ballmoos -->
			<title>Docs for page index.php</title>
			<link rel="stylesheet" href="../media/stylesheet.css" />
			<meta http-equiv='Content-Type' content='text/html; charset=iso-8859-1'/>
		</head>
		<body>
			<div class="page-body">			
<h2 class="file-name">/www/index.php</h2>

<a name="sec-description"></a>
<div class="info-box">
	<div class="info-box-title">Description</div>
	<div class="nav-bar">
					<span class="disabled">Description</span> |
									<a href="#sec-includes">Includes</a>
			|							<a href="#sec-constants">Constants</a>
			|							<a href="#sec-variables">Variables</a>
			|							<a href="#sec-functions">Functions</a>
			</div>
	<div class="info-box-body">	
		<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Main SimpleID file.</p>
	<ul class="tags">
				<li><span class="field">filesource:</span> <a href="../__filesource/fsource_simpleid__wwwindex.php.html">Source Code for this file</a></li>
			</ul>
		
			</div>
</div>
		

	<a name="sec-includes"></a>	
	<div class="info-box">
		<div class="info-box-title">Includes</div>
		<div class="nav-bar">
			<a href="#sec-description">Description</a> |
						<span class="disabled">Includes</span>
			|							<a href="#sec-constants">Constants</a>
				|										<a href="#sec-variables">Variables</a>
				|										<a href="#sec-functions">Functions</a>
					</div>
		<div class="info-box-body">	
			<a name="_log_inc_php"><!-- --></a>
<div class="oddrow">
	
	<div>
		<span class="include-title">
			<span class="include-type">include_once</span>
			(<span class="include-name"><a href="../simpleid/_www---log.inc.php.html">"log.inc.php"</a></span>)
			(line <span class="line-number"><a href="../__filesource/fsource_simpleid__wwwindex.php.html#a47">47</a></span>)
		</span>
	</div>

	<!-- ========== Info from phpDoc block ========= -->
	
</div>
<a name="_config_default_php"><!-- --></a>
<div class="evenrow">
	
	<div>
		<span class="include-title">
			<span class="include-type">include_once</span>
			(<span class="include-name"><a href="../simpleid/_www---config.default.php.html">"config.default.php"</a></span>)
			(line <span class="line-number"><a href="../__filesource/fsource_simpleid__wwwindex.php.html#a46">46</a></span>)
		</span>
	</div>

	<!-- ========== Info from phpDoc block ========= -->
	
</div>
<a name="_openid_inc_php"><!-- --></a>
<div class="oddrow">
	
	<div>
		<span class="include-title">
			<span class="include-type">include_once</span>
			(<span class="include-name"><a href="../simpleid/_www---openid.inc.php.html">"openid.inc.php"</a></span>)
			(line <span class="line-number"><a href="../__filesource/fsource_simpleid__wwwindex.php.html#a50">50</a></span>)
		</span>
	</div>

	<!-- ========== Info from phpDoc block ========= -->
	
</div>
<a name="_config_php"><!-- --></a>
<div class="evenrow">
	
	<div>
		<span class="include-title">
			<span class="include-type">include_once</span>
			(<span class="include-name">"config.php"</span>)
			(line <span class="line-number"><a href="../__filesource/fsource_simpleid__wwwindex.php.html#a45">45</a></span>)
		</span>
	</div>

	<!-- ========== Info from phpDoc block ========= -->
	
</div>
<a name="_version_inc_php"><!-- --></a>
<div class="oddrow">
	
	<div>
		<span class="include-title">
			<span class="include-type">include_once</span>
			(<span class="include-name"><a href="../simpleid/_www---version.inc.php.html">"version.inc.php"</a></span>)
			(line <span class="line-number"><a href="../__filesource/fsource_simpleid__wwwindex.php.html#a37">37</a></span>)
		</span>
	</div>

	<!-- ========== Info from phpDoc block ========= -->
	
</div>
<a name="_common_inc_php"><!-- --></a>
<div class="evenrow">
	
	<div>
		<span class="include-title">
			<span class="include-type">include_once</span>
			(<span class="include-name"><a href="../simpleid/_www---common.inc.php.html">"common.inc.php"</a></span>)
			(line <span class="line-number"><a href="../__filesource/fsource_simpleid__wwwindex.php.html#a48">48</a></span>)
		</span>
	</div>

	<!-- ========== Info from phpDoc block ========= -->
	
</div>
<a name="_page_inc_php"><!-- --></a>
<div class="oddrow">
	
	<div>
		<span class="include-title">
			<span class="include-type">include_once</span>
			(<span class="include-name"><a href="../simpleid/_www---page.inc.php.html">"page.inc.php"</a></span>)
			(line <span class="line-number"><a href="../__filesource/fsource_simpleid__wwwindex.php.html#a55">55</a></span>)
		</span>
	</div>

	<!-- ========== Info from phpDoc block ========= -->
	
</div>
<a name="_discovery_inc_php"><!-- --></a>
<div class="evenrow">
	
	<div>
		<span class="include-title">
			<span class="include-type">include_once</span>
			(<span class="include-name"><a href="../simpleid/_www---discovery.inc.php.html">"discovery.inc.php"</a></span>)
			(line <span class="line-number"><a href="../__filesource/fsource_simpleid__wwwindex.php.html#a51">51</a></span>)
		</span>
	</div>

	<!-- ========== Info from phpDoc block ========= -->
	
</div>
<a name="_lib/xtemplate_class_php"><!-- --></a>
<div class="oddrow">
	
	<div>
		<span class="include-title">
			<span class="include-type">include_once</span>
			(<span class="include-name"><a href="../XTemplate/_www---lib---xtemplate.class.php.html">"lib/xtemplate.class.php"</a></span>)
			(line <span class="line-number"><a href="../__filesource/fsource_simpleid__wwwindex.php.html#a56">56</a></span>)
		</span>
	</div>

	<!-- ========== Info from phpDoc block ========= -->
	
</div>
<a name="_locale_inc_php"><!-- --></a>
<div class="evenrow">
	
	<div>
		<span class="include-title">
			<span class="include-type">include_once</span>
			(<span class="include-name"><a href="../simpleid/_www---locale.inc.php.html">"locale.inc.php"</a></span>)
			(line <span class="line-number"><a href="../__filesource/fsource_simpleid__wwwindex.php.html#a38">38</a></span>)
		</span>
	</div>

	<!-- ========== Info from phpDoc block ========= -->
	
</div>
<a name="_user_inc_php"><!-- --></a>
<div class="oddrow">
	
	<div>
		<span class="include-title">
			<span class="include-type">include_once</span>
			(<span class="include-name"><a href="../simpleid/_www---user.inc.php.html">"user.inc.php"</a></span>)
			(line <span class="line-number"><a href="../__filesource/fsource_simpleid__wwwindex.php.html#a52">52</a></span>)
		</span>
	</div>

	<!-- ========== Info from phpDoc block ========= -->
	
</div>
<a name="_cache_inc_php"><!-- --></a>
<div class="evenrow">
	
	<div>
		<span class="include-title">
			<span class="include-type">include_once</span>
			(<span class="include-name"><a href="../simpleid/_www---cache.inc.php.html">"cache.inc.php"</a></span>)
			(line <span class="line-number"><a href="../__filesource/fsource_simpleid__wwwindex.php.html#a53">53</a></span>)
		</span>
	</div>

	<!-- ========== Info from phpDoc block ========= -->
	
</div>
<a name="_SIMPLEID_STORE__store_php"><!-- --></a>
<div class="oddrow">
	
	<div>
		<span class="include-title">
			<span class="include-type">include_once</span>
			(<span class="include-name">SIMPLEID_STORE.".store.php"</span>)
			(line <span class="line-number"><a href="../__filesource/fsource_simpleid__wwwindex.php.html#a54">54</a></span>)
		</span>
	</div>

	<!-- ========== Info from phpDoc block ========= -->
	
</div>
<a name="_simpleweb_inc_php"><!-- --></a>
<div class="evenrow">
	
	<div>
		<span class="include-title">
			<span class="include-type">include_once</span>
			(<span class="include-name"><a href="../simpleweb/_www---simpleweb.inc.php.html">"simpleweb.inc.php"</a></span>)
			(line <span class="line-number"><a href="../__filesource/fsource_simpleid__wwwindex.php.html#a49">49</a></span>)
		</span>
	</div>

	<!-- ========== Info from phpDoc block ========= -->
	
</div>
		</div>
	</div>
	
	<a name="sec-constants"></a>	
	<div class="info-box">
		<div class="info-box-title">Constants</div>
		<div class="nav-bar">
			<a href="#sec-description">Description</a> |
										<a href="#sec-includes">Includes</a>
				|						<span class="disabled">Constants</span>
			|							<a href="#sec-variables">Variables</a>
				|										<a href="#sec-functions">Functions</a>
					</div>
		<div class="info-box-body">	
			<a name="defineASSOCIATION_PRIVATE"><!-- --></a>
<div class="oddrow">
	
	<div>
		<span class="const-title">
			<span class="const-name">ASSOCIATION_PRIVATE</span> = 2
			(line <span class="line-number"><a href="../__filesource/fsource_simpleid__wwwindex.php.html#a70">70</a></span>)
		</span>
	</div>
	
	<!-- ========== Info from phpDoc block ========= -->
	
		
</div>
<a name="defineASSOCIATION_SHARED"><!-- --></a>
<div class="evenrow">
	
	<div>
		<span class="const-title">
			<span class="const-name">ASSOCIATION_SHARED</span> = 1
			(line <span class="line-number"><a href="../__filesource/fsource_simpleid__wwwindex.php.html#a71">71</a></span>)
		</span>
	</div>
	
	<!-- ========== Info from phpDoc block ========= -->
	
		
</div>
<a name="defineCACHE_DIR"><!-- --></a>
<div class="oddrow">
	
	<div>
		<span class="const-title">
			<span class="const-name">CACHE_DIR</span> = SIMPLEID_CACHE_DIR
			(line <span class="line-number"><a href="../__filesource/fsource_simpleid__wwwindex.php.html#a58">58</a></span>)
		</span>
	</div>
	
	<!-- ========== Info from phpDoc block ========= -->
	
		
</div>
<a name="defineCHECKID_APPROVAL_REQUIRED"><!-- --></a>
<div class="evenrow">
	
	<div>
		<span class="const-title">
			<span class="const-name">CHECKID_APPROVAL_REQUIRED</span> = 2
			(line <span class="line-number"><a href="../__filesource/fsource_simpleid__wwwindex.php.html#a64">64</a></span>)
		</span>
	</div>
	
	<!-- ========== Info from phpDoc block ========= -->
	
		
</div>
<a name="defineCHECKID_IDENTITIES_NOT_MATCHING"><!-- --></a>
<div class="oddrow">
	
	<div>
		<span class="const-title">
			<span class="const-name">CHECKID_IDENTITIES_NOT_MATCHING</span> = -2
			(line <span class="line-number"><a href="../__filesource/fsource_simpleid__wwwindex.php.html#a66">66</a></span>)
		</span>
	</div>
	
	<!-- ========== Info from phpDoc block ========= -->
	
		
</div>
<a name="defineCHECKID_IDENTITY_NOT_EXIST"><!-- --></a>
<div class="evenrow">
	
	<div>
		<span class="const-title">
			<span class="const-name">CHECKID_IDENTITY_NOT_EXIST</span> = -3
			(line <span class="line-number"><a href="../__filesource/fsource_simpleid__wwwindex.php.html#a67">67</a></span>)
		</span>
	</div>
	
	<!-- ========== Info from phpDoc block ========= -->
	
		
</div>
<a name="defineCHECKID_LOGIN_REQUIRED"><!-- --></a>
<div class="oddrow">
	
	<div>
		<span class="const-title">
			<span class="const-name">CHECKID_LOGIN_REQUIRED</span> = -1
			(line <span class="line-number"><a href="../__filesource/fsource_simpleid__wwwindex.php.html#a65">65</a></span>)
		</span>
	</div>
	
	<!-- ========== Info from phpDoc block ========= -->
	
		
</div>
<a name="defineCHECKID_OK"><!-- --></a>
<div class="evenrow">
	
	<div>
		<span class="const-title">
			<span class="const-name">CHECKID_OK</span> = 127
			(line <span class="line-number"><a href="../__filesource/fsource_simpleid__wwwindex.php.html#a62">62</a></span>)
		</span>
	</div>
	
	<!-- ========== Info from phpDoc block ========= -->
	
		
</div>
<a name="defineCHECKID_PROTOCOL_ERROR"><!-- --></a>
<div class="oddrow">
	
	<div>
		<span class="const-title">
			<span class="const-name">CHECKID_PROTOCOL_ERROR</span> = -127
			(line <span class="line-number"><a href="../__filesource/fsource_simpleid__wwwindex.php.html#a68">68</a></span>)
		</span>
	</div>
	
	<!-- ========== Info from phpDoc block ========= -->
	
		
</div>
<a name="defineCHECKID_RETURN_TO_SUSPECT"><!-- --></a>
<div class="evenrow">
	
	<div>
		<span class="const-title">
			<span class="const-name">CHECKID_RETURN_TO_SUSPECT</span> = 3
			(line <span class="line-number"><a href="../__filesource/fsource_simpleid__wwwindex.php.html#a63">63</a></span>)
		</span>
	</div>
	
	<!-- ========== Info from phpDoc block ========= -->
	
		
</div>
		</div>
	</div>
	
	<a name="sec-variables"></a>	
	<div class="info-box">
		<div class="info-box-title">Variables</div>
		<div class="nav-bar">
			<a href="#sec-description">Description</a> |
										<a href="#sec-includes">Includes</a>
				|										<a href="#sec-constants">Constants</a>
				|						<span class="disabled">Variables</span>
			|							<a href="#sec-functions">Functions</a>
					</div>
		<div class="info-box-body">	
			<a name="global$GETPOST" id="global$GETPOST"><!-- --></a>
<div class="oddrow">
	
	<div>
		<span class="var-title">
			<span class="var-type">array</span>
			<span class="var-name">$GETPOST</span>
						(line <span class="line-number"><a href="../__filesource/fsource_simpleid__wwwindex.php.html#a96">96</a></span>)
		</span>
	</div>

	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">This variable holds the combined $_GET and $_POST superglobal arrays.</p>
<p class="description"><p>This is then passed through <a href="../simpleid/_www---common.inc.php.html#functionfix_http_request">fix_http_request()</a>.</p></p>
	
		
</div>
<a name="global$version" id="global$version"><!-- --></a>
<div class="evenrow">
	
	<div>
		<span class="var-title">
			<span class="var-type">float</span>
			<span class="var-name">$version</span>
						(line <span class="line-number"><a href="../__filesource/fsource_simpleid__wwwindex.php.html#a81">81</a></span>)
		</span>
	</div>

	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">This variable holds the version of the OpenID specification associated with  the current OpenID request.  This can be either <a href="../simpleid/_www---openid.inc.php.html#defineOPENID_VERSION_1_1">OPENID_VERSION_1_1</a>  or <a href="../simpleid/_www---openid.inc.php.html#defineOPENID_VERSION_2">OPENID_VERSION_2</a>.</p>
	
		
</div>
<a name="global$xtpl" id="global$xtpl"><!-- --></a>
<div class="oddrow">
	
	<div>
		<span class="var-title">
			<span class="var-type">object</span>
			<span class="var-name">$xtpl</span>
						(line <span class="line-number"><a href="../__filesource/fsource_simpleid__wwwindex.php.html#a88">88</a></span>)
		</span>
	</div>

	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">This variable holds an instance of the XTemplate engine.</p>
	
		
</div>
		</div>
	</div>
	
	<a name="sec-functions"></a>	
	<div class="info-box">
		<div class="info-box-title">Functions</div>
		<div class="nav-bar">
			<a href="#sec-description">Description</a> |
										<a href="#sec-includes">Includes</a>
				|										<a href="#sec-constants">Constants</a>
				|										<a href="#sec-variables">Variables</a>
				|						<span class="disabled">Functions</span>
		</div>
		<div class="info-box-body">	
			<a name="functionsimpleid_assertion_response" id="functionsimpleid_assertion_response"><!-- --></a>
<div class="evenrow">
	
	<div>
		<span class="method-title">simpleid_assertion_response</span> (line <span class="line-number"><a href="../__filesource/fsource_simpleid__wwwindex.php.html#a1163">1163</a></span>)
	</div> 

	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Sends an OpenID assertion response.</p>
<p class="description"><p>The OpenID specification version 2.0 provides for the sending of assertions  via indirect communication.  However, future versions of the OpenID  specification may provide for sending of assertions via direct communication.</p></p>
	
	<div class="method-signature">
		<span class="method-result">void</span>
		<span class="method-name">
			simpleid_assertion_response
		</span>
					(<span class="var-type">array</span>&nbsp;<span class="var-name">$response</span>, [<span class="var-type">string</span>&nbsp;<span class="var-name">$indirect_url</span> = <span class="var-default">NULL</span>])
			</div>

			<ul class="parameters">
					<li>
				<span class="var-type">array</span>
				<span class="var-name">$response</span><span class="var-description">: the signed OpenID assertion response to send</span>			</li>
					<li>
				<span class="var-type">string</span>
				<span class="var-name">$indirect_url</span><span class="var-description">: the URL to which the OpenID response is sent.  If  this is an empty string, the response is sent via direct communication</span>			</li>
				</ul>
		
	
</div>
<a name="functionsimpleid_associate" id="functionsimpleid_associate"><!-- --></a>
<div class="oddrow">
	
	<div>
		<span class="method-title">simpleid_associate</span> (line <span class="line-number"><a href="../__filesource/fsource_simpleid__wwwindex.php.html#a301">301</a></span>)
	</div> 

	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Processes an association request from a relying party.</p>
<p class="description"><p>An association request has an openid.mode value of  associate.  This function checks whether the association request  is valid, and if so, creates an association and sends the response to  the relying party.</p></p>
	<ul class="tags">
				<li><span class="field">see:</span> <a href="../simpleid/_www---index.php.html#function_simpleid_create_association">_simpleid_create_association()</a></li>
				<li><span class="field">link:</span> <a href="http://openid.net/specs/openid-authentication-1_1.html#mode_associate">http://openid.net/specs/openid-authentication-1_1.html#mode_associate, http://openid.net/specs/openid-authentication-2_0.html#associations</a>,</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">void</span>
		<span class="method-name">
			simpleid_associate
		</span>
					(<span class="var-type">array</span>&nbsp;<span class="var-name">$request</span>)
			</div>

			<ul class="parameters">
					<li>
				<span class="var-type">array</span>
				<span class="var-name">$request</span><span class="var-description">: the OpenID request</span>			</li>
				</ul>
		
	
</div>
<a name="functionsimpleid_checkid" id="functionsimpleid_checkid"><!-- --></a>
<div class="evenrow">
	
	<div>
		<span class="method-title">simpleid_checkid</span> (line <span class="line-number"><a href="../__filesource/fsource_simpleid__wwwindex.php.html#a452">452</a></span>)
	</div> 

	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Processes an authentication request from a relying party.</p>
<p class="description"><p>An authentication request has an openid.mode value of  checkid_setup or checkid_immediate.</p><p>If the authentication request is a standard OpenID request about an identity  (i.e. contains the key openid.identity), this function calls  <a href="../simpleid/_www---index.php.html#functionsimpleid_checkid_identity">simpleid_checkid_identity()</a> to see whether the user logged on into SimpleID  matches the identity supplied in the OpenID request.</p><p>If the authentication request is not about an identity, this function calls  the <a href="../extensions/_extensions---hooks.php.html#functionhook_checkid">checkid hook</a> of the loaded extensions.</p><p>Depending on the OpenID version, this function will supply an appropriate  assertion.</p></p>
	
	<div class="method-signature">
		<span class="method-result">void</span>
		<span class="method-name">
			simpleid_checkid
		</span>
					(<span class="var-type">array</span>&nbsp;<span class="var-name">$request</span>)
			</div>

			<ul class="parameters">
					<li>
				<span class="var-type">array</span>
				<span class="var-name">$request</span><span class="var-description">: the OpenID request</span>			</li>
				</ul>
		
	
</div>
<a name="functionsimpleid_checkid_approval_required" id="functionsimpleid_checkid_approval_required"><!-- --></a>
<div class="oddrow">
	
	<div>
		<span class="method-title">simpleid_checkid_approval_required</span> (line <span class="line-number"><a href="../__filesource/fsource_simpleid__wwwindex.php.html#a762">762</a></span>)
	</div> 

	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Returns an OpenID response indicating a negative assertion to a  checkid_immediate request, where an approval of the relying party by the  user is required</p>
	<ul class="tags">
				<li><span class="field">return:</span> an OpenID response with a negative assertion</li>
				<li><span class="field">link:</span> <a href="http://openid.net/specs/openid-authentication-1_1.html#anchor17">http://openid.net/specs/openid-authentication-1_1.html#anchor17, http://openid.net/specs/openid-authentication-1_1.html#anchor23, http://openid.net/specs/openid-authentication-2_0.html#negative_assertions</a>,</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">mixed</span>
		<span class="method-name">
			simpleid_checkid_approval_required
		</span>
					(<span class="var-type">mixed</span>&nbsp;<span class="var-name">$request</span>)
			</div>

			<ul class="parameters">
					<li>
				<span class="var-type">mixed</span>
				<span class="var-name">$request</span><span class="var-description">: the OpenID request</span>			</li>
				</ul>
		
	
</div>
<a name="functionsimpleid_checkid_error" id="functionsimpleid_checkid_error"><!-- --></a>
<div class="evenrow">
	
	<div>
		<span class="method-title">simpleid_checkid_error</span> (line <span class="line-number"><a href="../__filesource/fsource_simpleid__wwwindex.php.html#a818">818</a></span>)
	</div> 

	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Returns an OpenID response indicating a generic negative assertion.</p>
<p class="description"><p>The content of the negative version depends on the OpenID version, and whether  the openid.mode of the request was checkid_immediate</p></p>
	<ul class="tags">
				<li><span class="field">return:</span> an OpenID response with a negative assertion</li>
				<li><span class="field">link:</span> <a href="http://openid.net/specs/openid-authentication-1_1.html#anchor17">http://openid.net/specs/openid-authentication-1_1.html#anchor17, http://openid.net/specs/openid-authentication-1_1.html#anchor23, http://openid.net/specs/openid-authentication-2_0.html#negative_assertions</a>,</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">array</span>
		<span class="method-name">
			simpleid_checkid_error
		</span>
					(<span class="var-type">array</span>&nbsp;<span class="var-name">$request</span>, [<span class="var-type">bool</span>&nbsp;<span class="var-name">$immediate</span> = <span class="var-default">false</span>])
			</div>

			<ul class="parameters">
					<li>
				<span class="var-type">array</span>
				<span class="var-name">$request</span><span class="var-description">: the OpenID request</span>			</li>
					<li>
				<span class="var-type">bool</span>
				<span class="var-name">$immediate</span><span class="var-description">: true if openid.mode of the request was checkid_immediate</span>			</li>
				</ul>
		
	
</div>
<a name="functionsimpleid_checkid_identity" id="functionsimpleid_checkid_identity"><!-- --></a>
<div class="oddrow">
	
	<div>
		<span class="method-title">simpleid_checkid_identity</span> (line <span class="line-number"><a href="../__filesource/fsource_simpleid__wwwindex.php.html#a583">583</a></span>)
	</div> 

	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Processes a standard OpenID authentication request about an identity.</p>
<p class="description"><p>Checks whether the current user logged into SimpleID matches the identity  supplied in an OpenID request.</p></p>
	<ul class="tags">
				<li><span class="field">return:</span> one of CHECKID_OK, CHECKID_APPROVAL_REQUIRED, CHECKID_RETURN_TO_SUSPECT, CHECKID_IDENTITY_NOT_EXIST,  CHECKID_IDENTITIES_NOT_MATCHING, CHECKID_LOGIN_REQUIRED or CHECKID_PROTOCOL_ERROR</li>
				<li><span class="field">global:</span> array <a href="../simpleid/_www---user.inc.php.html#global$user">$user</a>: the current logged in user</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">int</span>
		<span class="method-name">
			simpleid_checkid_identity
		</span>
					(<span class="var-type">array</span>&nbsp;<span class="var-name">&$request</span>, <span class="var-type">bool</span>&nbsp;<span class="var-name">$immediate</span>)
			</div>

			<ul class="parameters">
					<li>
				<span class="var-type">array</span>
				<span class="var-name">&$request</span><span class="var-description">: the OpenID request</span>			</li>
					<li>
				<span class="var-type">bool</span>
				<span class="var-name">$immediate</span><span class="var-description">: whether checkid_immediate was used</span>			</li>
				</ul>
		
	
</div>
<a name="functionsimpleid_checkid_login_required" id="functionsimpleid_checkid_login_required"><!-- --></a>
<div class="evenrow">
	
	<div>
		<span class="method-title">simpleid_checkid_login_required</span> (line <span class="line-number"><a href="../__filesource/fsource_simpleid__wwwindex.php.html#a789">789</a></span>)
	</div> 

	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Returns an OpenID response indicating a negative assertion to a  checkid_immediate request, where the user has not logged in.</p>
	<ul class="tags">
				<li><span class="field">return:</span> an OpenID response with a negative assertion</li>
				<li><span class="field">link:</span> <a href="http://openid.net/specs/openid-authentication-1_1.html#anchor17">http://openid.net/specs/openid-authentication-1_1.html#anchor17, http://openid.net/specs/openid-authentication-1_1.html#anchor23, http://openid.net/specs/openid-authentication-2_0.html#negative_assertions</a>,</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">array</span>
		<span class="method-name">
			simpleid_checkid_login_required
		</span>
					(<span class="var-type">array</span>&nbsp;<span class="var-name">$request</span>)
			</div>

			<ul class="parameters">
					<li>
				<span class="var-type">array</span>
				<span class="var-name">$request</span><span class="var-description">: the OpenID request</span>			</li>
				</ul>
		
	
</div>
<a name="functionsimpleid_checkid_ok" id="functionsimpleid_checkid_ok"><!-- --></a>
<div class="oddrow">
	
	<div>
		<span class="method-title">simpleid_checkid_ok</span> (line <span class="line-number"><a href="../__filesource/fsource_simpleid__wwwindex.php.html#a730">730</a></span>)
	</div> 

	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Returns an OpenID response indicating a positive assertion.</p>
	<ul class="tags">
				<li><span class="field">return:</span> an OpenID response with a positive assertion</li>
				<li><span class="field">link:</span> <a href="http://openid.net/specs/openid-authentication-1_1.html#anchor17">http://openid.net/specs/openid-authentication-1_1.html#anchor17, http://openid.net/specs/openid-authentication-1_1.html#anchor23, http://openid.net/specs/openid-authentication-2_0.html#positive_assertions</a>,</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">array</span>
		<span class="method-name">
			simpleid_checkid_ok
		</span>
					(<span class="var-type">array</span>&nbsp;<span class="var-name">$request</span>)
			</div>

			<ul class="parameters">
					<li>
				<span class="var-type">array</span>
				<span class="var-name">$request</span><span class="var-description">: the OpenID request</span>			</li>
				</ul>
		
	
</div>
<a name="functionsimpleid_check_authentication" id="functionsimpleid_check_authentication"><!-- --></a>
<div class="evenrow">
	
	<div>
		<span class="method-title">simpleid_check_authentication</span> (line <span class="line-number"><a href="../__filesource/fsource_simpleid__wwwindex.php.html#a907">907</a></span>)
	</div> 

	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Processes a direct verification request.  This is used in the OpenID specification  to verify signatures generated using stateless mode.</p>
	<ul class="tags">
				<li><span class="field">see:</span> mode_check_authentication, verifying_signatures</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">void</span>
		<span class="method-name">
			simpleid_check_authentication
		</span>
					(<span class="var-type">array</span>&nbsp;<span class="var-name">$request</span>)
			</div>

			<ul class="parameters">
					<li>
				<span class="var-type">array</span>
				<span class="var-name">$request</span><span class="var-description">: the OpenID request</span>			</li>
				</ul>
		
	
</div>
<a name="functionsimpleid_continue" id="functionsimpleid_continue"><!-- --></a>
<div class="oddrow">
	
	<div>
		<span class="method-title">simpleid_continue</span> (line <span class="line-number"><a href="../__filesource/fsource_simpleid__wwwindex.php.html#a993">993</a></span>)
	</div> 

	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Continues an OpenID authentication request.</p>
<p class="description"><p>This function decodes an OpenID authentication request specified in the  s request parameter and feeds it to the  <a href="../simpleid/_www---index.php.html#functionsimpleid_process_openid">simpleid_process_openid</a> function.  This allows SimpleID to preserve  the state of an OpenID request.</p></p>
	
	<div class="method-signature">
		<span class="method-result">void</span>
		<span class="method-name">
			simpleid_continue
		</span>
				()
			</div>

		
	
</div>
<a name="functionsimpleid_get_rp_info" id="functionsimpleid_get_rp_info"><!-- --></a>
<div class="evenrow">
	
	<div>
		<span class="method-title">simpleid_get_rp_info</span> (line <span class="line-number"><a href="../__filesource/fsource_simpleid__wwwindex.php.html#a688">688</a></span>)
	</div> 

	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Obtains information on a relying party by performing discovery on them.  Information  obtained includes the discovery URL, the parsed XRDS document, and any other  information saved by SimpleID extensions</p>
<p class="description"><p>The results are cached for 1 hour.  For performance reasons, stale results may  be obtained by using the $allow_stale parameter</p></p>
	<ul class="tags">
				<li><span class="field">return:</span> containing information on a relying party.</li>
				<li><span class="field">link:</span> <a href="http://openid.net/specs/openid-authentication-2_0.html#rp_discovery">http://openid.net/specs/openid-authentication-2_0.html#rp_discovery</a></li>
				<li><span class="field">since:</span> 0.8</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">array</span>
		<span class="method-name">
			simpleid_get_rp_info
		</span>
					(<span class="var-type">string</span>&nbsp;<span class="var-name">$realm</span>, [<span class="var-type">bool</span>&nbsp;<span class="var-name">$allow_stale</span> = <span class="var-default">FALSE</span>])
			</div>

			<ul class="parameters">
					<li>
				<span class="var-type">string</span>
				<span class="var-name">$realm</span><span class="var-description">: the openid.realm parameter</span>			</li>
					<li>
				<span class="var-type">bool</span>
				<span class="var-name">$allow_stale</span><span class="var-description">: allow stale results to be returned, otherwise discovery  will occur</span>			</li>
				</ul>
		
	
</div>
<a name="functionsimpleid_index" id="functionsimpleid_index"><!-- --></a>
<div class="oddrow">
	
	<div>
		<span class="method-title">simpleid_index</span> (line <span class="line-number"><a href="../__filesource/fsource_simpleid__wwwindex.php.html#a224">224</a></span>)
	</div> 

	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">The default route, called when the q parameter is missing or is invalid.</p>
<p class="description"><p>This function performs the following:</p><p><ul><li>If openid.mode is present, then the request is an OpenID request.  This
   is passed to <a href="../simpleid/_www---index.php.html#functionsimpleid_process_openid">simpleid_process_openid()</a></li><li>If the Accept HTTP header contains the expression application/xrds+xml, then
   the request is a YADIS discovery request for SimpleID as an OpenID provider.  Thi
   is passed to <a href="../simpleid/_www---index.php.html#functionsimpleid_xrds">simpleid_xrds()</a></li><li>Otherwise, the dashboard or the login page is displayed to the user as
   appropriate</li></ul></p></p>
	
	<div class="method-signature">
		<span class="method-result">void</span>
		<span class="method-name">
			simpleid_index
		</span>
				()
			</div>

		
	
</div>
<a name="functionsimpleid_openid_consent" id="functionsimpleid_openid_consent"><!-- --></a>
<div class="evenrow">
	
	<div>
		<span class="method-title">simpleid_openid_consent</span> (line <span class="line-number"><a href="../__filesource/fsource_simpleid__wwwindex.php.html#a1088">1088</a></span>)
	</div> 

	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Processes a user response from the <a href="../simpleid/_www---index.php.html#functionsimpleid_openid_consent_form">simpleid_openid_consent_form()</a> function.</p>
<p class="description"><p>If the user verifies the relying party, an OpenID response will be sent to  the relying party.  Otherwise, the dashboard will be displayed to the user.</p></p>
	
	<div class="method-signature">
		<span class="method-result">void</span>
		<span class="method-name">
			simpleid_openid_consent
		</span>
				()
			</div>

		
	
</div>
<a name="functionsimpleid_openid_consent_form" id="functionsimpleid_openid_consent_form"><!-- --></a>
<div class="oddrow">
	
	<div>
		<span class="method-title">simpleid_openid_consent_form</span> (line <span class="line-number"><a href="../__filesource/fsource_simpleid__wwwindex.php.html#a1016">1016</a></span>)
	</div> 

	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Provides a form for user consent of an OpenID relying party, where the  <a href="../simpleid/_www---index.php.html#functionsimpleid_checkid_identity">simpleid_checkid_identity()</a> function returns a CHECKID_APPROVAL_REQUIRED  or CHECKID_RETURN_TO_SUSPECT.</p>
<p class="description"><p>Alternatively, provide a form for the user to rectify the situation where  <a href="../simpleid/_www---index.php.html#functionsimpleid_checkid_identity">simpleid_checkid_identity()</a> function returns a CHECKID_IDENTITIES_NOT_MATCHING  or CHECKID_IDENTITY_NOT_EXIST</p></p>
	
	<div class="method-signature">
		<span class="method-result">void</span>
		<span class="method-name">
			simpleid_openid_consent_form
		</span>
					(<span class="var-type">array</span>&nbsp;<span class="var-name">$request</span>, <span class="var-type">array</span>&nbsp;<span class="var-name">$response</span>, [<span class="var-type">int</span>&nbsp;<span class="var-name">$reason</span> = <span class="var-default">CHECKID_APPROVAL_REQUIRED</span>])
			</div>

			<ul class="parameters">
					<li>
				<span class="var-type">array</span>
				<span class="var-name">$request</span><span class="var-description">: the original OpenID request</span>			</li>
					<li>
				<span class="var-type">array</span>
				<span class="var-name">$response</span><span class="var-description">: the proposed OpenID response, subject to user  verification</span>			</li>
					<li>
				<span class="var-type">int</span>
				<span class="var-name">$reason</span><span class="var-description">: either CHECKID_APPROVAL_REQUIRED, CHECKID_RETURN_TO_SUSPECT,  CHECKID_IDENTITIES_NOT_MATCHING or CHECKID_IDENTITY_NOT_EXIST</span>			</li>
				</ul>
		
	
</div>
<a name="functionsimpleid_process_openid" id="functionsimpleid_process_openid"><!-- --></a>
<div class="evenrow">
	
	<div>
		<span class="method-title">simpleid_process_openid</span> (line <span class="line-number"><a href="../__filesource/fsource_simpleid__wwwindex.php.html#a258">258</a></span>)
	</div> 

	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Process an OpenID request.</p>
<p class="description"><p>This function determines the version of the OpenID specification that is  relevant to this request, checks openid.mode and passes the  request on to the function required to process the request.</p><p>The OpenID request expressed as an array contain key-value pairs corresponding  to the HTTP request.  This is usually contained in the <div class="src-code"><ol><li><div class="src-line"><span class="src-var">$_REQUEST</span></div></li>
</ol></div>  variable.</p></p>
	
	<div class="method-signature">
		<span class="method-result">void</span>
		<span class="method-name">
			simpleid_process_openid
		</span>
					(<span class="var-type">array</span>&nbsp;<span class="var-name">$request</span>)
			</div>

			<ul class="parameters">
					<li>
				<span class="var-type">array</span>
				<span class="var-name">$request</span><span class="var-description">: the OpenID request</span>			</li>
				</ul>
		
	
</div>
<a name="functionsimpleid_route" id="functionsimpleid_route"><!-- --></a>
<div class="oddrow">
	
	<div>
		<span class="method-title">simpleid_route</span> (line <span class="line-number"><a href="../__filesource/fsource_simpleid__wwwindex.php.html#a189">189</a></span>)
	</div> 

	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Dispatches to the correct SimpleID function based on the request path.  The  request path usually comes from the q parameter in the query string (which may  be inserted by mod_rewrite), but can come from other functions as well.</p>
	
	<div class="method-signature">
		<span class="method-result">void</span>
		<span class="method-name">
			simpleid_route
		</span>
					(<span class="var-type">string</span>&nbsp;<span class="var-name">$q</span>)
			</div>

			<ul class="parameters">
					<li>
				<span class="var-type">string</span>
				<span class="var-name">$q</span><span class="var-description">: the request path</span>			</li>
				</ul>
		
	
</div>
<a name="functionsimpleid_set_rp_info" id="functionsimpleid_set_rp_info"><!-- --></a>
<div class="evenrow">
	
	<div>
		<span class="method-title">simpleid_set_rp_info</span> (line <span class="line-number"><a href="../__filesource/fsource_simpleid__wwwindex.php.html#a718">718</a></span>)
	</div> 

	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Saves information on a relying party to disk.</p>
	<ul class="tags">
				<li><span class="field">since:</span> 0.8</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">void</span>
		<span class="method-name">
			simpleid_set_rp_info
		</span>
					(<span class="var-type">string</span>&nbsp;<span class="var-name">$realm</span>, <span class="var-type">array</span>&nbsp;<span class="var-name">$rp_info</span>)
			</div>

			<ul class="parameters">
					<li>
				<span class="var-type">string</span>
				<span class="var-name">$realm</span><span class="var-description">: the openid.realm parameter</span>			</li>
					<li>
				<span class="var-type">array</span>
				<span class="var-name">$rp_info</span><span class="var-description">: containing information on a relying party.</span>			</li>
				</ul>
		
	
</div>
<a name="functionsimpleid_sign" id="functionsimpleid_sign"><!-- --></a>
<div class="oddrow">
	
	<div>
		<span class="method-title">simpleid_sign</span> (line <span class="line-number"><a href="../__filesource/fsource_simpleid__wwwindex.php.html#a849">849</a></span>)
	</div> 

	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Signs an OpenID response, using signature information from an association  handle.</p>
	<ul class="tags">
				<li><span class="field">return:</span> the signed OpenID response</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">array</span>
		<span class="method-name">
			simpleid_sign
		</span>
					(<span class="var-type">array</span>&nbsp;<span class="var-name">&$response</span>, [<span class="var-type">array</span>&nbsp;<span class="var-name">$assoc_handle</span> = <span class="var-default">NULL</span>])
			</div>

			<ul class="parameters">
					<li>
				<span class="var-type">array</span>
				<span class="var-name">&$response</span><span class="var-description">: the OpenID response</span>			</li>
					<li>
				<span class="var-type">array</span>
				<span class="var-name">$assoc_handle</span><span class="var-description">: the association handle containing key information  for the signature.  If $assoc_handle is not specified, a private association  is created</span>			</li>
				</ul>
		
	
</div>
<a name="functionsimpleid_start" id="functionsimpleid_start"><!-- --></a>
<div class="evenrow">
	
	<div>
		<span class="method-title">simpleid_start</span> (line <span class="line-number"><a href="../__filesource/fsource_simpleid__wwwindex.php.html#a105">105</a></span>)
	</div> 

	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Entry point for SimpleID.</p>
	<ul class="tags">
				<li><span class="field">see:</span> <a href="../simpleid/_www---user.inc.php.html#functionuser_init">user_init()</a></li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">void</span>
		<span class="method-name">
			simpleid_start
		</span>
				()
			</div>

		
	
</div>
<a name="functionsimpleid_verify_signatures" id="functionsimpleid_verify_signatures"><!-- --></a>
<div class="oddrow">
	
	<div>
		<span class="method-title">simpleid_verify_signatures</span> (line <span class="line-number"><a href="../__filesource/fsource_simpleid__wwwindex.php.html#a942">942</a></span>)
	</div> 

	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Verifies the signature of a signed OpenID request/response.</p>
	<ul class="tags">
				<li><span class="field">return:</span> true if the signature is verified</li>
				<li><span class="field">since:</span> 0.8</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">bool</span>
		<span class="method-name">
			simpleid_verify_signatures
		</span>
					(<span class="var-type">array</span>&nbsp;<span class="var-name">$request</span>)
			</div>

			<ul class="parameters">
					<li>
				<span class="var-type">array</span>
				<span class="var-name">$request</span><span class="var-description">: the OpenID request/response</span>			</li>
				</ul>
		
	
</div>
<a name="functionsimpleid_xrds" id="functionsimpleid_xrds"><!-- --></a>
<div class="evenrow">
	
	<div>
		<span class="method-title">simpleid_xrds</span> (line <span class="line-number"><a href="../__filesource/fsource_simpleid__wwwindex.php.html#a1182">1182</a></span>)
	</div> 

	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Displays the XRDS document for this SimpleID installation.</p>
	
	<div class="method-signature">
		<span class="method-result">void</span>
		<span class="method-name">
			simpleid_xrds
		</span>
				()
			</div>

		
	
</div>
<a name="function_simpleid_create_association" id="function_simpleid_create_association"><!-- --></a>
<div class="oddrow">
	
	<div>
		<span class="method-title">_simpleid_create_association</span> (line <span class="line-number"><a href="../__filesource/fsource_simpleid__wwwindex.php.html#a379">379</a></span>)
	</div> 

	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Creates an association.</p>
<p class="description"><p>This function calls <a href="../simpleid/_www---openid.inc.php.html#functionopenid_dh_server_assoc">openid_dh_server_assoc()</a> where required, to  generate the cryptographic values required for an association response.</p></p>
	<ul class="tags">
				<li><span class="field">return:</span> if $mode is ASSOCIATION_SHARED, an OpenID response  to the association request, if $mode is ASSOCIATION_PRIVATE, the  association data for storage.</li>
				<li><span class="field">link:</span> <a href="http://openid.net/specs/openid-authentication-1_1.html#anchor14">http://openid.net/specs/openid-authentication-1_1.html#anchor14, http://openid.net/specs/openid-authentication-2_0.html#anchor20</a>,</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">mixed</span>
		<span class="method-name">
			_simpleid_create_association
		</span>
					([<span class="var-type">int</span>&nbsp;<span class="var-name">$mode</span> = <span class="var-default">ASSOCIATION_SHARED</span>], [<span class="var-type">string</span>&nbsp;<span class="var-name">$assoc_type</span> = <span class="var-default">&#039;HMAC-SHA1&#039;</span>], [<span class="var-type">string</span>&nbsp;<span class="var-name">$session_type</span> = <span class="var-default">&#039;no-encryption&#039;</span>], [<span class="var-type">string</span>&nbsp;<span class="var-name">$dh_modulus</span> = <span class="var-default">NULL</span>], [<span class="var-type">string</span>&nbsp;<span class="var-name">$dh_gen</span> = <span class="var-default">NULL</span>], [<span class="var-type">string</span>&nbsp;<span class="var-name">$dh_consumer_public</span> = <span class="var-default">NULL</span>])
			</div>

			<ul class="parameters">
					<li>
				<span class="var-type">int</span>
				<span class="var-name">$mode</span><span class="var-description">: either ASSOCIATION_SHARED or ASSOCIATION_PRIVATE</span>			</li>
					<li>
				<span class="var-type">string</span>
				<span class="var-name">$assoc_type</span><span class="var-description">: a valid OpenID association type</span>			</li>
					<li>
				<span class="var-type">string</span>
				<span class="var-name">$session_type</span><span class="var-description">: a valid OpenID session type</span>			</li>
					<li>
				<span class="var-type">string</span>
				<span class="var-name">$dh_modulus</span><span class="var-description">: for Diffie-Hellman key exchange, the modulus encoded in Base64</span>			</li>
					<li>
				<span class="var-type">string</span>
				<span class="var-name">$dh_gen</span><span class="var-description">: for Diffie-Hellman key exchange, g encoded in Base64</span>			</li>
					<li>
				<span class="var-type">string</span>
				<span class="var-name">$dh_consumer_public</span><span class="var-description">: for Diffie-Hellman key exchange, the public key of the relying party encoded in Base64</span>			</li>
				</ul>
		
	
</div>
		</div>
	</div>
	
	<p class="notes" id="credit">
		Documentation generated on Mon, 06 Apr 2015 15:24:40 +1000 by <a href="http://www.phpdoc.org" target="_blank">phpDocumentor 1.4.1</a>
	</p>
	</div></body>
</html>