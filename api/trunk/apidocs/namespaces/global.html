<!DOCTYPE html><html xmlns:date="http://exslt.org/dates-and-times" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="viewport" content="width=device-width; initial-scale=1.0; maximum-scale=1.0; user-scalable=0;">
<meta charset="utf-8">
<title>SimpleID API Documentation (trunk) » global</title>
<meta name="author" content="Mike van Riel">
<meta name="description" content="">
<link href="../css/template.css" rel="stylesheet" media="all">
<script src="../js/jquery-1.7.1.min.js" type="text/javascript"></script><script src="../js/jquery-ui-1.8.2.custom.min.js" type="text/javascript"></script><script src="../js/jquery.mousewheel.min.js" type="text/javascript"></script><script src="../js/bootstrap.js" type="text/javascript"></script><script src="../js/template.js" type="text/javascript"></script><script src="../js/prettify/prettify.min.js" type="text/javascript"></script><link rel="shortcut icon" href="../img/favicon.ico">
<link rel="apple-touch-icon" href="../img/apple-touch-icon.png">
<link rel="apple-touch-icon" sizes="72x72" href="../img/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="114x114" href="../img/apple-touch-icon-114x114.png">
</head>
<body>
<div class="navbar navbar-fixed-top">
<div class="navbar-inner"><div class="container">
<a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse"><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></a><a class="brand" href="../index.html">SimpleID API Documentation (trunk)</a><div class="nav-collapse"><ul class="nav">
<li class="dropdown">
<a href="#api" class="dropdown-toggle" data-toggle="dropdown">
                                    API Documentation <b class="caret"></b></a><ul class="dropdown-menu">
<li><a>Packages</a></li>
<li><a href="../packages/extensions.html"><i class="icon-folder-open"></i> extensions</a></li>
<li><a href="../packages/simpleid.html"><i class="icon-folder-open"></i> simpleid</a></li>
<li><a href="../packages/simpleweb.html"><i class="icon-folder-open"></i> simpleweb</a></li>
</ul>
</li>
<li class="dropdown" id="charts-menu">
<a href="#charts" class="dropdown-toggle" data-toggle="dropdown">
                                    Charts <b class="caret"></b></a><ul class="dropdown-menu"><li><a href="../graph_class.html"><i class="icon-list-alt"></i> Class hierarchy diagram</a></li></ul>
</li>
<li class="dropdown" id="reports-menu">
<a href="#reports" class="dropdown-toggle" data-toggle="dropdown">
                                    Reports <b class="caret"></b></a><ul class="dropdown-menu">
<li><a href="../errors.html"><i class="icon-remove-sign"></i> Errors 
                <span class="label label-info">52</span></a></li>
<li><a href="../markers.html"><i class="icon-map-marker"></i> Markers 
                <ul></ul></a></li>
<li><a href="../deprecated.html"><i class="icon-stop"></i> Deprecated elements 
                <span class="label label-info">3</span></a></li>
</ul>
</li>
</ul></div>
</div></div>
<div class="go_to_top"><a href="#___" style="color: inherit">Back to top  <i class="icon-upload icon-white"></i></a></div>
</div>
<div id="___" class="container">
<noscript><div class="alert alert-warning">
                            Javascript is disabled; several features are only available
                            if Javascript is enabled.
                        </div></noscript>
<div class="row">
<div class="span4">
<div class="btn-group view pull-right" data-toggle="buttons-radio">
<button class="btn details" title="Show descriptions and method names"><i class="icon-list"></i></button><button class="btn simple" title="Show only method names"><i class="icon-align-justify"></i></button>
</div>
<ul class="side-nav nav nav-list">
<li class="nav-header">
<i class="icon-map-marker"></i> Namespaces</li>
<li>
<a href="../namespaces/global.html" title="global"><i class="icon-th"></i>global</a><ul class="nav nav-list nav-namespaces"></ul>
</li>
</ul>
</div>
<div class="span8 namespace-contents">
<ul class="breadcrumb">
<li>
<a href="../index.html"><i class="icon-th"></i></a><span class="divider">\</span>
</li>
<li class="active"><a href="../namespaces/global.html">global</a></li>
</ul>
<div class="namespace-indent">
<h3>
<i class="icon-custom icon-function"></i> Functions</h3>
<a name="_ax_get_value" id="_ax_get_value"></a><div class="element clickable function  _ax_get_value" data-toggle="collapse" data-target="._ax_get_value .collapse">
<h2>Looks up the value of a specified Attribute Exchange Extension type URI.</h2>
<pre>_ax_get_value(string $type) : string</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>This function looks up the ax section of the user's identity file.  If the
specified type cannot be found, it looks up the corresponding field in the
OpenID Connect user information (user_info section) and the Simple Registration
Extension (sreg section).</p></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$type</h4>
<code>string</code><p>the type URI to look up</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>string</code>the value or NULL if not found</div>
</div></div>
</div>
<a name="_cache_get_name" id="_cache_get_name"></a><div class="element clickable function  _cache_get_name" data-toggle="collapse" data-target="._cache_get_name .collapse">
<h2>Returns the name of the cache data file, given a type and an identifier.</h2>
<pre>_cache_get_name(string $type, string $key) : string</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$type</h4>
<code>string</code><p>the type of data in the cache</p></div>
<div class="subelement argument">
<h4>$key</h4>
<code>string</code><p>an identifier</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>string</code>a file name</div>
</div></div>
</div>
<a name="_certauth_has_client_cert" id="_certauth_has_client_cert"></a><div class="element clickable function  _certauth_has_client_cert" data-toggle="collapse" data-target="._certauth_has_client_cert .collapse">
<h2>Determines whether the user agent supplied valid a certificate identifying the
user.</h2>
<pre>_certauth_has_client_cert() : true</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>A valid certificate is supplied if all of the following occurs:</p>

<ul>
<li>the connection is done using HTTPS (i.e. <a href="is_https()">is_https()</a> is true)</li>
<li>the web server has been set up to request a certificate from the user agent</li>
<li>the web server has been set up to pass the certificate details to PHP</li>
<li>the certificate has not been revoked</li>
<li>the certificate contains a serial number and a valid issuer</li>
</ul></p>
<h3>Returns</h3>
<div class="subelement response">
<code>true</code>if the user agent has supplied a valid SSL certificate</div>
</div></div>
</div>
<a name="_discovery_link_rel" id="_discovery_link_rel"></a><div class="element clickable function  _discovery_link_rel" data-toggle="collapse" data-target="._discovery_link_rel .collapse">
<h2>Searches through an HTML document to obtain the value of a link
element with a specified rel attribute.</h2>
<pre>_discovery_link_rel(string $rel, string $html) : mixed</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$rel</h4>
<code>string</code><p>the rel attribute for which to search</p></div>
<div class="subelement argument">
<h4>$html</h4>
<code>string</code><p>the HTML document to search</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>mixed</code>the href of the link element, or FALSE if the element is not found</div>
</div></div>
</div>
<a name="_discovery_meta_httpequiv" id="_discovery_meta_httpequiv"></a><div class="element clickable function  _discovery_meta_httpequiv" data-toggle="collapse" data-target="._discovery_meta_httpequiv .collapse">
<h2>Searches through an HTML document to obtain the value of a meta
element with a specified http-equiv attribute.</h2>
<pre>_discovery_meta_httpequiv(string $equiv, string $html) : mixed</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$equiv</h4>
<code>string</code><p>the http-equiv attribute for which to search</p>
</div>
<div class="subelement argument">
<h4>$html</h4>
<code>string</code><p>the HTML document to search</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>mixed</code>the value of the meta element, or FALSE if the element is not found</div>
</div></div>
</div>
<a name="_get_form_token" id="_get_form_token"></a><div class="element clickable function  _get_form_token" data-toggle="collapse" data-target="._get_form_token .collapse">
<h2>_get_form_token()
        </h2>
<pre>_get_form_token($site_token, $id, $bind_session) </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<h3>Parameters</h3>
<div class="subelement argument"><h4>$site_token</h4></div>
<div class="subelement argument"><h4>$id</h4></div>
<div class="subelement argument"><h4>$bind_session</h4></div>
</div></div>
</div>
<a name="_http_make_request_curl" id="_http_make_request_curl"></a><div class="element clickable function  _http_make_request_curl" data-toggle="collapse" data-target="._http_make_request_curl .collapse">
<h2>Performs an HTTP request using libcurl.</h2>
<pre>_http_make_request_curl(string $url, array $headers, string $body, string $method, int $retry) : array</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$url</h4>
<code>string</code><p>the URL</p></div>
<div class="subelement argument">
<h4>$headers</h4>
<code>array</code><p>HTTP headers containing name => value pairs</p>
</div>
<div class="subelement argument">
<h4>$body</h4>
<code>string</code><p>the request body</p></div>
<div class="subelement argument">
<h4>$method</h4>
<code>string</code><p>the HTTP request method</p></div>
<div class="subelement argument">
<h4>$retry</h4>
<code>int</code><p>the maximum number of redirects allowed</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>array</code>containing keys 'error-code' (for communication errors), 'error' (for communication errors), 'data' (content returned), 'code' (the HTTP status code), 'http-error' (if the HTTP status code is not 200 or 304), 'headers' (an array of return headers), 'content-type' (the HTTP content-type returned)</div>
</div></div>
</div>
<a name="_http_make_request_fsock" id="_http_make_request_fsock"></a><div class="element clickable function  _http_make_request_fsock" data-toggle="collapse" data-target="._http_make_request_fsock .collapse">
<h2>Performs an HTTP request using sockets.</h2>
<pre>_http_make_request_fsock(string $url, array $headers, string $body, string $method, int $retry) : array</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$url</h4>
<code>string</code><p>the URL</p></div>
<div class="subelement argument">
<h4>$headers</h4>
<code>array</code><p>HTTP headers containing name => value pairs</p>
</div>
<div class="subelement argument">
<h4>$body</h4>
<code>string</code><p>the request body</p></div>
<div class="subelement argument">
<h4>$method</h4>
<code>string</code><p>the HTTP request method</p></div>
<div class="subelement argument">
<h4>$retry</h4>
<code>int</code><p>the maximum number of redirects allowed</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>array</code>containing keys 'error-code' (for communication errors), 'error' (for communication errors), 'data' (content returned), 'code' (the HTTP status code), 'http-error' (if the HTTP status code is not 200 or 304), 'headers' (an array of return headers), 'content-type' (the HTTP content-type returned)</div>
</div></div>
</div>
<a name="_http_parse_headers" id="_http_parse_headers"></a><div class="element clickable function  _http_parse_headers" data-toggle="collapse" data-target="._http_parse_headers .collapse">
<h2>Parses HTTP response headers.</h2>
<pre>_http_parse_headers(string $header_block, bool $curl) : \an</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$header_block</h4>
<code>string</code><p>the unparsed header block</p></div>
<div class="subelement argument">
<h4>$curl</h4>
<code>bool</code><p>if true, use simplified parsing as libcurl already parses the headers</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>\an</code>array containing the following keys: 'protocol' (the HTTP protocol in the response), 'headers' (an array of return headers in lowercase). If $curl is false, additional parsing is done for 'code' and 'content-type'</div>
</div></div>
</div>
<a name="_log_write" id="_log_write"></a><div class="element clickable function  _log_write" data-toggle="collapse" data-target="._log_write .collapse">
<h2>Logs a message</h2>
<pre>_log_write(string $message, int $level) : bool</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$message</h4>
<code>string</code><p>the message to log</p></div>
<div class="subelement argument">
<h4>$level</h4>
<code>int</code><p>the log level</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>bool</code>true if the log has been written successfully</div>
</div></div>
</div>
<a name="_openid_base64_to_bignum" id="_openid_base64_to_bignum"></a><div class="element clickable function  _openid_base64_to_bignum" data-toggle="collapse" data-target="._openid_base64_to_bignum .collapse">
<h2>Converts an arbitary precision integer, encoded in Base64, to a bignum</h2>
<pre>_openid_base64_to_bignum(string $str) : resource</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$str</h4>
<code>string</code><p>arbitary precision integer, encoded in Base64</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>resource</code>the string representation</div>
</div></div>
</div>
<a name="_openid_bignum_to_base64" id="_openid_bignum_to_base64"></a><div class="element clickable function  _openid_bignum_to_base64" data-toggle="collapse" data-target="._openid_bignum_to_base64 .collapse">
<h2>Converts a string representation of an integer to an arbitary precision
integer, then converts it to Base64 encoding.</h2>
<pre>_openid_bignum_to_base64(string $str) : string</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$str</h4>
<code>string</code><p>the string representation</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>string</code>the Base64 encoded arbitary precision integer</div>
</div></div>
</div>
<a name="_openid_btwoc" id="_openid_btwoc"></a><div class="element clickable function  _openid_btwoc" data-toggle="collapse" data-target="._openid_btwoc .collapse">
<h2>Encode an integer as big-endian signed two's complement binary string.</h2>
<pre>_openid_btwoc(string $num) : string</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<table class="table table-bordered"><tr>
<th>link</th>
<td><a href="http://openid.net/specs/openid-authentication-2_0.html#btwoc">http://openid.net/specs/openid-authentication-2_0.html#btwoc</a></td>
</tr></table>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$num</h4>
<code>string</code><p>the binary integer</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>string</code>the signed two's complement binary string</div>
</div></div>
</div>
<a name="_openid_dh_rand" id="_openid_dh_rand"></a><div class="element clickable function  _openid_dh_rand" data-toggle="collapse" data-target="._openid_dh_rand .collapse">
<h2>Generates a random integer, which will be used to derive a private key
for Diffie-Hellman key exchange.</h2>
<pre>_openid_dh_rand(resource $stop) : resource</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>The integer must be less than $stop</p></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$stop</h4>
<code>resource</code><p>a prime number as a bignum</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>resource</code>the random integer as a bignum</div>
</div></div>
</div>
<a name="_openid_hmac_sha1" id="_openid_hmac_sha1"></a><div class="element clickable function  _openid_hmac_sha1" data-toggle="collapse" data-target="._openid_hmac_sha1 .collapse">
<h2>Obtains the keyed hash value using the HMAC method and the SHA1 algorithm</h2>
<pre>_openid_hmac_sha1(string $key, string $text) : string</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$key</h4>
<code>string</code><p>the key in binary representation</p></div>
<div class="subelement argument">
<h4>$text</h4>
<code>string</code><p>the text to be hashed</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>string</code>the hash in binary representation</div>
</div></div>
</div>
<a name="_openid_hmac_sha256" id="_openid_hmac_sha256"></a><div class="element clickable function  _openid_hmac_sha256" data-toggle="collapse" data-target="._openid_hmac_sha256 .collapse">
<h2>Obtains the keyed hash value using the HMAC method and the SHA256 algorithm</h2>
<pre>_openid_hmac_sha256(string $key, string $text) : string</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$key</h4>
<code>string</code><p>the key in binary representation</p></div>
<div class="subelement argument">
<h4>$text</h4>
<code>string</code><p>the text to be hashed</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>string</code>the hash in binary representation</div>
</div></div>
</div>
<a name="_openid_sha1" id="_openid_sha1"></a><div class="element clickable function  _openid_sha1" data-toggle="collapse" data-target="._openid_sha1 .collapse">
<h2>Obtains the SHA1 hash of a string in binary representation.</h2>
<pre>_openid_sha1(string $text) : string</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$text</h4>
<code>string</code><p>the text to be hashed</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>string</code>the hash in binary representation</div>
</div></div>
</div>
<a name="_openid_sha256" id="_openid_sha256"></a><div class="element clickable function  _openid_sha256" data-toggle="collapse" data-target="._openid_sha256 .collapse">
<h2>Obtains the SHA256 hash of a string in binary representation.</h2>
<pre>_openid_sha256(string $text) : string</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$text</h4>
<code>string</code><p>the text to be hashed</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>string</code>$hash the hash in binary representation</div>
</div></div>
</div>
<a name="_openid_signature_base_string" id="_openid_signature_base_string"></a><div class="element clickable function  _openid_signature_base_string" data-toggle="collapse" data-target="._openid_signature_base_string .collapse">
<h2>Calculates the base string from which an OpenID signature is generated.</h2>
<pre>_openid_signature_base_string(array $data, float $version) : string</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>OpenID versions 1 and 2 specify that messages are to be encoded using Key-Value
Encoding when generating signatures.  However, future OpenID version may
specify different ways of encoding the message, such as OAuth.</p></p>
<table class="table table-bordered"><tr>
<th>link</th>
<td><a href="http://openid.net/specs/openid-authentication-2_0.html#anchor11">http://openid.net/specs/openid-authentication-2_0.html#anchor11</a></td>
</tr></table>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$data</h4>
<code>array</code><p>the data to sign</p></div>
<div class="subelement argument">
<h4>$version</h4>
<code>float</code><p>the OpenID version</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>string</code>the signature base string</div>
</div></div>
</div>
<a name="_openid_xor" id="_openid_xor"></a><div class="element clickable function  _openid_xor" data-toggle="collapse" data-target="._openid_xor .collapse">
<h2>Encrypts/decrypts using XOR.</h2>
<pre>_openid_xor(string $key, string $plain_cipher, string $hash_func) : string</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$key</h4>
<code>string</code><p>the encryption key as a bignum. This is usually the shared secret (ZZ) calculated from the Diffie-Hellman key exchange</p>
</div>
<div class="subelement argument">
<h4>$plain_cipher</h4>
<code>string</code><p>the plaintext or ciphertext</p></div>
<div class="subelement argument">
<h4>$hash_func</h4>
<code>string</code><p>the hash function</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>string</code>the ciphertext or plaintext</div>
</div></div>
</div>
<a name="_page_dashboard_otp_block" id="_page_dashboard_otp_block"></a><div class="element clickable function  _page_dashboard_otp_block" data-toggle="collapse" data-target="._page_dashboard_otp_block .collapse">
<h2>Returns the dashboard OTP block.</h2>
<pre>_page_dashboard_otp_block() : array</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<h3>Returns</h3>
<div class="subelement response">
<code>array</code>the dashboard OTP block</div>
</div></div>
</div>
<a name="_page_discovery_block" id="_page_discovery_block"></a><div class="element clickable function  _page_discovery_block" data-toggle="collapse" data-target="._page_discovery_block .collapse">
<h2>Returns a block containing discovery information.</h2>
<pre>_page_discovery_block() : array</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<h3>Returns</h3>
<div class="subelement response">
<code>array</code>the discovery block</div>
</div></div>
</div>
<a name="_page_sites_sort" id="_page_sites_sort"></a><div class="element clickable function  _page_sites_sort" data-toggle="collapse" data-target="._page_sites_sort .collapse">
<h2>A custom sort function for realms.</h2>
<pre>_page_sites_sort(string $a, string $b) : int</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>This strips out the following:</p>

<ul>
<li>http://</li>
<li>https://</li>
<li>www.</li>
<li>*.</li>
</ul></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$a</h4>
<code>string</code>
</div>
<div class="subelement argument">
<h4>$b</h4>
<code>string</code>
</div>
<h3>Returns</h3>
<div class="subelement response"><code>int</code></div>
</div></div>
</div>
<a name="_page_welcome_block" id="_page_welcome_block"></a><div class="element clickable function  _page_welcome_block" data-toggle="collapse" data-target="._page_welcome_block .collapse">
<h2>Returns the welcome block.</h2>
<pre>_page_welcome_block() : array</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<h3>Returns</h3>
<div class="subelement response">
<code>array</code>the welcome block</div>
</div></div>
</div>
<a name="_pape_identifier_select" id="_pape_identifier_select"></a><div class="element clickable function  _pape_identifier_select" data-toggle="collapse" data-target="._pape_identifier_select .collapse">
<h2>Sets and returns whether the current OpenID request is requesting an identity.</h2>
<pre>_pape_identifier_select(bool $identifier_select) : bool</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$identifier_select</h4>
<code>bool</code>
</div>
<h3>Returns</h3>
<div class="subelement response">
<code>bool</code>whether the current OpenID request is requesting an identity</div>
</div></div>
</div>
<a name="_pape_ppid" id="_pape_ppid"></a><div class="element clickable function  _pape_ppid" data-toggle="collapse" data-target="._pape_ppid .collapse">
<h2>Generates a private personal identifier (PPID).</h2>
<pre>_pape_ppid(string $identity, string $realm) : string</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>The PPID is an opaque identifier
for a particular user-RP pair</p></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$identity</h4>
<code>string</code><p>the identity of the user</p></div>
<div class="subelement argument">
<h4>$realm</h4>
<code>string</code><p>the URL of the relying party</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>string</code>the PPID</div>
</div></div>
</div>
<a name="_simpleid_create_association" id="_simpleid_create_association"></a><div class="element clickable function  _simpleid_create_association" data-toggle="collapse" data-target="._simpleid_create_association .collapse">
<h2>Creates an association.</h2>
<pre>_simpleid_create_association(int $mode, string $assoc_type, string $session_type, string $dh_modulus, string $dh_gen, string $dh_consumer_public) : mixed</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>This function calls <a href="openid_dh_server_assoc()">openid_dh_server_assoc()</a> where required, to
generate the cryptographic values required for an association response.</p></p>
<table class="table table-bordered"><tr>
<th>link</th>
<td><a href="http://openid.net/specs/openid-authentication-1_1.html#anchor14,">http://openid.net/specs/openid-authentication-2_0.html#anchor20</a></td>
</tr></table>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$mode</h4>
<code>int</code><p>either ASSOCIATION_SHARED or ASSOCIATION_PRIVATE</p></div>
<div class="subelement argument">
<h4>$assoc_type</h4>
<code>string</code><p>a valid OpenID association type</p></div>
<div class="subelement argument">
<h4>$session_type</h4>
<code>string</code><p>a valid OpenID session type</p></div>
<div class="subelement argument">
<h4>$dh_modulus</h4>
<code>string</code><p>for Diffie-Hellman key exchange, the modulus encoded in Base64</p>
</div>
<div class="subelement argument">
<h4>$dh_gen</h4>
<code>string</code><p>for Diffie-Hellman key exchange, g encoded in Base64</p>
</div>
<div class="subelement argument">
<h4>$dh_consumer_public</h4>
<code>string</code><p>for Diffie-Hellman key exchange, the public key of the relying party encoded in Base64</p>
</div>
<h3>Returns</h3>
<div class="subelement response">
<code>mixed</code>if $mode is ASSOCIATION_SHARED, an OpenID response to the association request, if $mode is ASSOCIATION_PRIVATE, the association data for storage.</div>
</div></div>
</div>
<a name="_simpleweb_invoke" id="_simpleweb_invoke"></a><div class="element clickable function  _simpleweb_invoke" data-toggle="collapse" data-target="._simpleweb_invoke .collapse">
<h2>Invokes a route.</h2>
<pre>_simpleweb_invoke(string $route, array $args) : mixed</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$route</h4>
<code>string</code><p>the route</p></div>
<div class="subelement argument">
<h4>$args</h4>
<code>array</code><p>the arguments</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>mixed</code>the result from calling the route.</div>
</div></div>
</div>
<a name="_simpleweb_not_found" id="_simpleweb_not_found"></a><div class="element clickable function  _simpleweb_not_found" data-toggle="collapse" data-target="._simpleweb_not_found .collapse">
<h2>Displays a HTTP 404 Not Found error and exits.</h2>
<pre>_simpleweb_not_found() </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description"><p class="long_description"></p></div></div>
</div>
<a name="_sreg_get_value" id="_sreg_get_value"></a><div class="element clickable function  _sreg_get_value" data-toggle="collapse" data-target="._sreg_get_value .collapse">
<h2>Looks up the value of a specified Simple Registration Extension field.</h2>
<pre>_sreg_get_value(string $field) : string</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>This function looks up the sreg section of the user's identity file.  If the
specified field cannot be found, it looks up the corresponding field in the
OpenID Connect user information (user_info section).</p></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$field</h4>
<code>string</code><p>the field to look up</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>string</code>the value or NULL if not found</div>
</div></div>
</div>
<a name="_store_is_valid_name" id="_store_is_valid_name"></a><div class="element clickable function  _store_is_valid_name" data-toggle="collapse" data-target="._store_is_valid_name .collapse">
<h2>Determines whether a name is a valid name for use with this store.</h2>
<pre>_store_is_valid_name(string $name) : boolean</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>For file system storage, a name is not valid if it contains either a
directory separator (i.e. / or &#41;.</p></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$name</h4>
<code>string</code><p>the name to check</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>boolean</code>whether the name is valid for use with this store</div>
</div></div>
</div>
<a name="_ui_get_icon" id="_ui_get_icon"></a><div class="element clickable function  _ui_get_icon" data-toggle="collapse" data-target="._ui_get_icon .collapse">
<h2>Attempts to obtain an icon from a RP</h2>
<pre>_ui_get_icon(string $realm) : array</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$realm</h4>
<code>string</code><p>the openid.realm parameter</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>array</code>the response from {@link http_make_request()} with the discovered URL of the RP's icon</div>
</div></div>
</div>
<a name="_ui_icon_token" id="_ui_icon_token"></a><div class="element clickable function  _ui_icon_token" data-toggle="collapse" data-target="._ui_icon_token .collapse">
<h2>Returns a token to be used when requesting the icon.</h2>
<pre>_ui_icon_token(string $realm) : string</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>The token is used to prevent flooding SimpleID with external requests.</p></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$realm</h4>
<code>string</code><p>the openid.realm parameter</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>string</code>the token</div>
</div></div>
</div>
<a name="_ui_insert_css_js" id="_ui_insert_css_js"></a><div class="element clickable function  _ui_insert_css_js" data-toggle="collapse" data-target="._ui_insert_css_js .collapse">
<h2>Inserts the necessary CSS and JavaScript code to implement the popup mode
from the User Interface extension.</h2>
<pre>_ui_insert_css_js() </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description"><p class="long_description"></p></div></div>
</div>
<a name="_upgrade_version_reverse_sort" id="_upgrade_version_reverse_sort"></a><div class="element clickable function  _upgrade_version_reverse_sort" data-toggle="collapse" data-target="._upgrade_version_reverse_sort .collapse">
<h2>Callback function for uksort() to reverse sort version numbers.</h2>
<pre>_upgrade_version_reverse_sort(string $a, string $b) : int</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$a</h4>
<code>string</code>
</div>
<div class="subelement argument">
<h4>$b</h4>
<code>string</code>
</div>
<h3>Returns</h3>
<div class="subelement response"><code>int</code></div>
</div></div>
</div>
<a name="_user_login" id="_user_login"></a><div class="element clickable function  _user_login" data-toggle="collapse" data-target="._user_login .collapse">
<h2>Sets the user specified by the parameter as the active user.</h2>
<pre>_user_login(array $login_user, bool $auth_active) </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$login_user</h4>
<code>array</code><p>the user to log in</p></div>
<div class="subelement argument">
<h4>$auth_active</h4>
<code>bool</code><p>whether the user has been actively authenticated in this session</p></div>
</div></div>
</div>
<a name="_user_logout" id="_user_logout"></a><div class="element clickable function  _user_logout" data-toggle="collapse" data-target="._user_logout .collapse">
<h2>Logs out the user by deleting the relevant session information.</h2>
<pre>_user_logout() </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description"><p class="long_description"></p></div></div>
</div>
<a name="_user_page_profile" id="_user_page_profile"></a><div class="element clickable function  _user_page_profile" data-toggle="collapse" data-target="._user_page_profile .collapse">
<h2>Returns a block containing OpenID Connect user information.</h2>
<pre>_user_page_profile() : array</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<h3>Returns</h3>
<div class="subelement response">
<code>array</code>the OpenID Connect user information block</div>
</div></div>
</div>
<a name="ax_consent" id="ax_consent"></a><div class="element clickable function  ax_consent" data-toggle="collapse" data-target=".ax_consent .collapse">
<h2>ax_consent()
        </h2>
<pre>ax_consent($form_request, $response, $rp) </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<table class="table table-bordered"><tr>
<th>see</th>
<td>\global\hook_consent()</td>
</tr></table>
<h3>Parameters</h3>
<div class="subelement argument"><h4>$form_request</h4></div>
<div class="subelement argument"><h4>$response</h4></div>
<div class="subelement argument"><h4>$rp</h4></div>
</div></div>
</div>
<a name="ax_consent_form" id="ax_consent_form"></a><div class="element clickable function  ax_consent_form" data-toggle="collapse" data-target=".ax_consent_form .collapse">
<h2>ax_consent_form()
        </h2>
<pre>ax_consent_form($request, $response, $rp) </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<table class="table table-bordered"><tr>
<th>see</th>
<td>\global\hook_consent_form()</td>
</tr></table>
<h3>Parameters</h3>
<div class="subelement argument"><h4>$request</h4></div>
<div class="subelement argument"><h4>$response</h4></div>
<div class="subelement argument"><h4>$rp</h4></div>
</div></div>
</div>
<a name="ax_page_profile" id="ax_page_profile"></a><div class="element clickable function  ax_page_profile" data-toggle="collapse" data-target=".ax_page_profile .collapse">
<h2>ax_page_profile()
        </h2>
<pre>ax_page_profile() </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<table class="table table-bordered"><tr>
<th>see</th>
<td>\global\hook_page_profile()</td>
</tr></table>
</div></div>
</div>
<a name="ax_response" id="ax_response"></a><div class="element clickable function  ax_response" data-toggle="collapse" data-target=".ax_response .collapse">
<h2>ax_response()
        </h2>
<pre>ax_response($assertion, $request) </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<table class="table table-bordered"><tr>
<th>see</th>
<td>\global\hook_response()</td>
</tr></table>
<h3>Parameters</h3>
<div class="subelement argument"><h4>$assertion</h4></div>
<div class="subelement argument"><h4>$request</h4></div>
</div></div>
</div>
<a name="ax_signed_fields" id="ax_signed_fields"></a><div class="element clickable function  ax_signed_fields" data-toggle="collapse" data-target=".ax_signed_fields .collapse">
<h2>Returns an array of fields that need signing.</h2>
<pre>ax_signed_fields($response) </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<table class="table table-bordered"><tr>
<th>see</th>
<td>\global\hook_signed_fields()</td>
</tr></table>
<h3>Parameters</h3>
<div class="subelement argument"><h4>$response</h4></div>
</div></div>
</div>
<a name="ax_xrds_types" id="ax_xrds_types"></a><div class="element clickable function  ax_xrds_types" data-toggle="collapse" data-target=".ax_xrds_types .collapse">
<h2>Returns the support for AX in SimpleID XRDS document</h2>
<pre>ax_xrds_types() : array</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<table class="table table-bordered"><tr>
<th>see</th>
<td>\global\hook_xrds_types()</td>
</tr></table>
<h3>Returns</h3>
<div class="subelement response"><code>array</code></div>
</div></div>
</div>
<a name="bignum_add" id="bignum_add"></a><div class="element clickable function  bignum_add" data-toggle="collapse" data-target=".bignum_add .collapse">
<h2>Adds two bignums</h2>
<pre>bignum_add(resource $a, resource $b) : resource</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$a</h4>
<code>resource</code>
</div>
<div class="subelement argument">
<h4>$b</h4>
<code>resource</code>
</div>
<h3>Returns</h3>
<div class="subelement response">
<code>resource</code>a bignum representing a + b</div>
</div></div>
</div>
<a name="bignum_cmp" id="bignum_cmp"></a><div class="element clickable function  bignum_cmp" data-toggle="collapse" data-target=".bignum_cmp .collapse">
<h2>Compares two bignum</h2>
<pre>bignum_cmp(resource $a, resource $b) : int</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$a</h4>
<code>resource</code>
</div>
<div class="subelement argument">
<h4>$b</h4>
<code>resource</code>
</div>
<h3>Returns</h3>
<div class="subelement response">
<code>int</code>positive value if a > b, zero if a = b and a negative value if a < b</div>
</div></div>
</div>
<a name="bignum_div" id="bignum_div"></a><div class="element clickable function  bignum_div" data-toggle="collapse" data-target=".bignum_div .collapse">
<h2>Divides two bignums</h2>
<pre>bignum_div(resource $a, resource $b) : resource</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$a</h4>
<code>resource</code>
</div>
<div class="subelement argument">
<h4>$b</h4>
<code>resource</code>
</div>
<h3>Returns</h3>
<div class="subelement response">
<code>resource</code>a bignum representing a / b</div>
</div></div>
</div>
<a name="bignum_loaded" id="bignum_loaded"></a><div class="element clickable function  bignum_loaded" data-toggle="collapse" data-target=".bignum_loaded .collapse">
<h2>Returns whether either the GMP or the BCMath library is installed.</h2>
<pre>bignum_loaded() : bool</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>If neither
of these libraries are installed, the functions in this file will not work.</p></p>
<h3>Returns</h3>
<div class="subelement response">
<code>bool</code>true if either GMP or BCMath is installed.</div>
</div></div>
</div>
<a name="bignum_mod" id="bignum_mod"></a><div class="element clickable function  bignum_mod" data-toggle="collapse" data-target=".bignum_mod .collapse">
<h2>Returns n modulo d</h2>
<pre>bignum_mod(resource $n, resource $d) : resource</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$n</h4>
<code>resource</code>
</div>
<div class="subelement argument">
<h4>$d</h4>
<code>resource</code>
</div>
<h3>Returns</h3>
<div class="subelement response">
<code>resource</code>a bignum representing n mod d</div>
</div></div>
</div>
<a name="bignum_mul" id="bignum_mul"></a><div class="element clickable function  bignum_mul" data-toggle="collapse" data-target=".bignum_mul .collapse">
<h2>Multiplies two bignums</h2>
<pre>bignum_mul(resource $a, resource $b) : resource</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$a</h4>
<code>resource</code>
</div>
<div class="subelement argument">
<h4>$b</h4>
<code>resource</code>
</div>
<h3>Returns</h3>
<div class="subelement response">
<code>resource</code>a bignum representing a * b</div>
</div></div>
</div>
<a name="bignum_new" id="bignum_new"></a><div class="element clickable function  bignum_new" data-toggle="collapse" data-target=".bignum_new .collapse">
<h2>Creates a bignum.</h2>
<pre>bignum_new(mixed $str, int $base) : resource</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$str</h4>
<code>mixed</code><p>An integer, a string in base 2 to 36, or a byte stream in base 256</p></div>
<div class="subelement argument">
<h4>$base</h4>
<code>int</code><p>an integer between 2 and 36, or 256</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>resource</code>a bignum</div>
</div></div>
</div>
<a name="bignum_pow" id="bignum_pow"></a><div class="element clickable function  bignum_pow" data-toggle="collapse" data-target=".bignum_pow .collapse">
<h2>Raise base to power exp</h2>
<pre>bignum_pow(resource $base, mixed $exp) : resource</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$base</h4>
<code>resource</code><p>the base</p></div>
<div class="subelement argument">
<h4>$exp</h4>
<code>mixed</code><p>the exponent, as an integer or a bignum</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>resource</code>a bignum representing base ^ exp</div>
</div></div>
</div>
<a name="bignum_powmod" id="bignum_powmod"></a><div class="element clickable function  bignum_powmod" data-toggle="collapse" data-target=".bignum_powmod .collapse">
<h2>Raise a number into power with modulo</h2>
<pre>bignum_powmod(resource $base, resource $exp, resource $mod) : resource</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$base</h4>
<code>resource</code><p>the base</p></div>
<div class="subelement argument">
<h4>$exp</h4>
<code>resource</code><p>the exponent</p></div>
<div class="subelement argument">
<h4>$mod</h4>
<code>resource</code><p>the modulo</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>resource</code>a bignum representing base ^ exp mod mod</div>
</div></div>
</div>
<a name="bignum_val" id="bignum_val"></a><div class="element clickable function  bignum_val" data-toggle="collapse" data-target=".bignum_val .collapse">
<h2>Converts a bignum into a string representation (base 2 to 36) or a byte stream
(base 256)</h2>
<pre>bignum_val(resource $num, int $base) : string</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$num</h4>
<code>resource</code><p>the bignum</p></div>
<div class="subelement argument">
<h4>$base</h4>
<code>int</code><p>an integer between 2 and 36, or 256</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>string</code>the converted bignum</div>
</div></div>
</div>
<a name="cache_delete" id="cache_delete"></a><div class="element clickable function  cache_delete" data-toggle="collapse" data-target=".cache_delete .collapse">
<h2>Deletes data from the cache.</h2>
<pre>cache_delete(string $type, string $key) </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$type</h4>
<code>string</code><p>the type of data in the cache</p></div>
<div class="subelement argument">
<h4>$key</h4>
<code>string</code><p>an identifier</p></div>
</div></div>
</div>
<a name="cache_expire" id="cache_expire"></a><div class="element clickable function  cache_expire" data-toggle="collapse" data-target=".cache_expire .collapse">
<h2>Garbage collects data stored the cache.</h2>
<pre>cache_expire(int | array $params) </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>Data is deleted if it was stored
for longer than the specified expiry.</p>

<p>The parameter to this function takes either an integer or an array.  If the
parameter is an integer, everything in the cache older than the specified
time (in seconds) will be deleted.  If the parameter is an array,
cache items of the type specified in the key to the array, older than the
corresponding value will be deleted.</p>

<p>This function is deprecated, use <a href="cache_expire()">cache_expire()</a>.</p></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$params</h4>
<code>int</code><code>array</code><p>the expiry time, in seconds, after which data will be deleted, or an array specifiying the expiry time for each type</p></div>
</div></div>
</div>
<a name="cache_gc" id="cache_gc"></a><div class="element clickable function  cache_gc" data-toggle="collapse" data-target=".cache_gc .collapse">
<h2>Garbage collects data stored the cache.</h2>
<pre>cache_gc(int $expiry, string $type) </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>Data is deleted if it was stored
for longer than the specified expiry.</p>

<p>This function is deprecated, use <a href="cache_expire()">cache_expire()</a>.</p></p>
<table class="table table-bordered"><tr>
<th>deprecated</th>
<td></td>
</tr></table>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$expiry</h4>
<code>int</code><p>the expiry time, in seconds, after which data will be deleted</p></div>
<div class="subelement argument">
<h4>$type</h4>
<code>string</code><p>the type of data in the cache</p></div>
</div></div>
</div>
<a name="cache_get" id="cache_get"></a><div class="element clickable function  cache_get" data-toggle="collapse" data-target=".cache_get .collapse">
<h2>Obtains data from the cache.</h2>
<pre>cache_get(string $type, string $key) : mixed</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$type</h4>
<code>string</code><p>the type of data in the cache</p></div>
<div class="subelement argument">
<h4>$key</h4>
<code>string</code><p>an identifier</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>mixed</code>the data associated with the type and key, or NULL if the cache does not contain the requested data.</div>
</div></div>
</div>
<a name="cache_get_all" id="cache_get_all"></a><div class="element clickable function  cache_get_all" data-toggle="collapse" data-target=".cache_get_all .collapse">
<h2>Obtains all data of a particular type from the cache.</h2>
<pre>cache_get_all(string $type) : mixed</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$type</h4>
<code>string</code><p>the type of data in the cache</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>mixed</code>an array of data associated with the type, or NULL if the cache does not contain the requested data.</div>
</div></div>
</div>
<a name="cache_set" id="cache_set"></a><div class="element clickable function  cache_set" data-toggle="collapse" data-target=".cache_set .collapse">
<h2>Stores data into the cache.</h2>
<pre>cache_set(string $type, string $key, mixed $data, int $time) </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$type</h4>
<code>string</code><p>the type of data in the cache</p></div>
<div class="subelement argument">
<h4>$key</h4>
<code>string</code><p>an identifier</p></div>
<div class="subelement argument">
<h4>$data</h4>
<code>mixed</code><p>the data to store</p></div>
<div class="subelement argument">
<h4>$time</h4>
<code>int</code><p>if present, sets the modification time of the cache file to this time</p></div>
</div></div>
</div>
<a name="cache_ttl" id="cache_ttl"></a><div class="element clickable function  cache_ttl" data-toggle="collapse" data-target=".cache_ttl .collapse">
<h2>Returns the time remaining, in seconds, before the data associated with the
type and key become subject to garbage collection by {@link cache_gc()}.</h2>
<pre>cache_ttl(string $type, string $key, int $expiry) : int</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<table class="table table-bordered"><tr>
<th>since</th>
<td>0.8</td>
</tr></table>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$type</h4>
<code>string</code><p>the type of data in the cache</p></div>
<div class="subelement argument">
<h4>$key</h4>
<code>string</code><p>an identifier</p></div>
<div class="subelement argument">
<h4>$expiry</h4>
<code>int</code><p>the expiry time, in seconds, which would be passed onto the {@link cache_gc()} function</p>
</div>
<h3>Returns</h3>
<div class="subelement response">
<code>int</code>the time remaining before expiry, rounded downwards, or zero if the cache does not contain the requested data</div>
</div></div>
</div>
<a name="certauth_user_auto_login" id="certauth_user_auto_login"></a><div class="element clickable function  certauth_user_auto_login" data-toggle="collapse" data-target=".certauth_user_auto_login .collapse">
<h2>Attempt to login using a SSL client certificate.</h2>
<pre>certauth_user_auto_login() </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description"><p class="long_description"><p>Note that the web server must be set up to request a SSL client certificate
and pass the certificate's details to PHP.</p></p></div></div>
</div>
<a name="check_https" id="check_https"></a><div class="element clickable function  check_https" data-toggle="collapse" data-target=".check_https .collapse">
<h2>Ensure the current connection with the user agent is secure with HTTPS.</h2>
<pre>check_https(string $action, boolean $allow_override, string $redirect_url, boolean $strict) </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>This function uses <a href="is_https()">is_https()</a> to determine whether the connection
is via HTTPS.  If it is, this function will return successfully.</p>

<p>If it is not, what happens next is determined by the following steps.</p>

<ol>
<li>If $allow_override is true and <a href="SIMPLEID_ALLOW_PLAINTEXT">SIMPLEID_ALLOW_PLAINTEXT</a> is also true,
then the function will return successfully</li>
<li>Otherwise, then it will either redirect (if $action is
redirect) or return an error (if $action is error)</li>
</ol></p>
<table class="table table-bordered"><tr>
<th>see</th>
<td>\global\SIMPLEID_ALLOW_PLAINTEXT</td>
</tr></table>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$action</h4>
<code>string</code><p>what to do if connection is not secure - either 'redirect' or 'error'</p>
</div>
<div class="subelement argument">
<h4>$allow_override</h4>
<code>boolean</code><p>whether SIMPLEID_ALLOW_PLAINTEXT is checked to see if an unencrypted connection is allowed</p></div>
<div class="subelement argument">
<h4>$redirect_url</h4>
<code>string</code><p>if $action is redirect, what URL to redirect to. If null, this will redirect to the same page (albeit with an HTTPS connection)</p>
</div>
<div class="subelement argument">
<h4>$strict</h4>
<code>boolean</code><p>whether HTTP Strict Transport Security is active</p></div>
</div></div>
</div>
<a name="define_default" id="define_default"></a><div class="element clickable function  define_default" data-toggle="collapse" data-target=".define_default .collapse">
<h2>Define a constant if it has not been defined already.</h2>
<pre>define_default(\$name $name, \$value $value) </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$name</h4>
<code>\$name</code><p>string the name of the constant</p></div>
<div class="subelement argument">
<h4>$value</h4>
<code>\$value</code><p>mixed the value of the constant - only scalar and null values are allowed</p>
</div>
</div></div>
</div>
<a name="discovery_html_get_services" id="discovery_html_get_services"></a><div class="element clickable function  discovery_html_get_services" data-toggle="collapse" data-target=".discovery_html_get_services .collapse">
<h2>Obtains the OpenID services for particular identifier by scanning for link
elements in the returned document.</h2>
<pre>discovery_html_get_services(string $url) : array</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>Note that this function does not use the YADIS protocol to scan for services.
To use the YADIS protocol, use <a href="discovery_get_services()">discovery_get_services()</a>.</p></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$url</h4>
<code>string</code><p>the URL</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>array</code>an array of discovered services, or an empty array if no services are found</div>
</div></div>
</div>
<a name="discovery_is_email" id="discovery_is_email"></a><div class="element clickable function  discovery_is_email" data-toggle="collapse" data-target=".discovery_is_email .collapse">
<h2>Determines whether an identifier is an e-mail address.</h2>
<pre>discovery_is_email(string $identifier) : bool</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>An identifier is an e-mail address if it:</p>

<ul>
<li>has a single @ character</li>
<li>does not have a slash character</li>
</ul></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$identifier</h4>
<code>string</code><p>the parameter to test</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>bool</code>true if the identifier is an e-mail address</div>
</div></div>
</div>
<a name="discovery_is_xri" id="discovery_is_xri"></a><div class="element clickable function  discovery_is_xri" data-toggle="collapse" data-target=".discovery_is_xri .collapse">
<h2>Determines whether an identifier is an XRI.</h2>
<pre>discovery_is_xri(string $identifier) : bool</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>XRI identifiers either start with xri:// or with @, =, +, $ or !.</p></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$identifier</h4>
<code>string</code><p>the parameter to test</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>bool</code>true if the identifier is an XRI</div>
</div></div>
</div>
<a name="discovery_xrds_discover" id="discovery_xrds_discover"></a><div class="element clickable function  discovery_xrds_discover" data-toggle="collapse" data-target=".discovery_xrds_discover .collapse">
<h2>Obtains the services for particular identifier.</h2>
<pre>discovery_xrds_discover(string $identifier, bool $openid) : array</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>This function attempts to discover and obtain the XRDS document associated
with the identifier, parses the XRDS document and returns an array of
services.</p>

<p>If an XRDS document is not found, and $openid is set to true, this function
will also attempt to discover OpenID services by looking for link elements
with rel of openid.server or openid2.provider in the discovered HTML document.</p></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$identifier</h4>
<code>string</code><p>the identifier</p></div>
<div class="subelement argument">
<h4>$openid</h4>
<code>bool</code><p>if true, performs additional discovery of OpenID services by looking for link elements within the discovered document</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>array</code>an array of discovered services, or an empty array if no services are found</div>
</div></div>
</div>
<a name="discovery_xrds_get" id="discovery_xrds_get"></a><div class="element clickable function  discovery_xrds_get" data-toggle="collapse" data-target=".discovery_xrds_get .collapse">
<h2>Obtains a XRDS document at a particular URL.</h2>
<pre>discovery_xrds_get(string $url, bool $check, int $retries) : string</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>Performs Yadis discovery if
the URL does not produce a XRDS document.</p></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$url</h4>
<code>string</code><p>the URL</p></div>
<div class="subelement argument">
<h4>$check</h4>
<code>bool</code><p>whether to check the content type of the response is application/xrds+xml</p>
</div>
<div class="subelement argument">
<h4>$retries</h4>
<code>int</code><p>the number of tries to make</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>string</code>the contents of the XRDS document</div>
</div></div>
</div>
<a name="discovery_xrds_normalize" id="discovery_xrds_normalize"></a><div class="element clickable function  discovery_xrds_normalize" data-toggle="collapse" data-target=".discovery_xrds_normalize .collapse">
<h2>Normalises an identifier for discovery.</h2>
<pre>discovery_xrds_normalize(string $identifier) : string</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>If the identifier begins with xri://, acct: or mailto:, this is stripped out.  If the identifier
does not begin with a valid URI scheme, http:// is assumed and added to the
identifier.</p></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$identifier</h4>
<code>string</code><p>the identifier to normalise</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>string</code>the normalised identifier</div>
</div></div>
</div>
<a name="discovery_xrds_parse" id="discovery_xrds_parse"></a><div class="element clickable function  discovery_xrds_parse" data-toggle="collapse" data-target=".discovery_xrds_parse .collapse">
<h2>Parses an XRDS document to return services available.</h2>
<pre>discovery_xrds_parse(string $xrds) : array</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<table class="table table-bordered"><tr>
<th>see</th>
<td>\global\XRDSParser</td>
</tr></table>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$xrds</h4>
<code>string</code><p>the XRDS document</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>array</code>the parsed structure</div>
</div></div>
</div>
<a name="discovery_xrds_priority_sort" id="discovery_xrds_priority_sort"></a><div class="element clickable function  discovery_xrds_priority_sort" data-toggle="collapse" data-target=".discovery_xrds_priority_sort .collapse">
<h2>Callback function to sort service and URI elements based on priorities
specified in the XRDS document.</h2>
<pre>discovery_xrds_priority_sort(array $a, array $b) : int</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>The XRDS specification allows multiple instances of certain elements, such
as Service and URI.  The specification allows an attribute called priority
so that the document creator can specify the order the elements should be used.</p></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$a</h4>
<code>array</code>
</div>
<div class="subelement argument">
<h4>$b</h4>
<code>array</code>
</div>
<h3>Returns</h3>
<div class="subelement response"><code>int</code></div>
</div></div>
</div>
<a name="discovery_xrds_service_by_id" id="discovery_xrds_service_by_id"></a><div class="element clickable function  discovery_xrds_service_by_id" data-toggle="collapse" data-target=".discovery_xrds_service_by_id .collapse">
<h2>Given an array of discovered services, obtains information on the service of
a specified ID.</h2>
<pre>discovery_xrds_service_by_id(array $services, string $id) : array</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$services</h4>
<code>array</code><p>the discovered services</p></div>
<div class="subelement argument">
<h4>$id</h4>
<code>string</code><p>the XML ID of the service in the XRDS document</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>array</code>the matching service, or NULL of no services are found</div>
</div></div>
</div>
<a name="discovery_xrds_services_by_type" id="discovery_xrds_services_by_type"></a><div class="element clickable function  discovery_xrds_services_by_type" data-toggle="collapse" data-target=".discovery_xrds_services_by_type .collapse">
<h2>Given an array of discovered services, obtains information on services of
a particular type.</h2>
<pre>discovery_xrds_services_by_type(array $services, string $type) : array</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$services</h4>
<code>array</code><p>the discovered services</p></div>
<div class="subelement argument">
<h4>$type</h4>
<code>string</code><p>the URI of the type of service to obtain</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>array</code>an array of matching services, or an empty array of no services match</div>
</div></div>
</div>
<a name="discovery_xrds_url" id="discovery_xrds_url"></a><div class="element clickable function  discovery_xrds_url" data-toggle="collapse" data-target=".discovery_xrds_url .collapse">
<h2>Obtains a URL for an identifier.</h2>
<pre>discovery_xrds_url(string $identifier) : string</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>If the identifier is a XRI, the XRI resolution
service is used to convert the identifier to a URL.</p></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$identifier</h4>
<code>string</code><p>the identifier</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>string</code>the URL</div>
</div></div>
</div>
<a name="extension_init" id="extension_init"></a><div class="element clickable function  extension_init" data-toggle="collapse" data-target=".extension_init .collapse">
<h2>Initialises the extension mechanism.</h2>
<pre>extension_init() </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description"><p class="long_description"><p>This function looks up the extensions
to load in the <a href="SIMPLEID_EXTENSIONS">SIMPLEID_EXTENSIONS</a> constants, loads them, then
calls the ns hook.</p></p></div></div>
</div>
<a name="extension_invoke" id="extension_invoke"></a><div class="element clickable function  extension_invoke" data-toggle="collapse" data-target=".extension_invoke .collapse">
<h2>Invokes a hook in a specified extension.</h2>
<pre>extension_invoke() : mixed</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<h3>Returns</h3>
<div class="subelement response">
<code>mixed</code>the return value from the hook</div>
</div></div>
</div>
<a name="extension_invoke_all" id="extension_invoke_all"></a><div class="element clickable function  extension_invoke_all" data-toggle="collapse" data-target=".extension_invoke_all .collapse">
<h2>Invokes a hook in all the loaded extensions.</h2>
<pre>extension_invoke_all() : array</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<h3>Returns</h3>
<div class="subelement response">
<code>array</code>the return values from the hook</div>
</div></div>
</div>
<a name="fix_http_request" id="fix_http_request"></a><div class="element clickable function  fix_http_request" data-toggle="collapse" data-target=".fix_http_request .collapse">
<h2>Fix PHP's handling of request data.</h2>
<pre>fix_http_request() </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description"><p class="long_description"><p>PHP changes dots in all request parameters
to underscores when creating the $_GET, $_POST and $_REQUEST arrays.</p>

<p>This function scans the original query string and POST parameters and fixes
them.</p></p></div></div>
</div>
<a name="get_base_path" id="get_base_path"></a><div class="element clickable function  get_base_path" data-toggle="collapse" data-target=".get_base_path .collapse">
<h2>Returns the base URL path, relative to the current host, of the SimpleID
installation.</h2>
<pre>get_base_path() : string</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>This is worked out from <a href="SIMPLEID_BASE_URL">SIMPLEID_BASE_URL</a>.  It will always contain
a trailing slash.</p></p>
<table class="table table-bordered">
<tr>
<th>since</th>
<td>0.8</td>
</tr>
<tr>
<th>see</th>
<td>\global\SIMPLEID_BASE_URL</td>
</tr>
</table>
<h3>Returns</h3>
<div class="subelement response">
<code>string</code>the base URL path</div>
</div></div>
</div>
<a name="get_extensions" id="get_extensions"></a><div class="element clickable function  get_extensions" data-toggle="collapse" data-target=".get_extensions .collapse">
<h2>Returns an array of currently loaded extensions.</h2>
<pre>get_extensions() : array</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<h3>Returns</h3>
<div class="subelement response">
<code>array</code>a list of the names of the currently loaded extensions.</div>
</div></div>
</div>
<a name="get_form_token" id="get_form_token"></a><div class="element clickable function  get_form_token" data-toggle="collapse" data-target=".get_form_token .collapse">
<h2>Obtains a form token given a form ID.</h2>
<pre>get_form_token(string $id, bool $bind_session) : string</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>Form tokens are used in SimpleID forms to guard against cross-site forgery
attacks.</p></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$id</h4>
<code>string</code><p>the form ID</p></div>
<div class="subelement argument">
<h4>$bind_session</h4>
<code>bool</code><p>whether to bind the form token to the current session</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>string</code>a form token</div>
</div></div>
</div>
<a name="get_request_uri" id="get_request_uri"></a><div class="element clickable function  get_request_uri" data-toggle="collapse" data-target=".get_request_uri .collapse">
<h2>Obtains the URI of the current request, given a base URI.</h2>
<pre>get_request_uri(string $base) : string</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$base</h4>
<code>string</code><p>the base URI</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>string</code>the request URI</div>
</div></div>
</div>
<a name="get_user_agent_id" id="get_user_agent_id"></a><div class="element clickable function  get_user_agent_id" data-toggle="collapse" data-target=".get_user_agent_id .collapse">
<h2>Assigns and returns a unique ID for the user agent (UAID).</h2>
<pre>get_user_agent_id() : string</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>A UAID uniquely identifies the user agent (e.g. browser) used to
make the HTTP request.  The UAID is stored in a long-dated
cookie.  Therefore, the UAID may be useful for security purposes.</p>

<p>This function will look for a cookie sent by the user agent with
the name returned by <a href="simpleid_cookie_name()">simpleid_cookie_name()</a> with a suffix
of uaid.  If the cookie does not exist, it will generate a
random UAID and return it to the user agent with a Set-Cookie
response header.</p></p>
<h3>Returns</h3>
<div class="subelement response">
<code>string</code>the UAID</div>
</div></div>
</div>
<a name="header_response_code" id="header_response_code"></a><div class="element clickable function  header_response_code" data-toggle="collapse" data-target=".header_response_code .collapse">
<h2>Send a HTTP response code to the user agent.</h2>
<pre>header_response_code(string $code) </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>The format of the HTTP response code depends on the way PHP is run.
When run as an Apache module, a properly formatted HTTP response
string is sent.  When run via CGI, the response code is sent via the
Status response header.</p></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$code</h4>
<code>string</code><p>the response code along</p></div>
</div></div>
</div>
<a name="hook_checkid" id="hook_checkid"></a><div class="element clickable function  hook_checkid" data-toggle="collapse" data-target=".hook_checkid .collapse">
<h2>Processes an authentication request that is &lt;i&gt;not&lt;/i&gt; about an identifier.</h2>
<pre>hook_checkid(array $request, bool $immediate) : int</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>The OpenID specifications provides a mechanism for extensions to process
authentication requests that are not about an identifier.  Authentication requests
about identifiers are automatically processed by the <a href="simpleid_checkid_identity()">simpleid_checkid_identity()</a>
function and the <a href="hook_checkid_identity()">hook_checkid_identity()</a> hooks.</p>

<p>Assertion results are coded within SimpleID as an integer between 127 (<a href="CHECKID_OK">CHECKID_OK</a>)
and -127 (<a href="CHECKID_PROTOCOL_ERROR">CHECKID_PROTOCOL_ERROR</a>).  Positive values indicate a potential
positive assertion (subject to various types of user approval), while negative
values indicate a irrecoverable negative assertion.</p>

<p>This hook should return one of these values.  If the extension is unable to
handle this particular type of authentication request, it should return NULL.</p></p>
<table class="table table-bordered"><tr>
<th>see</th>
<td>\global\simpleid_checkid()</td>
</tr></table>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$request</h4>
<code>array</code><p>the OpenID request</p></div>
<div class="subelement argument">
<h4>$immediate</h4>
<code>bool</code><p>true if openid.mode is checkid_immediate</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>int</code>a return value from the list of possible values returned by {@link simpleid_checkid_identity()} or NULL</div>
</div></div>
</div>
<a name="hook_checkid_identity" id="hook_checkid_identity"></a><div class="element clickable function  hook_checkid_identity" data-toggle="collapse" data-target=".hook_checkid_identity .collapse">
<h2>Processes an authentication request where the assertion is potentially
positive.</h2>
<pre>hook_checkid_identity(array $request, string $identity, bool $immediate) : int</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>Assertion results are coded within SimpleID as an integer between 127 (<a href="CHECKID_OK">CHECKID_OK</a>)
and -127 (<a href="CHECKID_PROTOCOL_ERROR">CHECKID_PROTOCOL_ERROR</a>).  Positive values indicate a potential
positive assertion (subject to various types of user approval), while negative
values indicate a irrecoverable negative assertion.</p>

<p>Extensions are able to examine the authentication request to modify change
the assertion result from positive to negative.  As SimpleID takes the
minimum from the results returned by this hook, extensions are
not able to change the assertion result from negative to positive.</p>

<p>If the extension is indifferent to the result of the current authentication
request (e.g. it cannot understand it), it should return NULL.</p>

<p>This hook is not called at all if SimpleID determines that the assertion
is negative.</p></p>
<table class="table table-bordered"><tr>
<th>see</th>
<td>\global\simpleid_checkid_identity()</td>
</tr></table>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$request</h4>
<code>array</code><p>the OpenID request</p></div>
<div class="subelement argument">
<h4>$identity</h4>
<code>string</code><p>the identity to be checked against</p></div>
<div class="subelement argument">
<h4>$immediate</h4>
<code>bool</code><p>true if openid.mode is checkid_immediate</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>int</code>a return value from the list of possible values returned by {@link simpleid_checkid_identity()} or NULL</div>
</div></div>
</div>
<a name="hook_consent" id="hook_consent"></a><div class="element clickable function  hook_consent" data-toggle="collapse" data-target=".hook_consent .collapse">
<h2>Processes the relying party verification form.</h2>
<pre>hook_consent(array $form_request, array $response, array $rp) </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>This provides the extension with the opportunity to:</p>

<ul>
<li>modify the OpenID response based on the user's preferences by editing
$response</li>
<li>save the user's preferences by editing $rp</li>
</ul>

<p><strong>WARNING</strong> Because this function requires parameters to be
passed by reference, this does not work with <a href="extension_invoke_all()">extension_invoke_all()</a>.</p></p>
<table class="table table-bordered"><tr>
<th>since</th>
<td>0.8</td>
</tr></table>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$form_request</h4>
<code>array</code><p>the data submitted by the user in the relying party verification form</p></div>
<div class="subelement argument">
<h4>$response</h4>
<code>array</code><p>&$response pointer to the proposed OpenID response</p>
</div>
<div class="subelement argument">
<h4>$rp</h4>
<code>array</code><p>&$rp pointer to the user's preferences saved with this relying party</p>
</div>
</div></div>
</div>
<a name="hook_consent_form" id="hook_consent_form"></a><div class="element clickable function  hook_consent_form" data-toggle="collapse" data-target=".hook_consent_form .collapse">
<h2>Provides additional form items when displaying the relying party consent
form</h2>
<pre>hook_consent_form(array $request, array $response, array $rp) : string</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<table class="table table-bordered">
<tr>
<th>see</th>
<td>\global\simpleid_consent_form()</td>
</tr>
<tr>
<th>since</th>
<td>0.8</td>
</tr>
</table>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$request</h4>
<code>array</code><p>the OpenID request</p></div>
<div class="subelement argument">
<h4>$response</h4>
<code>array</code><p>the proposed OpenID response</p></div>
<div class="subelement argument">
<h4>$rp</h4>
<code>array</code><p>the user's preferences saved with this relying party</p>
</div>
<h3>Returns</h3>
<div class="subelement response">
<code>string</code>HTML code to be inserted into the verification form</div>
</div></div>
</div>
<a name="hook_indirect_response" id="hook_indirect_response"></a><div class="element clickable function  hook_indirect_response" data-toggle="collapse" data-target=".hook_indirect_response .collapse">
<h2>Determines the format in which assertions are sent, when they are sent via
indirect communication.</h2>
<pre>hook_indirect_response(string $url, array $response) : int</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>The OpenID specification version 2.0 provides for the sending of assertions
via indirect communication.  The original specifications provide that the
response should be formatted within the query string.</p>

<p>Some extensions to the OpenID specification allows the assertion to be
formatted in some other way, e.g. via the fragment.  This hook allows
extensions to specify which format the assertion should be sent.</p>

<p>If the extension is indifferent regarding the format, it should return
null</p></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$url</h4>
<code>string</code><p>the URL of the RP to which the response is to be sent</p></div>
<div class="subelement argument">
<h4>$response</h4>
<code>array</code><p>the assertion to be sent</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>int</code>one of OPENID_RESPONSE_QUERY or OPENID_RESPONSE_FRAGMENT or NULL</div>
</div></div>
</div>
<a name="hook_page_dashboard" id="hook_page_dashboard"></a><div class="element clickable function  hook_page_dashboard" data-toggle="collapse" data-target=".hook_page_dashboard .collapse">
<h2>Returns additional blocks to be displayed in the user's dashboard.</h2>
<pre>hook_page_dashboard() : array</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>A block is coded as an array in accordance with the specifications set
out in <a href="page.inc">page.inc</a>.</p>

<p>This hook should return an <i>array</i> of blocks, i.e. an array of
arrays.</p></p>
<table class="table table-bordered">
<tr>
<th>see</th>
<td>\global\page_dashboard()</td>
</tr>
<tr>
<th>since</th>
<td>0.7</td>
</tr>
</table>
<h3>Returns</h3>
<div class="subelement response">
<code>array</code>an array of blocks to add to the user's dashboard</div>
</div></div>
</div>
<a name="hook_page_profile" id="hook_page_profile"></a><div class="element clickable function  hook_page_profile" data-toggle="collapse" data-target=".hook_page_profile .collapse">
<h2>Returns additional blocks to be displayed in the user's profile page.</h2>
<pre>hook_page_profile() : array</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>A block is coded as an array in accordance with the specifications set
out in <a href="page.inc">page.inc</a>.</p>

<p>This hook should return an <i>array</i> of blocks, i.e. an array of
arrays.</p></p>
<table class="table table-bordered">
<tr>
<th>see</th>
<td>\global\page_profile()</td>
</tr>
<tr>
<th>since</th>
<td>0.7</td>
</tr>
</table>
<h3>Returns</h3>
<div class="subelement response">
<code>array</code>an array of blocks to add to the user's profile page</div>
</div></div>
</div>
<a name="hook_response" id="hook_response"></a><div class="element clickable function  hook_response" data-toggle="collapse" data-target=".hook_response .collapse">
<h2>Gets fields and values to be included in the OpenID response.</h2>
<pre>hook_response(bool $assertion, array $request) : array</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>For positive assertions, this hook should assume that all user approvals
have been given and return a response array accordingly.  The extension has
the opportunity to modify the response what the user has actually approved
in the <a href="hook_send()">send hook</a>.</p>

<p>This hook will need to provide any aliases required.</p>

<p>An example:</p>

<pre><code><?php
$alias = openid_extension_alias($my_uri);
return array(
    'openid.ns.' . $alias => $my_uri,
    'openid.' . $alias . '.field' => 'value'
);
?>
</code></pre></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$assertion</h4>
<code>bool</code><p>true if a positive assertion is made, false otherwise</p></div>
<div class="subelement argument">
<h4>$request</h4>
<code>array</code><p>the OpenID request</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>array</code>the fields and values to include</div>
</div></div>
</div>
<a name="hook_routes" id="hook_routes"></a><div class="element clickable function  hook_routes" data-toggle="collapse" data-target=".hook_routes .collapse">
<h2>Return any additional items provided by the extension to be appended to the
Simpleweb route array.</h2>
<pre>hook_routes() : array</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<table class="table table-bordered">
<tr>
<th>see</th>
<td>\global\simpleweb.inc</td>
</tr>
<tr>
<th>see</th>
<td>\global\simpleid_start()</td>
</tr>
<tr>
<th>since</th>
<td>0.7</td>
</tr>
</table>
<h3>Returns</h3>
<div class="subelement response">
<code>array</code>the routes array</div>
</div></div>
</div>
<a name="hook_rp_form" id="hook_rp_form"></a><div class="element clickable function  hook_rp_form" data-toggle="collapse" data-target=".hook_rp_form .collapse">
<h2>Provides additional form items when displaying the relying party consent
form</h2>
<pre>hook_rp_form(array $request, array $response, array $rp) : string</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<table class="table table-bordered">
<tr>
<th>see</th>
<td>\global\simpleid_consent_form()</td>
</tr>
<tr>
<th>deprecated</th>
<td>Use {@link hook_consent_form()}</td>
</tr>
</table>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$request</h4>
<code>array</code><p>the OpenID request</p></div>
<div class="subelement argument">
<h4>$response</h4>
<code>array</code><p>the proposed OpenID response</p></div>
<div class="subelement argument">
<h4>$rp</h4>
<code>array</code><p>the user's preferences saved with this relying party</p>
</div>
<h3>Returns</h3>
<div class="subelement response">
<code>string</code>HTML code to be inserted into the verification form</div>
</div></div>
</div>
<a name="hook_send" id="hook_send"></a><div class="element clickable function  hook_send" data-toggle="collapse" data-target=".hook_send .collapse">
<h2>Processes the relying party consent form.</h2>
<pre>hook_send(array $form_request, array $response, array $rp) </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>This provides the extension with the opportunity to:</p>

<ul>
<li>modify the OpenID response based on the user's preferences by editing
$response</li>
<li>save the user's preferences by editing $rp</li>
</ul>

<p><strong>WARNING</strong> Because this function requires parameters to be
passed by reference, this does not work with <a href="extension_invoke_all()">extension_invoke_all()</a>.</p></p>
<table class="table table-bordered"><tr>
<th>deprecated</th>
<td>Use {@link hook_consent()}</td>
</tr></table>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$form_request</h4>
<code>array</code><p>the data submitted by the user in the relying party verification form</p></div>
<div class="subelement argument">
<h4>$response</h4>
<code>array</code><p>&$response pointer to the proposed OpenID response</p>
</div>
<div class="subelement argument">
<h4>$rp</h4>
<code>array</code><p>&$rp pointer to the user's preferences saved with this relying party</p>
</div>
</div></div>
</div>
<a name="hook_signed_fields" id="hook_signed_fields"></a><div class="element clickable function  hook_signed_fields" data-toggle="collapse" data-target=".hook_signed_fields .collapse">
<h2>Gets fields associated with this extension which needs to be signed</h2>
<pre>hook_signed_fields(array $response) : array</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>SimpleID automatically handles signing fields required by the OpenID
specification, so only the fields introduced by this extension
needed to be returned by this function.</p>

<p>The array of fields returned by this function must include any applicable
aliases as required.  For example</p>

<pre><code><?php
$alias = openid_extension_alias($my_uri);
return array($alias . '.field1', $alias . 'field2');
?>
</code></pre></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$response</h4>
<code>array</code><p>the OpenID response to sign</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>array</code>an array of fields to sign</div>
</div></div>
</div>
<a name="hook_user_auto_login" id="hook_user_auto_login"></a><div class="element clickable function  hook_user_auto_login" data-toggle="collapse" data-target=".hook_user_auto_login .collapse">
<h2>Attempts to automatically login using credentials presented by the user agent.</h2>
<pre>hook_user_auto_login() : array</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>This hook is called by the <a href="user_auto_login()">user_auto_login()</a> function.  The hook
should detect any credentials present in the request and return a $user array
(loaded using the <a href="user_load()">user_load()</a> function) if credentials identifying
the user is present.</p>

<p>If no credentials are present, or the credentials are invalid, this hook
should return NULL.</p></p>
<h3>Returns</h3>
<div class="subelement response">
<code>array</code>the user array, or NULL</div>
</div></div>
</div>
<a name="hook_user_login_form" id="hook_user_login_form"></a><div class="element clickable function  hook_user_login_form" data-toggle="collapse" data-target=".hook_user_login_form .collapse">
<h2>Provides additional form items when displaying the login form</h2>
<pre>hook_user_login_form(string $destination, string $state) </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<table class="table table-bordered"><tr>
<th>see</th>
<td>\global\user_login_form()</td>
</tr></table>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$destination</h4>
<code>string</code><p>he SimpleID location to which the user is directed if login is successful</p></div>
<div class="subelement argument">
<h4>$state</h4>
<code>string</code><p>the current SimpleID state, if required by the location</p></div>
</div></div>
</div>
<a name="hook_user_verify_credentials" id="hook_user_verify_credentials"></a><div class="element clickable function  hook_user_verify_credentials" data-toggle="collapse" data-target=".hook_user_verify_credentials .collapse">
<h2>Verifies a set of credentials for a specified user.</h2>
<pre>hook_user_verify_credentials(string $uid, array $credentials) : bool</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>A set of credentials comprises:</p>

<ul>
<li>A user name</li>
<li>Some kind of verifying information, such as a plaintext password, a hashed
password (e.g. digest) or some other kind of identifying information.</li>
</ul>

<p>The user name is passed to this function using the $uid parameter.  The user
name may or may not exist.  If the user name does not exist, this function
<strong>must</strong> return false.</p>

<p>The credentials are supplied as an array using the $credentials parameter.
Typically this array will be a subset of the $_POST superglobal passed to the
<a href="user_login()">user_login()</a> function.  Thus it will generally contain the keys 'pass' and
'digest'.</p>

<p>This hook must check whether the credentials supplied matches the credentials
for the specified user in the store.  If for any reason that credentials
do not match, this function <strong>must</strong> return false.</p></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$uid</h4>
<code>string</code><p>the name of the user to verify</p></div>
<div class="subelement argument">
<h4>$credentials</h4>
<code>array</code><p>the credentials supplied by the browser</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>bool</code>whether the credentials supplied matches those for the specified user</div>
</div></div>
</div>
<a name="hook_xrds_types" id="hook_xrds_types"></a><div class="element clickable function  hook_xrds_types" data-toggle="collapse" data-target=".hook_xrds_types .collapse">
<h2>Returns an array of type URIs to be included in SimpleID's XRDS document.</h2>
<pre>hook_xrds_types() : array</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>For example:</p>

<pre><code><?php
return array('http://specs.openid.net/extensions/ui/1.0/lang-pref', 'http://specs.openid.net/extensions/ui/1.0/mode/popup');
?>
</code></pre></p>
<table class="table table-bordered"><tr>
<th>since</th>
<td>0.7</td>
</tr></table>
<h3>Returns</h3>
<div class="subelement response">
<code>array</code>an array of URIs</div>
</div></div>
</div>
<a name="http_make_request" id="http_make_request"></a><div class="element clickable function  http_make_request" data-toggle="collapse" data-target=".http_make_request .collapse">
<h2>Performs an HTTP request.</h2>
<pre>http_make_request(string $url, array $headers, string $body, string $method, int $retry) : array</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>Communication with the web server is conducted using libcurl where possible.
Where libcurl does not exist, then sockets will be used.</p>

<p>Note that the request must be properly prepared before passing onto this function.
For example, for POST requests, the Content-Type and Content-Length headers must be
included in $headers.</p></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$url</h4>
<code>string</code><p>the URL</p></div>
<div class="subelement argument">
<h4>$headers</h4>
<code>array</code><p>HTTP headers containing name => value pairs</p>
</div>
<div class="subelement argument">
<h4>$body</h4>
<code>string</code><p>the request body</p></div>
<div class="subelement argument">
<h4>$method</h4>
<code>string</code><p>the HTTP request method</p></div>
<div class="subelement argument">
<h4>$retry</h4>
<code>int</code><p>the maximum number of redirects allowed</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>array</code>containing keys 'error-code' (for communication errors), 'error' (for communication errors), 'data' (content returned), 'code' (the HTTP status code), 'http-error' (if the HTTP status code is not 200 or 304), 'protocol' (the HTTP protocol in the response), 'headers' (an array of return headers in lowercase), 'content-type' (the HTTP content-type returned)</div>
</div></div>
</div>
<a name="http_protocols" id="http_protocols"></a><div class="element clickable function  http_protocols" data-toggle="collapse" data-target=".http_protocols .collapse">
<h2>Returns the protocols currently supported for making remote requests.</h2>
<pre>http_protocols() : array</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>If libcurl is used, this function returns a list of protocols supported by the
included build of the library.  If libcurl is not used, then HTTP is the
only protocol supported.</p></p>
<h3>Returns</h3>
<div class="subelement response">
<code>array</code>an array of protocols</div>
</div></div>
</div>
<a name="indirect_fatal_error" id="indirect_fatal_error"></a><div class="element clickable function  indirect_fatal_error" data-toggle="collapse" data-target=".indirect_fatal_error .collapse">
<h2>Displays a fatal error message and exits.</h2>
<pre>indirect_fatal_error(string $error) </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$error</h4>
<code>string</code><p>the message to set</p></div>
</div></div>
</div>
<a name="is_base_https" id="is_base_https"></a><div class="element clickable function  is_base_https" data-toggle="collapse" data-target=".is_base_https .collapse">
<h2>Determines whether the {@link SIMPLEID_BASE_URL} configuration option is a
HTTPS URL.</h2>
<pre>is_base_https() : true</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<h3>Returns</h3>
<div class="subelement response">
<code>true</code>if SIMPLEID_BASE_URL is a HTTPS URL</div>
</div></div>
</div>
<a name="is_https" id="is_https"></a><div class="element clickable function  is_https" data-toggle="collapse" data-target=".is_https .collapse">
<h2>Determines whether the current connection with the user agent is via
HTTPS.</h2>
<pre>is_https() : bool</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>HTTPS is detected if one of the following occurs:</p>

<ul>
<li>$_SERVER['HTTPS'] is set to 'on' (Apache installations)</li>
<li>$_SERVER['HTTP_X_FORWARDED_PROTO'] is set to 'https' (reverse proxies)</li>
<li>$_SERVER['HTTP_FRONT_END_HTTPS'] is set to 'on'</li>
</ul></p>
<h3>Returns</h3>
<div class="subelement response">
<code>bool</code>true if the connection is via HTTPS</div>
</div></div>
</div>
<a name="locale_init" id="locale_init"></a><div class="element clickable function  locale_init" data-toggle="collapse" data-target=".locale_init .collapse">
<h2>Initialises the localisation system.</h2>
<pre>locale_init(string $locale) </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$locale</h4>
<code>string</code><p>the locale to use</p></div>
</div></div>
</div>
<a name="log_array" id="log_array"></a><div class="element clickable function  log_array" data-toggle="collapse" data-target=".log_array .collapse">
<h2>Converts an array into a string for logging purposes.</h2>
<pre>log_array(array $array, array $keys) : string</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$array</h4>
<code>array</code><p>the array the convert</p></div>
<div class="subelement argument">
<h4>$keys</h4>
<code>array</code><p>an array of keys to include in the converted string. Set to false if all the keys in the array should be included</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>string</code>the converted string.</div>
</div></div>
</div>
<a name="log_close" id="log_close"></a><div class="element clickable function  log_close" data-toggle="collapse" data-target=".log_close .collapse">
<h2>Closes the log file, if it is open.</h2>
<pre>log_close() </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description"><p class="long_description"></p></div></div>
</div>
<a name="log_debug" id="log_debug"></a><div class="element clickable function  log_debug" data-toggle="collapse" data-target=".log_debug .collapse">
<h2>Logs a DEBUG message.</h2>
<pre>log_debug(string $message) </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<table class="table table-bordered"><tr>
<th>see</th>
<td>\global\_log_write()</td>
</tr></table>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$message</h4>
<code>string</code><p>the message to log</p></div>
</div></div>
</div>
<a name="log_error" id="log_error"></a><div class="element clickable function  log_error" data-toggle="collapse" data-target=".log_error .collapse">
<h2>Logs a ERROR message.</h2>
<pre>log_error(string $message) </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<table class="table table-bordered"><tr>
<th>see</th>
<td>\global\_log_write()</td>
</tr></table>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$message</h4>
<code>string</code><p>the message to log</p></div>
</div></div>
</div>
<a name="log_fatal" id="log_fatal"></a><div class="element clickable function  log_fatal" data-toggle="collapse" data-target=".log_fatal .collapse">
<h2>Logs a FATAL message.</h2>
<pre>log_fatal(string $message) </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<table class="table table-bordered"><tr>
<th>see</th>
<td>\global\_log_write()</td>
</tr></table>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$message</h4>
<code>string</code><p>the message to log</p></div>
</div></div>
</div>
<a name="log_info" id="log_info"></a><div class="element clickable function  log_info" data-toggle="collapse" data-target=".log_info .collapse">
<h2>Logs an INFO message.</h2>
<pre>log_info(string $message) </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<table class="table table-bordered"><tr>
<th>see</th>
<td>\global\_log_write()</td>
</tr></table>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$message</h4>
<code>string</code><p>the message to log</p></div>
</div></div>
</div>
<a name="log_notice" id="log_notice"></a><div class="element clickable function  log_notice" data-toggle="collapse" data-target=".log_notice .collapse">
<h2>Logs a NOTICE message.</h2>
<pre>log_notice(string $message) </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<table class="table table-bordered"><tr>
<th>see</th>
<td>\global\_log_write()</td>
</tr></table>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$message</h4>
<code>string</code><p>the message to log</p></div>
</div></div>
</div>
<a name="log_open" id="log_open"></a><div class="element clickable function  log_open" data-toggle="collapse" data-target=".log_open .collapse">
<h2>Opens the log file.</h2>
<pre>log_open() : bool</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>This function opens a pointed to the log file for later usage.</p></p>
<h3>Returns</h3>
<div class="subelement response">
<code>bool</code>true if the log file is opened successfully.</div>
</div></div>
</div>
<a name="log_warn" id="log_warn"></a><div class="element clickable function  log_warn" data-toggle="collapse" data-target=".log_warn .collapse">
<h2>Logs a WARN message.</h2>
<pre>log_warn(string $message) </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<table class="table table-bordered"><tr>
<th>see</th>
<td>\global\_log_write()</td>
</tr></table>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$message</h4>
<code>string</code><p>the message to log</p></div>
</div></div>
</div>
<a name="negotiate_content_type" id="negotiate_content_type"></a><div class="element clickable function  negotiate_content_type" data-toggle="collapse" data-target=".negotiate_content_type .collapse">
<h2>Content type negotiation using the Accept Header.</h2>
<pre>negotiate_content_type(array $content_types, string $accept_header) : string</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>Under HTTP, the user agent is able to negoatiate the content type returned with
the server using HTTP Accept header.  This header contains a comma-delimited
list of items (e.g. content types) which the user agent is able to
accept, ranked by a quality parameter.</p>

<p>This function takes the header from the user agent, compares it against the
content types which the server can provide, then returns the item which the highest
quality which the server can provide.</p></p>
<table class="table table-bordered"><tr>
<th>since</th>
<td>0.8</td>
</tr></table>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$content_types</h4>
<code>array</code><p>an array of content types which the server can provide</p></div>
<div class="subelement argument">
<h4>$accept_header</h4>
<code>string</code><p>the header string provided by the user agent. If NULL, this defaults to $_SERVER['HTTP_ACCEPT'] if available</p>
</div>
<h3>Returns</h3>
<div class="subelement response">
<code>string</code>the negotiated content type, FALSE if $accept_header is NULL and the user agent did not provide an Accept header, or NULL if the negotiation is unsuccessful</div>
</div></div>
</div>
<a name="openid_association_types" id="openid_association_types"></a><div class="element clickable function  openid_association_types" data-toggle="collapse" data-target=".openid_association_types .collapse">
<h2>Returns the association types supported by this server.</h2>
<pre>openid_association_types() : array</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<h3>Returns</h3>
<div class="subelement response">
<code>array</code>an array containing the association types supported by this server as keys and an array containing the key size (mac_size) and HMAC function (hmac_func) as values</div>
</div></div>
</div>
<a name="openid_dh_consumer_assoc" id="openid_dh_consumer_assoc"></a><div class="element clickable function  openid_dh_consumer_assoc" data-toggle="collapse" data-target=".openid_dh_consumer_assoc .collapse">
<h2>Complete association by obtaining the session MAC key from the key obtained
from the Diffie-Hellman key exchange</h2>
<pre>openid_dh_consumer_assoc(string $enc_mac_key, string $dh_server_public, string $dh_consumer_private, string $dh_modulus, string $hash_func) : string</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$enc_mac_key</h4>
<code>string</code><p>the encrypted session MAC key, in Base64 represnetation</p></div>
<div class="subelement argument">
<h4>$dh_server_public</h4>
<code>string</code><p>the server's public key, in Base64 representation</p>
</div>
<div class="subelement argument">
<h4>$dh_consumer_private</h4>
<code>string</code><p>the consumer's private key, in Base64 representation</p>
</div>
<div class="subelement argument">
<h4>$dh_modulus</h4>
<code>string</code><p>modulus, in Base64 representation</p></div>
<div class="subelement argument">
<h4>$hash_func</h4>
<code>string</code><p>the hash function</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>string</code>the decrypted session MAC key, in Base64 representation</div>
</div></div>
</div>
<a name="openid_dh_generate_key_pair" id="openid_dh_generate_key_pair"></a><div class="element clickable function  openid_dh_generate_key_pair" data-toggle="collapse" data-target=".openid_dh_generate_key_pair .collapse">
<h2>Generates a key pair for Diffie-Hellman key exchange.</h2>
<pre>openid_dh_generate_key_pair(string $dh_modulus, string $dh_gen) : array</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$dh_modulus</h4>
<code>string</code><p>modulus, in Base64 representation</p></div>
<div class="subelement argument">
<h4>$dh_gen</h4>
<code>string</code><p>generator, in Base64 representation</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>array</code>an array containing: (a) private - the private key, in Base64 and (b) public - the public key, in Base64</div>
</div></div>
</div>
<a name="openid_dh_server_assoc" id="openid_dh_server_assoc"></a><div class="element clickable function  openid_dh_server_assoc" data-toggle="collapse" data-target=".openid_dh_server_assoc .collapse">
<h2>Generates the cryptographic values required for responding to association
requests</h2>
<pre>openid_dh_server_assoc(string $mac_key, string $dh_consumer_public, string $dh_modulus, string $dh_gen, string $hash_func) : array</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>This involves generating a key pair for the OpenID provider, then calculating
the shared secret.  The shared secret is then used to encrypt the MAC key.</p></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$mac_key</h4>
<code>string</code><p>the MAC key, in binary representation</p></div>
<div class="subelement argument">
<h4>$dh_consumer_public</h4>
<code>string</code><p>the consumer's public key, in Base64 representation</p>
</div>
<div class="subelement argument">
<h4>$dh_modulus</h4>
<code>string</code><p>modulus - a large prime number</p>
</div>
<div class="subelement argument">
<h4>$dh_gen</h4>
<code>string</code><p>generator - a primitive root modulo</p>
</div>
<div class="subelement argument">
<h4>$hash_func</h4>
<code>string</code><p>the hash function</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>array</code>an array containing (a) dh_server_public - the server's public key (in Base64), and (b) enc_mac_key encrypted MAC key (in Base64), encrypted using the Diffie-Hellman shared secret</div>
</div></div>
</div>
<a name="openid_dh_shared_secret" id="openid_dh_shared_secret"></a><div class="element clickable function  openid_dh_shared_secret" data-toggle="collapse" data-target=".openid_dh_shared_secret .collapse">
<h2>Calculates the shared secret for Diffie-Hellman key exchange.</h2>
<pre>openid_dh_shared_secret(string $their_public, string $my_private, string $dh_modulus) : resource</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>This is the second step in the Diffle-Hellman key exchange process.  The other
party (in OpenID 1.0 terms, the consumer) has already generated the public
key ($dh_consumer_public) and sent it to this party (the server).  The Diffie-Hellman
modulus ($dh_modulus) and generator ($dh_gen) have either been sent or previously agreed.</p></p>
<table class="table table-bordered">
<tr>
<th>see</th>
<td>\global\openid_dh_generate_key_pair()</td>
</tr>
<tr>
<th>link</th>
<td><a href="http://www.ietf.org/rfc/rfc2631.txt">RFC 2631</a></td>
</tr>
</table>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$their_public</h4>
<code>string</code><p>the other party's public key, in Base64 representation</p>
</div>
<div class="subelement argument">
<h4>$my_private</h4>
<code>string</code><p>this party's private key, in Base64 representation</p>
</div>
<div class="subelement argument">
<h4>$dh_modulus</h4>
<code>string</code><p>modulus, in Base64 representation</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>resource</code>the shared secret (as a bignum)</div>
</div></div>
</div>
<a name="openid_direct_error" id="openid_direct_error"></a><div class="element clickable function  openid_direct_error" data-toggle="collapse" data-target=".openid_direct_error .collapse">
<h2>Sends a direct message indicating an error.</h2>
<pre>openid_direct_error(string $error, array $additional, float $version) </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>This is a convenience function
for <a href="openid_direct_response()">openid_direct_response()</a>.</p></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$error</h4>
<code>string</code><p>the error message</p></div>
<div class="subelement argument">
<h4>$additional</h4>
<code>array</code><p>any additional data to be sent with the error message</p></div>
<div class="subelement argument">
<h4>$version</h4>
<code>float</code><p>the message version</p></div>
</div></div>
</div>
<a name="openid_direct_message" id="openid_direct_message"></a><div class="element clickable function  openid_direct_message" data-toggle="collapse" data-target=".openid_direct_message .collapse">
<h2>Creates a OpenID message for direct response.</h2>
<pre>openid_direct_message(array $data, float $version) : string</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>The response will be encoded using Key-Value Form Encoding.</p></p>
<table class="table table-bordered"><tr>
<th>link</th>
<td><a href="http://openid.net/specs/openid-authentication-1_1.html#anchor32,">http://openid.net/specs/openid-authentication-2_0.html#kvform</a></td>
</tr></table>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$data</h4>
<code>array</code><p>the data in the response</p></div>
<div class="subelement argument">
<h4>$version</h4>
<code>float</code><p>the message version</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>string</code>the message in key-value form encoding</div>
</div></div>
</div>
<a name="openid_direct_response" id="openid_direct_response"></a><div class="element clickable function  openid_direct_response" data-toggle="collapse" data-target=".openid_direct_response .collapse">
<h2>Sends a direct response.</h2>
<pre>openid_direct_response(string $message, string $status) </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$message</h4>
<code>string</code><p>an OpenID message encoded using Key-Value Form</p>
</div>
<div class="subelement argument">
<h4>$status</h4>
<code>string</code><p>the HTTP status to send</p></div>
</div></div>
</div>
<a name="openid_encrypt_mac_key" id="openid_encrypt_mac_key"></a><div class="element clickable function  openid_encrypt_mac_key" data-toggle="collapse" data-target=".openid_encrypt_mac_key .collapse">
<h2>Encrypts/decrypts and encodes the MAC key.</h2>
<pre>openid_encrypt_mac_key(resource $ZZ, string $mac_key, string $hash_func) : string</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$ZZ</h4>
<code>resource</code><p>the Diffie-Hellman key exchange shared secret as a bignum</p>
</div>
<div class="subelement argument">
<h4>$mac_key</h4>
<code>string</code><p>a byte stream containing the MAC key</p></div>
<div class="subelement argument">
<h4>$hash_func</h4>
<code>string</code><p>the hash function</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>string</code>the encrypted MAC key in Base64 representation</div>
</div></div>
</div>
<a name="openid_extension_alias" id="openid_extension_alias"></a><div class="element clickable function  openid_extension_alias" data-toggle="collapse" data-target=".openid_extension_alias .collapse">
<h2>Returns the OpenID alias for an extension, given a Type URI, based on the
alias definitions in the current OpenID request.</h2>
<pre>openid_extension_alias(string $ns, bool | string $create) : string</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$ns</h4>
<code>string</code><p>the Type URI</p></div>
<div class="subelement argument">
<h4>$create</h4>
<code>bool</code><code>string</code><p>whether to create an alias if the Type URI does not already have an alias in the current OpenID request. If this parameter is a string, then the string specified is the preferred alias to be created, unless a collision occurs</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>string</code>the alias, or NULL if the Type URI does not already have an alias in the current OpenID request <i>and</i> $create is false</div>
</div></div>
</div>
<a name="openid_extension_filter_request" id="openid_extension_filter_request"></a><div class="element clickable function  openid_extension_filter_request" data-toggle="collapse" data-target=".openid_extension_filter_request .collapse">
<h2>Filters an OpenID request to find keys specific to an extension, as specified
by the Type URI.</h2>
<pre>openid_extension_filter_request(string $ns, array $request) : array</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>For exmaple, if the extension has the Type URI http://example.com/ and the
alias example, this function will return an array of all the keys in the
OpenID request which starts with openid.example</p></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$ns</h4>
<code>string</code><p>the Type URI of the extension</p></div>
<div class="subelement argument">
<h4>$request</h4>
<code>array</code><p>the OpenID request</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>array</code>the filtered request, with the prefix (in the example above, openid.example.) stripped in the keys.</div>
</div></div>
</div>
<a name="openid_extension_requested" id="openid_extension_requested"></a><div class="element clickable function  openid_extension_requested" data-toggle="collapse" data-target=".openid_extension_requested .collapse">
<h2>Determines whether an extension is present in an OpenID request.</h2>
<pre>openid_extension_requested(string $ns, array $request) : bool</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$ns</h4>
<code>string</code><p>the Type URI of the extension</p></div>
<div class="subelement argument">
<h4>$request</h4>
<code>array</code><p>the OpenID request</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>bool</code>true if the extension is present in the request</div>
</div></div>
</div>
<a name="openid_get_realm" id="openid_get_realm"></a><div class="element clickable function  openid_get_realm" data-toggle="collapse" data-target=".openid_get_realm .collapse">
<h2>Gets the realm from the OpenID request.</h2>
<pre>openid_get_realm(mixed $request, float $version) : string</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>This is specified differently
depending on the OpenID version.</p></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$request</h4>
<code>mixed</code><p>the OpenID request</p></div>
<div class="subelement argument">
<h4>$version</h4>
<code>float</code><p>the OpenID version for the message</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>string</code>the realm URI</div>
</div></div>
</div>
<a name="openid_get_version" id="openid_get_version"></a><div class="element clickable function  openid_get_version" data-toggle="collapse" data-target=".openid_get_version .collapse">
<h2>Detects the OpenID version of the current request</h2>
<pre>openid_get_version(mixed $request, string $key) : float</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<table class="table table-bordered"><tr>
<th>see</th>
<td>\global\$version</td>
</tr></table>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$request</h4>
<code>mixed</code><p>the OpenID request</p></div>
<div class="subelement argument">
<h4>$key</h4>
<code>string</code><p>the key to look for to determine the OpenID version</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>float</code>either OPENID_VERSION_2 or OPENID_VERSION_1_1</div>
</div></div>
</div>
<a name="openid_indirect_error" id="openid_indirect_error"></a><div class="element clickable function  openid_indirect_error" data-toggle="collapse" data-target=".openid_indirect_error .collapse">
<h2>Sends an indirect message indicating an error.</h2>
<pre>openid_indirect_error(string $url, string $error, array $additional, float $version, int $component) </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>This is a convenience function
for <a href="openid_indirect_response()">openid_indirect_response()</a>.</p></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$url</h4>
<code>string</code><p>the URL to which the error message is to be sent</p></div>
<div class="subelement argument">
<h4>$error</h4>
<code>string</code><p>the error message</p></div>
<div class="subelement argument">
<h4>$additional</h4>
<code>array</code><p>any additional data to be sent with the error message</p></div>
<div class="subelement argument">
<h4>$version</h4>
<code>float</code><p>the message version</p></div>
<div class="subelement argument">
<h4>$component</h4>
<code>int</code><p>the component of the URL in which the indirect message is encoded, either OPENID_RESPONSE_QUERY or OPENID_RESPONSE_FRAGMENT</p></div>
</div></div>
</div>
<a name="openid_indirect_message" id="openid_indirect_message"></a><div class="element clickable function  openid_indirect_message" data-toggle="collapse" data-target=".openid_indirect_message .collapse">
<h2>Creates a OpenID message for indirect response.</h2>
<pre>openid_indirect_message(array $data, float $version) : array</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>The response will be encoded using HTTP Encoding.</p></p>
<table class="table table-bordered"><tr>
<th>link</th>
<td><a href="http://openid.net/specs/openid-authentication-2_0.html#indirect_comm">http://openid.net/specs/openid-authentication-2_0.html#indirect_comm</a></td>
</tr></table>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$data</h4>
<code>array</code><p>the data in the response</p></div>
<div class="subelement argument">
<h4>$version</h4>
<code>float</code><p>the message version</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>array</code>the message</div>
</div></div>
</div>
<a name="openid_indirect_response" id="openid_indirect_response"></a><div class="element clickable function  openid_indirect_response" data-toggle="collapse" data-target=".openid_indirect_response .collapse">
<h2>Sends an indirect response to a URL.</h2>
<pre>openid_indirect_response(string $url, array | string $message, int $component) </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>The indirect message is encoded in the URL and returned to the user agent using
a HTTP redirect response.  The message can be encoded in either the query component
or the fragment component of the URL.</p></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$url</h4>
<code>string</code><p>the URL to which the response is to be sent</p></div>
<div class="subelement argument">
<h4>$message</h4>
<code>array</code><code>string</code><p>an OpenID message, which can either be an array of keys and values, or a URL-encoded query string</p>
</div>
<div class="subelement argument">
<h4>$component</h4>
<code>int</code><p>the component of the URL in which the indirect message is encoded, either OPENID_RESPONSE_QUERY or OPENID_RESPONSE_FRAGMENT</p></div>
</div></div>
</div>
<a name="openid_indirect_response_url" id="openid_indirect_response_url"></a><div class="element clickable function  openid_indirect_response_url" data-toggle="collapse" data-target=".openid_indirect_response_url .collapse">
<h2>Encodes an indirect message into a URL</h2>
<pre>openid_indirect_response_url(string $url, array | string $message, int $component) : string</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$url</h4>
<code>string</code><p>the URL to which the response is to be sent</p></div>
<div class="subelement argument">
<h4>$message</h4>
<code>array</code><code>string</code><p>an OpenID message, which can either be an array of keys and values, or a URL-encoded query string</p>
</div>
<div class="subelement argument">
<h4>$component</h4>
<code>int</code><p>the component of the URL in which the indirect message is encoded, either OPENID_RESPONSE_QUERY or OPENID_RESPONSE_FRAGMENT</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>string</code>the URL to which the response is to be sent, with the encoded message</div>
</div></div>
</div>
<a name="openid_nonce" id="openid_nonce"></a><div class="element clickable function  openid_nonce" data-toggle="collapse" data-target=".openid_nonce .collapse">
<h2>Generates a nonce for use in OpenID responses</h2>
<pre>openid_nonce() : string</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<table class="table table-bordered"><tr>
<th>link</th>
<td><a href="http://openid.net/specs/openid-authentication-2_0.html#positive_assertions">http://openid.net/specs/openid-authentication-2_0.html#positive_assertions</a></td>
</tr></table>
<h3>Returns</h3>
<div class="subelement response">
<code>string</code>an OpenID nonce</div>
</div></div>
</div>
<a name="openid_parse_direct_message" id="openid_parse_direct_message"></a><div class="element clickable function  openid_parse_direct_message" data-toggle="collapse" data-target=".openid_parse_direct_message .collapse">
<h2>Parses a direct message.</h2>
<pre>openid_parse_direct_message(string $message) : array</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<table class="table table-bordered"><tr>
<th>since</th>
<td>0.7</td>
</tr></table>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$message</h4>
<code>string</code><p>the direct message to parse</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>array</code>an array containing the parsed key-value pairs</div>
</div></div>
</div>
<a name="openid_parse_query" id="openid_parse_query"></a><div class="element clickable function  openid_parse_query" data-toggle="collapse" data-target=".openid_parse_query .collapse">
<h2>Parses a query string.</h2>
<pre>openid_parse_query(string $query) : array</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>Query strings can be used to receive OpenID indirect messages.</p></p>
<table class="table table-bordered"><tr>
<th>since</th>
<td>0.7</td>
</tr></table>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$query</h4>
<code>string</code><p>the query string to parse</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>array</code>an array containing the parsed key-value pairs</div>
</div></div>
</div>
<a name="openid_parse_request" id="openid_parse_request"></a><div class="element clickable function  openid_parse_request" data-toggle="collapse" data-target=".openid_parse_request .collapse">
<h2>Parses the OpenID request to extract namespace information.</h2>
<pre>openid_parse_request(array $request) </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>This function builds a map between namespace aliases and their Type URIs.</p></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$request</h4>
<code>array</code><p>the OpenID request</p></div>
</div></div>
</div>
<a name="openid_realm_discovery_url" id="openid_realm_discovery_url"></a><div class="element clickable function  openid_realm_discovery_url" data-toggle="collapse" data-target=".openid_realm_discovery_url .collapse">
<h2>Returns the URL of a relying party endpoint for a specified realm.</h2>
<pre>openid_realm_discovery_url(string $realm) </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>This URL
is used to discover services associated with the realm.</p>

<p>If the realm's domain contains the wild-card characters "*.", this is substituted
with "www.".</p></p>
<table class="table table-bordered">
<tr>
<th>url</th>
<td>string the URL</td>
</tr>
<tr>
<th>since</th>
<td>0.7</td>
</tr>
</table>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$realm</h4>
<code>string</code><p>the realm</p></div>
</div></div>
</div>
<a name="openid_session_types" id="openid_session_types"></a><div class="element clickable function  openid_session_types" data-toggle="collapse" data-target=".openid_session_types .collapse">
<h2>Returns the association types supported by this server and the version of
OpenID.</h2>
<pre>openid_session_types(bool $is_https, float $version) : array</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>OpenID version 1 supports an empty string as the session type.  OpenID version 2
reqires a session type to be sent.</p></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$is_https</h4>
<code>bool</code><p>whether the transport layer encryption is used for the current connection</p></div>
<div class="subelement argument">
<h4>$version</h4>
<code>float</code><p>the OpenID version, either OPENID_VERSION_1_1 and OPENID_VERSION_2</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>array</code>an array containing the session types supported by this server as keys and an array containing the hash function (hash_func) as values</div>
</div></div>
</div>
<a name="openid_sign" id="openid_sign"></a><div class="element clickable function  openid_sign" data-toggle="collapse" data-target=".openid_sign .collapse">
<h2>Calculates a signature of an OpenID message</h2>
<pre>openid_sign(array $data, array $keys, string $mac_key, string $hmac_func, float $version) : string</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$data</h4>
<code>array</code><p>the data in the message</p></div>
<div class="subelement argument">
<h4>$keys</h4>
<code>array</code><p>a list of keys in the message to be signed (without the 'openid.' prefix)</p>
</div>
<div class="subelement argument">
<h4>$mac_key</h4>
<code>string</code><p>the MAC key used to sign the message, in Base64 representation</p></div>
<div class="subelement argument">
<h4>$hmac_func</h4>
<code>string</code><p>the HMAC function used in the signing process</p></div>
<div class="subelement argument">
<h4>$version</h4>
<code>float</code><p>the OpenID version</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>string</code>the signature encoded in Base64</div>
</div></div>
</div>
<a name="openid_url_matches_realm" id="openid_url_matches_realm"></a><div class="element clickable function  openid_url_matches_realm" data-toggle="collapse" data-target=".openid_url_matches_realm .collapse">
<h2>Determines whether a URL matches a realm.</h2>
<pre>openid_url_matches_realm(string $url, string $realm) : bool</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>A URL matches a realm if:</p>

<ol>
<li>The URL scheme and port of the URL are identical to those in the realm.
See RFC 3986, section 3.1 for rules about URI matching.</li>
<li>The URL's path is equal to or a sub-directory of the realm's path.</li>
<li>Either:
(a) The realm's domain contains the wild-card characters "<em>.", and the
   trailing part of the URL's domain is identical to the part of the
   realm following the "</em>." wildcard, or
(b) The URL's domain is identical to the realm's domain</li>
</ol></p>
<table class="table table-bordered"><tr>
<th>since</th>
<td>0.6</td>
</tr></table>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$url</h4>
<code>string</code><p>to URL to test</p></div>
<div class="subelement argument">
<h4>$realm</h4>
<code>string</code><p>the realm</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>bool</code>true if the URL matches the realm</div>
</div></div>
</div>
<a name="openid_urlencode_message" id="openid_urlencode_message"></a><div class="element clickable function  openid_urlencode_message" data-toggle="collapse" data-target=".openid_urlencode_message .collapse">
<h2>Encodes a message in application/x-www-form-urlencoded format.</h2>
<pre>openid_urlencode_message(array $message) : string</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<table class="table table-bordered"><tr>
<th>since</th>
<td>0.8</td>
</tr></table>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$message</h4>
<code>array</code><p>the OpenID message to encode</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>string</code>the encoded message</div>
</div></div>
</div>
<a name="openid_verify_return_to" id="openid_verify_return_to"></a><div class="element clickable function  openid_verify_return_to" data-toggle="collapse" data-target=".openid_verify_return_to .collapse">
<h2>Verifies a return_to URL against the actual URL of the HTTP request.</h2>
<pre>openid_verify_return_to(string $return_to, string $actual_url) : bool</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>The return_to URL matches if:</p>

<ul>
<li>The URL scheme, authority, and path are the same; and</li>
<li>Any query parameters that are present in the return_to URL are also present
with the same values in the actual request.</li>
</ul></p>
<table class="table table-bordered"><tr>
<th>since</th>
<td>0.7</td>
</tr></table>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$return_to</h4>
<code>string</code><p>the URL specified in the openid.return_to parameter</p></div>
<div class="subelement argument">
<h4>$actual_url</h4>
<code>string</code><p>the actual URL requested</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>bool</code>true if the URLs match</div>
</div></div>
</div>
<a name="page_dashboard" id="page_dashboard"></a><div class="element clickable function  page_dashboard" data-toggle="collapse" data-target=".page_dashboard .collapse">
<h2>Displays the dashboard page.</h2>
<pre>page_dashboard() </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description"><p class="long_description"></p></div></div>
</div>
<a name="page_nav" id="page_nav"></a><div class="element clickable function  page_nav" data-toggle="collapse" data-target=".page_nav .collapse">
<h2>Set up the navigation section in the header</h2>
<pre>page_nav() </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description"><p class="long_description"></p></div></div>
</div>
<a name="page_profile" id="page_profile"></a><div class="element clickable function  page_profile" data-toggle="collapse" data-target=".page_profile .collapse">
<h2>Displays the profile page.</h2>
<pre>page_profile() </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description"><p class="long_description"></p></div></div>
</div>
<a name="page_render_block" id="page_render_block"></a><div class="element clickable function  page_render_block" data-toggle="collapse" data-target=".page_render_block .collapse">
<h2>Renders a particular block.</h2>
<pre>page_render_block(array $block) : string</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$block</h4>
<code>array</code><p>the block to render</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>string</code>the HTML of the rendered block</div>
</div></div>
</div>
<a name="page_sites" id="page_sites"></a><div class="element clickable function  page_sites" data-toggle="collapse" data-target=".page_sites .collapse">
<h2>Returns the user's home page.</h2>
<pre>page_sites() </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description"><p class="long_description"></p></div></div>
</div>
<a name="pape_checkid_identity" id="pape_checkid_identity"></a><div class="element clickable function  pape_checkid_identity" data-toggle="collapse" data-target=".pape_checkid_identity .collapse">
<h2>pape_checkid_identity()
        </h2>
<pre>pape_checkid_identity($request, $identity, $immediate) </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<table class="table table-bordered"><tr>
<th>see</th>
<td>\global\hook_checkid_identity()</td>
</tr></table>
<h3>Parameters</h3>
<div class="subelement argument"><h4>$request</h4></div>
<div class="subelement argument"><h4>$identity</h4></div>
<div class="subelement argument"><h4>$immediate</h4></div>
</div></div>
</div>
<a name="pape_response" id="pape_response"></a><div class="element clickable function  pape_response" data-toggle="collapse" data-target=".pape_response .collapse">
<h2>pape_response()
        </h2>
<pre>pape_response($assertion, $request) </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<table class="table table-bordered"><tr>
<th>see</th>
<td>\global\hook_response()</td>
</tr></table>
<h3>Parameters</h3>
<div class="subelement argument"><h4>$assertion</h4></div>
<div class="subelement argument"><h4>$request</h4></div>
</div></div>
</div>
<a name="pape_signed_fields" id="pape_signed_fields"></a><div class="element clickable function  pape_signed_fields" data-toggle="collapse" data-target=".pape_signed_fields .collapse">
<h2>Returns an array of fields that need signing.</h2>
<pre>pape_signed_fields($response) </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<table class="table table-bordered"><tr>
<th>see</th>
<td>\global\hook_signed_fields()</td>
</tr></table>
<h3>Parameters</h3>
<div class="subelement argument"><h4>$response</h4></div>
</div></div>
</div>
<a name="pape_xrds_types" id="pape_xrds_types"></a><div class="element clickable function  pape_xrds_types" data-toggle="collapse" data-target=".pape_xrds_types .collapse">
<h2>Returns the support for PAPE in SimpleID XRDS document</h2>
<pre>pape_xrds_types() : array</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<table class="table table-bordered"><tr>
<th>see</th>
<td>\global\hook_xrds_types()</td>
</tr></table>
<h3>Returns</h3>
<div class="subelement response"><code>array</code></div>
</div></div>
</div>
<a name="parse_http_query" id="parse_http_query"></a><div class="element clickable function  parse_http_query" data-toggle="collapse" data-target=".parse_http_query .collapse">
<h2>Parses a query string.</h2>
<pre>parse_http_query(string $query) : array</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<table class="table table-bordered"><tr>
<th>since</th>
<td>0.7</td>
</tr></table>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$query</h4>
<code>string</code><p>the query string to parse</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>array</code>an array containing the parsed key-value pairs</div>
</div></div>
</div>
<a name="pickle" id="pickle"></a><div class="element clickable function  pickle" data-toggle="collapse" data-target=".pickle .collapse">
<h2>Serialises a variable for inclusion as a URL parameter.</h2>
<pre>pickle(mixed $data) : string</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<table class="table table-bordered"><tr>
<th>see</th>
<td>\global\unpickle()</td>
</tr></table>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$data</h4>
<code>mixed</code><p>the data to serialise</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>string</code>serialised data</div>
</div></div>
</div>
<a name="random_bytes" id="random_bytes"></a><div class="element clickable function  random_bytes" data-toggle="collapse" data-target=".random_bytes .collapse">
<h2>Obtains a number of random bytes.</h2>
<pre>random_bytes(int $num_bytes) : string</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>This function uses an entropy source specified
in SIMPLEID_RAND_SOURCE.  If SIMPLEID_RAND_SOURCE is not available, the mt_rand()
PHP function is used</p></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$num_bytes</h4>
<code>int</code><p>the number of bytes to generate</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>string</code>a string containing random bytes</div>
</div></div>
</div>
<a name="random_id" id="random_id"></a><div class="element clickable function  random_id" data-toggle="collapse" data-target=".random_id .collapse">
<h2>Generates a relatively unique identifier which can be used as, among other things,
an OpenID association handle or an OAuth client identifier.</h2>
<pre>random_id() : string</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>The identifier
returned is at least 24 characters long and contains only hexadecimal characters.</p>

<p>Note that the identifier returned is not cryptographically secure.</p></p>
<h3>Returns</h3>
<div class="subelement response">
<code>string</code>a relatively unique identifier</div>
</div></div>
</div>
<a name="random_secret" id="random_secret"></a><div class="element clickable function  random_secret" data-toggle="collapse" data-target=".random_secret .collapse">
<h2>Obtains a random string of a specified number of bytes of entropy.</h2>
<pre>random_secret(int $num_bytes) : string</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>The function calls the <a href="random_bytes()">random_bytes()</a> function with the specified
number of bytes, then converts to a string containing only alphanumeric
characters (case sensitive), plus the characters ., _ and -.</p>

<p>The conversion method is based on the Base64 encoding.  However, non-standard
characters are used so that users are not confused and attempt to decode
the returned string.</p></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$num_bytes</h4>
<code>int</code><p>the approximate number of bytes of entropy in the random string</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>string</code>the random string</div>
</div></div>
</div>
<a name="rfc3986_urlencode" id="rfc3986_urlencode"></a><div class="element clickable function  rfc3986_urlencode" data-toggle="collapse" data-target=".rfc3986_urlencode .collapse">
<h2>Encodes a URL using RFC 3986.</h2>
<pre>rfc3986_urlencode(string $s) : string</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>PHP's rfc3986_urlencode function encodes a URL using RFC 1738 for PHP versions
prior to 5.3.  RFC 1738 has been
updated by RFC 3986, which change the list of characters which needs to be
encoded.</p>

<p>Strictly correct encoding is required for various purposes, such as OAuth
signature base strings.</p></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$s</h4>
<code>string</code><p>the URL to encode</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>string</code>the encoded URL</div>
</div></div>
</div>
<a name="rfc3986_urlencode" id="rfc3986_urlencode"></a><div class="element clickable function  rfc3986_urlencode" data-toggle="collapse" data-target=".rfc3986_urlencode .collapse">
<h2>Encodes a URL using RFC 3986.</h2>
<pre>rfc3986_urlencode(string $s) : string</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>PHP's rawurlencode function encodes a URL using RFC 1738.  RFC 1738 has been
updated by RFC 3986, which change the list of characters which needs to be
encoded.</p>

<p>Strictly correct encoding is required for various purposes, such as OAuth
signature base strings.</p></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$s</h4>
<code>string</code><p>the URL to encode</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>string</code>the encoded URL</div>
</div></div>
</div>
<a name="set_message" id="set_message"></a><div class="element clickable function  set_message" data-toggle="collapse" data-target=".set_message .collapse">
<h2>Sets a message to display to the user on the rendered SimpleID page.</h2>
<pre>set_message(string $msg) </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$msg</h4>
<code>string</code><p>the message to set</p></div>
</div></div>
</div>
<a name="simpleid_assertion_response" id="simpleid_assertion_response"></a><div class="element clickable function  simpleid_assertion_response" data-toggle="collapse" data-target=".simpleid_assertion_response .collapse">
<h2>Sends an OpenID assertion response.</h2>
<pre>simpleid_assertion_response(array $response, string $indirect_url) </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>The OpenID specification version 2.0 provides for the sending of assertions
via indirect communication.  However, future versions of the OpenID
specification may provide for sending of assertions via direct communication.</p></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$response</h4>
<code>array</code><p>the signed OpenID assertion response to send</p></div>
<div class="subelement argument">
<h4>$indirect_url</h4>
<code>string</code><p>the URL to which the OpenID response is sent. If this is an empty string, the response is sent via direct communication</p></div>
</div></div>
</div>
<a name="simpleid_associate" id="simpleid_associate"></a><div class="element clickable function  simpleid_associate" data-toggle="collapse" data-target=".simpleid_associate .collapse">
<h2>Processes an association request from a relying party.</h2>
<pre>simpleid_associate(array $request) </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>An association request has an openid.mode value of
associate.  This function checks whether the association request
is valid, and if so, creates an association and sends the response to
the relying party.</p></p>
<table class="table table-bordered">
<tr>
<th>see</th>
<td>\global\_simpleid_create_association()</td>
</tr>
<tr>
<th>link</th>
<td><a href="http://openid.net/specs/openid-authentication-1_1.html#mode_associate,">http://openid.net/specs/openid-authentication-2_0.html#associations</a></td>
</tr>
</table>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$request</h4>
<code>array</code><p>the OpenID request</p></div>
</div></div>
</div>
<a name="simpleid_check_authentication" id="simpleid_check_authentication"></a><div class="element clickable function  simpleid_check_authentication" data-toggle="collapse" data-target=".simpleid_check_authentication .collapse">
<h2>Processes a direct verification request.</h2>
<pre>simpleid_check_authentication(array $request) </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>This is used in the OpenID specification
to verify signatures generated using stateless mode.</p></p>
<table class="table table-bordered"><tr>
<th>see</th>
<td>\global\http://openid.net/specs/openid-authentication-1_1.html#mode_check_authentication,</td>
</tr></table>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$request</h4>
<code>array</code><p>the OpenID request</p></div>
</div></div>
</div>
<a name="simpleid_checkid" id="simpleid_checkid"></a><div class="element clickable function  simpleid_checkid" data-toggle="collapse" data-target=".simpleid_checkid .collapse">
<h2>Processes an authentication request from a relying party.</h2>
<pre>simpleid_checkid(array $request) </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>An authentication request has an openid.mode value of
checkid_setup or checkid_immediate.</p>

<p>If the authentication request is a standard OpenID request about an identity
(i.e. contains the key openid.identity), this function calls
<a href="simpleid_checkid_identity()">simpleid_checkid_identity()</a> to see whether the user logged on into SimpleID
matches the identity supplied in the OpenID request.</p>

<p>If the authentication request is not about an identity, this function calls
the <a href="hook_checkid()">checkid hook</a> of the loaded extensions.</p>

<p>Depending on the OpenID version, this function will supply an appropriate
assertion.</p></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$request</h4>
<code>array</code><p>the OpenID request</p></div>
</div></div>
</div>
<a name="simpleid_checkid_approval_required" id="simpleid_checkid_approval_required"></a><div class="element clickable function  simpleid_checkid_approval_required" data-toggle="collapse" data-target=".simpleid_checkid_approval_required .collapse">
<h2>Returns an OpenID response indicating a negative assertion to a
checkid_immediate request, where an approval of the relying party by the
user is required</h2>
<pre>simpleid_checkid_approval_required(mixed $request) : mixed</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<table class="table table-bordered"><tr>
<th>link</th>
<td><a href="http://openid.net/specs/openid-authentication-1_1.html#anchor17,">http://openid.net/specs/openid-authentication-1_1.html#anchor23, http://openid.net/specs/openid-authentication-2_0.html#negative_assertions</a></td>
</tr></table>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$request</h4>
<code>mixed</code><p>the OpenID request</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>mixed</code>an OpenID response with a negative assertion</div>
</div></div>
</div>
<a name="simpleid_checkid_error" id="simpleid_checkid_error"></a><div class="element clickable function  simpleid_checkid_error" data-toggle="collapse" data-target=".simpleid_checkid_error .collapse">
<h2>Returns an OpenID response indicating a generic negative assertion.</h2>
<pre>simpleid_checkid_error(array $request, bool $immediate) : array</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>The content of the negative version depends on the OpenID version, and whether
the openid.mode of the request was checkid_immediate</p></p>
<table class="table table-bordered"><tr>
<th>link</th>
<td><a href="http://openid.net/specs/openid-authentication-1_1.html#anchor17,">http://openid.net/specs/openid-authentication-1_1.html#anchor23, http://openid.net/specs/openid-authentication-2_0.html#negative_assertions</a></td>
</tr></table>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$request</h4>
<code>array</code><p>the OpenID request</p></div>
<div class="subelement argument">
<h4>$immediate</h4>
<code>bool</code><p>true if openid.mode of the request was checkid_immediate</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>array</code>an OpenID response with a negative assertion</div>
</div></div>
</div>
<a name="simpleid_checkid_identity" id="simpleid_checkid_identity"></a><div class="element clickable function  simpleid_checkid_identity" data-toggle="collapse" data-target=".simpleid_checkid_identity .collapse">
<h2>Processes a standard OpenID authentication request about an identity.</h2>
<pre>simpleid_checkid_identity(array $request, bool $immediate) : int</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>Checks whether the current user logged into SimpleID matches the identity
supplied in an OpenID request.</p></p>
<table class="table table-bordered"><tr>
<th>global</th>
<td>array the current logged in user</td>
</tr></table>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$request</h4>
<code>array</code><p>&$request the OpenID request</p>
</div>
<div class="subelement argument">
<h4>$immediate</h4>
<code>bool</code><p>whether checkid_immediate was used</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>int</code>one of CHECKID_OK, CHECKID_APPROVAL_REQUIRED, CHECKID_RETURN_TO_SUSPECT, CHECKID_IDENTITY_NOT_EXIST, CHECKID_IDENTITIES_NOT_MATCHING, CHECKID_LOGIN_REQUIRED or CHECKID_PROTOCOL_ERROR</div>
</div></div>
</div>
<a name="simpleid_checkid_login_required" id="simpleid_checkid_login_required"></a><div class="element clickable function  simpleid_checkid_login_required" data-toggle="collapse" data-target=".simpleid_checkid_login_required .collapse">
<h2>Returns an OpenID response indicating a negative assertion to a
checkid_immediate request, where the user has not logged in.</h2>
<pre>simpleid_checkid_login_required(array $request) : array</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<table class="table table-bordered"><tr>
<th>link</th>
<td><a href="http://openid.net/specs/openid-authentication-1_1.html#anchor17,">http://openid.net/specs/openid-authentication-1_1.html#anchor23, http://openid.net/specs/openid-authentication-2_0.html#negative_assertions</a></td>
</tr></table>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$request</h4>
<code>array</code><p>the OpenID request</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>array</code>an OpenID response with a negative assertion</div>
</div></div>
</div>
<a name="simpleid_checkid_ok" id="simpleid_checkid_ok"></a><div class="element clickable function  simpleid_checkid_ok" data-toggle="collapse" data-target=".simpleid_checkid_ok .collapse">
<h2>Returns an OpenID response indicating a positive assertion.</h2>
<pre>simpleid_checkid_ok(array $request) : array</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<table class="table table-bordered"><tr>
<th>link</th>
<td><a href="http://openid.net/specs/openid-authentication-1_1.html#anchor17,">http://openid.net/specs/openid-authentication-1_1.html#anchor23, http://openid.net/specs/openid-authentication-2_0.html#positive_assertions</a></td>
</tr></table>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$request</h4>
<code>array</code><p>the OpenID request</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>array</code>an OpenID response with a positive assertion</div>
</div></div>
</div>
<a name="simpleid_continue" id="simpleid_continue"></a><div class="element clickable function  simpleid_continue" data-toggle="collapse" data-target=".simpleid_continue .collapse">
<h2>Continues an OpenID authentication request.</h2>
<pre>simpleid_continue() </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description"><p class="long_description"><p>This function decodes an OpenID authentication request specified in the
s request parameter and feeds it to the
<a href="simpleid_process_openid">simpleid_process_openid</a> function.  This allows SimpleID to preserve
the state of an OpenID request.</p></p></div></div>
</div>
<a name="simpleid_cookie_name" id="simpleid_cookie_name"></a><div class="element clickable function  simpleid_cookie_name" data-toggle="collapse" data-target=".simpleid_cookie_name .collapse">
<h2>Returns a relatively unique cookie name based on a specified suffix and
SIMPLEID_BASE_URL.</h2>
<pre>simpleid_cookie_name(string $suffix) : string</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$suffix</h4>
<code>string</code><p>the cookie name suffix</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>string</code>the cookie name</div>
</div></div>
</div>
<a name="simpleid_get_rp_info" id="simpleid_get_rp_info"></a><div class="element clickable function  simpleid_get_rp_info" data-toggle="collapse" data-target=".simpleid_get_rp_info .collapse">
<h2>Obtains information on a relying party by performing discovery on them.</h2>
<pre>simpleid_get_rp_info(string $realm, bool $allow_stale) : array</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>Information
obtained includes the discovery URL, the parsed XRDS document, and any other
information saved by SimpleID extensions</p>

<p>The results are cached for 1 hour.  For performance reasons, stale results may
be obtained by using the $allow_stale parameter</p></p>
<table class="table table-bordered">
<tr>
<th>link</th>
<td><a href="http://openid.net/specs/openid-authentication-2_0.html#rp_discovery">http://openid.net/specs/openid-authentication-2_0.html#rp_discovery</a></td>
</tr>
<tr>
<th>since</th>
<td>0.8</td>
</tr>
</table>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$realm</h4>
<code>string</code><p>the openid.realm parameter</p></div>
<div class="subelement argument">
<h4>$allow_stale</h4>
<code>bool</code><p>allow stale results to be returned, otherwise discovery will occur</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>array</code>containing information on a relying party.</div>
</div></div>
</div>
<a name="simpleid_host_url" id="simpleid_host_url"></a><div class="element clickable function  simpleid_host_url" data-toggle="collapse" data-target=".simpleid_host_url .collapse">
<h2>Obtains the URL of the host of the SimpleID's installation.</h2>
<pre>simpleid_host_url(string $secure) : string</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>The host is worked
out based on SIMPLEID_BASE_URL</p></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$secure</h4>
<code>string</code><p>if $relative is false, either 'https' to force an HTTPS connection, 'http' to force an unencrypted HTTP connection, or NULL to vary based on SIMPLEID_BASE_URL</p>
</div>
<h3>Returns</h3>
<div class="subelement response">
<code>string</code>the url</div>
</div></div>
</div>
<a name="simpleid_index" id="simpleid_index"></a><div class="element clickable function  simpleid_index" data-toggle="collapse" data-target=".simpleid_index .collapse">
<h2>The default route, called when the q parameter is missing or is invalid.</h2>
<pre>simpleid_index() </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description"><p class="long_description"><p>This function performs the following:</p>

<ul>
<li>If openid.mode is present, then the request is an OpenID request.  This
is passed to <a href="simpleid_process_openid()">simpleid_process_openid()</a></li>
<li>If the Accept HTTP header contains the expression application/xrds+xml, then
the request is a YADIS discovery request for SimpleID as an OpenID provider.  Thi
is passed to <a href="simpleid_xrds()">simpleid_xrds()</a></li>
<li>Otherwise, the dashboard or the login page is displayed to the user as
appropriate</li>
</ul></p></div></div>
</div>
<a name="simpleid_openid_consent" id="simpleid_openid_consent"></a><div class="element clickable function  simpleid_openid_consent" data-toggle="collapse" data-target=".simpleid_openid_consent .collapse">
<h2>Processes a user response from the {@link simpleid_openid_consent_form()} function.</h2>
<pre>simpleid_openid_consent() </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description"><p class="long_description"><p>If the user verifies the relying party, an OpenID response will be sent to
the relying party.  Otherwise, the dashboard will be displayed to the user.</p></p></div></div>
</div>
<a name="simpleid_openid_consent_form" id="simpleid_openid_consent_form"></a><div class="element clickable function  simpleid_openid_consent_form" data-toggle="collapse" data-target=".simpleid_openid_consent_form .collapse">
<h2>Provides a form for user consent of an OpenID relying party, where the
{@link simpleid_checkid_identity()} function returns a CHECKID_APPROVAL_REQUIRED
or CHECKID_RETURN_TO_SUSPECT.</h2>
<pre>simpleid_openid_consent_form(array $request, array $response, int $reason) </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>Alternatively, provide a form for the user to rectify the situation where
<a href="simpleid_checkid_identity()">simpleid_checkid_identity()</a> function returns a CHECKID_IDENTITIES_NOT_MATCHING
or CHECKID_IDENTITY_NOT_EXIST</p></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$request</h4>
<code>array</code><p>the original OpenID request</p></div>
<div class="subelement argument">
<h4>$response</h4>
<code>array</code><p>the proposed OpenID response, subject to user verification</p></div>
<div class="subelement argument">
<h4>$reason</h4>
<code>int</code><p>either CHECKID_APPROVAL_REQUIRED, CHECKID_RETURN_TO_SUSPECT, CHECKID_IDENTITIES_NOT_MATCHING or CHECKID_IDENTITY_NOT_EXIST</p></div>
</div></div>
</div>
<a name="simpleid_process_openid" id="simpleid_process_openid"></a><div class="element clickable function  simpleid_process_openid" data-toggle="collapse" data-target=".simpleid_process_openid .collapse">
<h2>Process an OpenID request.</h2>
<pre>simpleid_process_openid(array $request) </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>This function determines the version of the OpenID specification that is
relevant to this request, checks openid.mode and passes the
request on to the function required to process the request.</p>

<p>The OpenID request expressed as an array contain key-value pairs corresponding
to the HTTP request.  This is usually contained in the</p>

<pre><code>$_REQUEST</code></pre>

<p>variable.</p></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$request</h4>
<code>array</code><p>the OpenID request</p></div>
</div></div>
</div>
<a name="simpleid_route" id="simpleid_route"></a><div class="element clickable function  simpleid_route" data-toggle="collapse" data-target=".simpleid_route .collapse">
<h2>Dispatches to the correct SimpleID function based on the request path.</h2>
<pre>simpleid_route(string $q) </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>The
request path usually comes from the q parameter in the query string (which may
be inserted by mod_rewrite), but can come from other functions as well.</p></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$q</h4>
<code>string</code><p>the request path</p></div>
</div></div>
</div>
<a name="simpleid_set_rp_info" id="simpleid_set_rp_info"></a><div class="element clickable function  simpleid_set_rp_info" data-toggle="collapse" data-target=".simpleid_set_rp_info .collapse">
<h2>Saves information on a relying party to disk.</h2>
<pre>simpleid_set_rp_info(string $realm, array $rp_info) </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<table class="table table-bordered"><tr>
<th>since</th>
<td>0.8</td>
</tr></table>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$realm</h4>
<code>string</code><p>the openid.realm parameter</p></div>
<div class="subelement argument">
<h4>$rp_info</h4>
<code>array</code><p>containing information on a relying party.</p></div>
</div></div>
</div>
<a name="simpleid_sign" id="simpleid_sign"></a><div class="element clickable function  simpleid_sign" data-toggle="collapse" data-target=".simpleid_sign .collapse">
<h2>Signs an OpenID response, using signature information from an association
handle.</h2>
<pre>simpleid_sign(array $response, array $assoc_handle) : array</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$response</h4>
<code>array</code><p>&$response the OpenID response</p>
</div>
<div class="subelement argument">
<h4>$assoc_handle</h4>
<code>array</code><p>the association handle containing key information for the signature. If $assoc_handle is not specified, a private association is created</p>
</div>
<h3>Returns</h3>
<div class="subelement response">
<code>array</code>the signed OpenID response</div>
</div></div>
</div>
<a name="simpleid_start" id="simpleid_start"></a><div class="element clickable function  simpleid_start" data-toggle="collapse" data-target=".simpleid_start .collapse">
<h2>Entry point for SimpleID.</h2>
<pre>simpleid_start() </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<table class="table table-bordered"><tr>
<th>see</th>
<td>\global\user_init()</td>
</tr></table>
</div></div>
</div>
<a name="simpleid_url" id="simpleid_url"></a><div class="element clickable function  simpleid_url" data-toggle="collapse" data-target=".simpleid_url .collapse">
<h2>Obtains a SimpleID URL.</h2>
<pre>simpleid_url(string $q, string $params, bool $relative, string $secure) : string</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>URLs produced by SimpleID should use this function.</p></p>
<table class="table table-bordered"><tr>
<th>since</th>
<td>0.7</td>
</tr></table>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$q</h4>
<code>string</code><p>the q parameter</p></div>
<div class="subelement argument">
<h4>$params</h4>
<code>string</code><p>a properly encoded query string</p></div>
<div class="subelement argument">
<h4>$relative</h4>
<code>bool</code><p>whether a relative URL should be returned</p></div>
<div class="subelement argument">
<h4>$secure</h4>
<code>string</code><p>if $relative is false, either 'https' to force an HTTPS connection, 'http' to force an unencrypted HTTP connection, 'detect' to base on the current connection, or NULL to vary based on SIMPLEID_BASE_URL</p>
</div>
<h3>Returns</h3>
<div class="subelement response">
<code>string</code>the url</div>
</div></div>
</div>
<a name="simpleid_verify_signatures" id="simpleid_verify_signatures"></a><div class="element clickable function  simpleid_verify_signatures" data-toggle="collapse" data-target=".simpleid_verify_signatures .collapse">
<h2>Verifies the signature of a signed OpenID request/response.</h2>
<pre>simpleid_verify_signatures(array $request) : bool</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<table class="table table-bordered"><tr>
<th>since</th>
<td>0.8</td>
</tr></table>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$request</h4>
<code>array</code><p>the OpenID request/response</p>
</div>
<h3>Returns</h3>
<div class="subelement response">
<code>bool</code>true if the signature is verified</div>
</div></div>
</div>
<a name="simpleid_xrds" id="simpleid_xrds"></a><div class="element clickable function  simpleid_xrds" data-toggle="collapse" data-target=".simpleid_xrds .collapse">
<h2>Displays the XRDS document for this SimpleID installation.</h2>
<pre>simpleid_xrds() </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description"><p class="long_description"></p></div></div>
</div>
<a name="simpleweb_run" id="simpleweb_run"></a><div class="element clickable function  simpleweb_run" data-toggle="collapse" data-target=".simpleweb_run .collapse">
<h2>Handles a supplied request, based on a set of routes.</h2>
<pre>simpleweb_run(array $routes, string $request_path, string $not_found_route) : mixed</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$routes</h4>
<code>array</code><p>the routes array, as described in {@link simpleweb.inc this page}</p>
</div>
<div class="subelement argument">
<h4>$request_path</h4>
<code>string</code><p>the request path against which the routes are applied. If NULL, then the request URI supplied by the web server will be used.</p></div>
<div class="subelement argument">
<h4>$not_found_route</h4>
<code>string</code><p>the default route if none of the patterns match. If NULL, then an HTTP 404 error is raised</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>mixed</code>the result from calling the route.</div>
</div></div>
</div>
<a name="sreg_consent" id="sreg_consent"></a><div class="element clickable function  sreg_consent" data-toggle="collapse" data-target=".sreg_consent .collapse">
<h2>sreg_consent()
        </h2>
<pre>sreg_consent($form_request, $response, $rp) </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<table class="table table-bordered"><tr>
<th>see</th>
<td>\global\hook_consent()</td>
</tr></table>
<h3>Parameters</h3>
<div class="subelement argument"><h4>$form_request</h4></div>
<div class="subelement argument"><h4>$response</h4></div>
<div class="subelement argument"><h4>$rp</h4></div>
</div></div>
</div>
<a name="sreg_consent_form" id="sreg_consent_form"></a><div class="element clickable function  sreg_consent_form" data-toggle="collapse" data-target=".sreg_consent_form .collapse">
<h2>sreg_consent_form()
        </h2>
<pre>sreg_consent_form($request, $response, $rp) </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<table class="table table-bordered"><tr>
<th>see</th>
<td>\global\hook_consent_form()</td>
</tr></table>
<h3>Parameters</h3>
<div class="subelement argument"><h4>$request</h4></div>
<div class="subelement argument"><h4>$response</h4></div>
<div class="subelement argument"><h4>$rp</h4></div>
</div></div>
</div>
<a name="sreg_page_profile" id="sreg_page_profile"></a><div class="element clickable function  sreg_page_profile" data-toggle="collapse" data-target=".sreg_page_profile .collapse">
<h2>sreg_page_profile()
        </h2>
<pre>sreg_page_profile() </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<table class="table table-bordered"><tr>
<th>see</th>
<td>\global\hook_page_profile()</td>
</tr></table>
</div></div>
</div>
<a name="sreg_response" id="sreg_response"></a><div class="element clickable function  sreg_response" data-toggle="collapse" data-target=".sreg_response .collapse">
<h2>sreg_response()
        </h2>
<pre>sreg_response($assertion, $request) </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<table class="table table-bordered"><tr>
<th>see</th>
<td>\global\hook_response()</td>
</tr></table>
<h3>Parameters</h3>
<div class="subelement argument"><h4>$assertion</h4></div>
<div class="subelement argument"><h4>$request</h4></div>
</div></div>
</div>
<a name="sreg_signed_fields" id="sreg_signed_fields"></a><div class="element clickable function  sreg_signed_fields" data-toggle="collapse" data-target=".sreg_signed_fields .collapse">
<h2>Returns an array of fields that need signing.</h2>
<pre>sreg_signed_fields($response) </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<table class="table table-bordered"><tr>
<th>see</th>
<td>\global\hook_signed_fields()</td>
</tr></table>
<h3>Parameters</h3>
<div class="subelement argument"><h4>$response</h4></div>
</div></div>
</div>
<a name="store_del" id="store_del"></a><div class="element clickable function  store_del" data-toggle="collapse" data-target=".store_del .collapse">
<h2>Deletes an application setting.</h2>
<pre>store_del(string $name) </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$name</h4>
<code>string</code><p>the name of the setting to delete</p></div>
</div></div>
</div>
<a name="store_get" id="store_get"></a><div class="element clickable function  store_get" data-toggle="collapse" data-target=".store_get .collapse">
<h2>Loads an application setting.</h2>
<pre>store_get(string $name, mixed $default) : mixed</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$name</h4>
<code>string</code><p>the name of the setting to return</p></div>
<div class="subelement argument">
<h4>$default</h4>
<code>mixed</code><p>the default value to use if this variable has never been set</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>mixed</code>the value of the setting</div>
</div></div>
</div>
<a name="store_get_uid" id="store_get_uid"></a><div class="element clickable function  store_get_uid" data-toggle="collapse" data-target=".store_get_uid .collapse">
<h2>Finds the user name from a specified OpenID Identity URI.</h2>
<pre>store_get_uid(string $identity) : string</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$identity</h4>
<code>string</code><p>the Identity URI of the user to load</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>string</code>the user name for the Identity URI, or NULL if no user has the specified Identity URI</div>
</div></div>
</div>
<a name="store_get_uid_from_cert" id="store_get_uid_from_cert"></a><div class="element clickable function  store_get_uid_from_cert" data-toggle="collapse" data-target=".store_get_uid_from_cert .collapse">
<h2>Finds the user name from a specified client SSL certificate string.</h2>
<pre>store_get_uid_from_cert(string $cert) : string</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>The client SSL certificate string comprises the certificate's serial number
(in capitals hex notation) and the distinguished name of the certificate's issuer
(with components joined using slashes), joined using a semi-colon.</p></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$cert</h4>
<code>string</code><p>the client SSL certificate string of the user to load</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>string</code>the user name matching the client SSL certificate string, or NULL if no user has client SSL certificate string</div>
</div></div>
</div>
<a name="store_set" id="store_set"></a><div class="element clickable function  store_set" data-toggle="collapse" data-target=".store_set .collapse">
<h2>Saves an application setting.</h2>
<pre>store_set(string $name, mixed $value) </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$name</h4>
<code>string</code><p>the name of the setting to save</p></div>
<div class="subelement argument">
<h4>$value</h4>
<code>mixed</code><p>the value of the setting</p></div>
</div></div>
</div>
<a name="store_user_exists" id="store_user_exists"></a><div class="element clickable function  store_user_exists" data-toggle="collapse" data-target=".store_user_exists .collapse">
<h2>Returns whether the user name exists in the user store.</h2>
<pre>store_user_exists(string $uid) : bool</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$uid</h4>
<code>string</code><p>the name of the user to check</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>bool</code>whether the user name exists</div>
</div></div>
</div>
<a name="store_user_load" id="store_user_load"></a><div class="element clickable function  store_user_load" data-toggle="collapse" data-target=".store_user_load .collapse">
<h2>Loads user data for a specified user name.</h2>
<pre>store_user_load(string $uid) : mixed</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>The user name must exist.  You should check whether the user name exists with
the <a href="store_user_exists()">store_user_exists()</a> function</p></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$uid</h4>
<code>string</code><p>the name of the user to load</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>mixed</code>data for the specified user</div>
</div></div>
</div>
<a name="store_user_save" id="store_user_save"></a><div class="element clickable function  store_user_save" data-toggle="collapse" data-target=".store_user_save .collapse">
<h2>Saves user data for a specific user name.</h2>
<pre>store_user_save(string $uid, array $data, array $exclude) </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>This data is stored in the user store file.</p></p>
<table class="table table-bordered"><tr>
<th>since</th>
<td>0.7</td>
</tr></table>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$uid</h4>
<code>string</code><p>the name of the user</p></div>
<div class="subelement argument">
<h4>$data</h4>
<code>array</code><p>the data to save</p></div>
<div class="subelement argument">
<h4>$exclude</h4>
<code>array</code><p>an array of keys to exclude from the user store file. These are generally keys which are stored in the identity file.</p></div>
</div></div>
</div>
<a name="store_user_updated_time" id="store_user_updated_time"></a><div class="element clickable function  store_user_updated_time" data-toggle="collapse" data-target=".store_user_updated_time .collapse">
<h2>Returns the time which a user's data has been updated.</h2>
<pre>store_user_updated_time(string $uid, string $type) : int</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>The user name must exist.  You should check whether the user name exists with
the <a href="store_user_exists()">store_user_exists()</a> function.</p>

<p>The time returned can be based on the identity file,
the user store file, or the latter of the two.</p></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$uid</h4>
<code>string</code><p>the name of the user to obtain the update time</p></div>
<div class="subelement argument">
<h4>$type</h4>
<code>string</code><p>one of: 'identity' (identity file), 'usrstore' (user store file) or NULL (latter of the two)</p>
</div>
<h3>Returns</h3>
<div class="subelement response">
<code>int</code>the updated time</div>
</div></div>
</div>
<a name="t" id="t"></a><div class="element clickable function  t" data-toggle="collapse" data-target=".t .collapse">
<h2>Translates a string.</h2>
<pre>t(string $string, array $variables) : string</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$string</h4>
<code>string</code><p>the string to translate</p></div>
<div class="subelement argument">
<h4>$variables</h4>
<code>array</code><p>an array of replacements variables to be made after a translation. Prefix the variable with a @ to make the replacement HTML safe, a % to make the replacement HTML safe and surround with <strong> tags, and ! to replace as is</p>
</div>
<h3>Returns</h3>
<div class="subelement response">
<code>string</code>the translated string</div>
</div></div>
</div>
<a name="ui_consent_form" id="ui_consent_form"></a><div class="element clickable function  ui_consent_form" data-toggle="collapse" data-target=".ui_consent_form .collapse">
<h2>Detects the presence of the UI extension and modifies the relying party
verification form accordingly.</h2>
<pre>ui_consent_form(array $request, array $response, array $rp) : string</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<table class="table table-bordered"><tr>
<th>see</th>
<td>\global\hook_consent_form()</td>
</tr></table>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$request</h4>
<code>array</code>
</div>
<div class="subelement argument">
<h4>$response</h4>
<code>array</code>
</div>
<div class="subelement argument">
<h4>$rp</h4>
<code>array</code>
</div>
<h3>Returns</h3>
<div class="subelement response"><code>string</code></div>
</div></div>
</div>
<a name="ui_icon" id="ui_icon"></a><div class="element clickable function  ui_icon" data-toggle="collapse" data-target=".ui_icon .collapse">
<h2>Returns an icon.</h2>
<pre>ui_icon() </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description"><p class="long_description"></p></div></div>
</div>
<a name="ui_indirect_response" id="ui_indirect_response"></a><div class="element clickable function  ui_indirect_response" data-toggle="collapse" data-target=".ui_indirect_response .collapse">
<h2>Specifies that the OpenID response should be sent via the fragment</h2>
<pre>ui_indirect_response($url, $response) </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<h3>Parameters</h3>
<div class="subelement argument"><h4>$url</h4></div>
<div class="subelement argument"><h4>$response</h4></div>
</div></div>
</div>
<a name="ui_response" id="ui_response"></a><div class="element clickable function  ui_response" data-toggle="collapse" data-target=".ui_response .collapse">
<h2>Detects the openid.ui.x-has-session parameter and processes it accordingly.</h2>
<pre>ui_response($assertion, $request) : array</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<table class="table table-bordered"><tr>
<th>see</th>
<td>\global\hook_response()</td>
</tr></table>
<h3>Parameters</h3>
<div class="subelement argument"><h4>$assertion</h4></div>
<div class="subelement argument"><h4>$request</h4></div>
<h3>Returns</h3>
<div class="subelement response"><code>array</code></div>
</div></div>
</div>
<a name="ui_routes" id="ui_routes"></a><div class="element clickable function  ui_routes" data-toggle="collapse" data-target=".ui_routes .collapse">
<h2>Adds an extra route to the SimpleWeb framework.</h2>
<pre>ui_routes() </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description"><p class="long_description"></p></div></div>
</div>
<a name="ui_signed_fields" id="ui_signed_fields"></a><div class="element clickable function  ui_signed_fields" data-toggle="collapse" data-target=".ui_signed_fields .collapse">
<h2>Returns an array of fields that need signing.</h2>
<pre>ui_signed_fields($response) </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<table class="table table-bordered"><tr>
<th>see</th>
<td>\global\hook_signed_fields()</td>
</tr></table>
<h3>Parameters</h3>
<div class="subelement argument"><h4>$response</h4></div>
</div></div>
</div>
<a name="ui_user_login_form" id="ui_user_login_form"></a><div class="element clickable function  ui_user_login_form" data-toggle="collapse" data-target=".ui_user_login_form .collapse">
<h2>Detects the presence of the UI extension and modifies the login form
accordingly.</h2>
<pre>ui_user_login_form(string $destination, string $state) </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<table class="table table-bordered"><tr>
<th>see</th>
<td>\global\hook_user_login_form()</td>
</tr></table>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$destination</h4>
<code>string</code>
</div>
<div class="subelement argument">
<h4>$state</h4>
<code>string</code>
</div>
</div></div>
</div>
<a name="ui_xrds_types" id="ui_xrds_types"></a><div class="element clickable function  ui_xrds_types" data-toggle="collapse" data-target=".ui_xrds_types .collapse">
<h2>Returns the popup mode in SimpleID XRDS document</h2>
<pre>ui_xrds_types() : array</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<table class="table table-bordered"><tr>
<th>see</th>
<td>\global\hook_xrds_types()</td>
</tr></table>
<h3>Returns</h3>
<div class="subelement response"><code>array</code></div>
</div></div>
</div>
<a name="unpickle" id="unpickle"></a><div class="element clickable function  unpickle" data-toggle="collapse" data-target=".unpickle .collapse">
<h2>Deserialises data specified in a URL parameter as a variable.</h2>
<pre>unpickle(string $pickle) : mixed</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<table class="table table-bordered"><tr>
<th>see</th>
<td>\global\pickle()</td>
</tr></table>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$pickle</h4>
<code>string</code><p>the serialised data</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>mixed</code>the deserialised data</div>
</div></div>
</div>
<a name="upgrade_access_denied" id="upgrade_access_denied"></a><div class="element clickable function  upgrade_access_denied" data-toggle="collapse" data-target=".upgrade_access_denied .collapse">
<h2>Displays a page notifying the user that he or she does not have permission to
run the upgrade script.</h2>
<pre>upgrade_access_denied() </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description"><p class="long_description"></p></div></div>
</div>
<a name="upgrade_apply" id="upgrade_apply"></a><div class="element clickable function  upgrade_apply" data-toggle="collapse" data-target=".upgrade_apply .collapse">
<h2>Applies the upgrade.</h2>
<pre>upgrade_apply() </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description"><p class="long_description"></p></div></div>
</div>
<a name="upgrade_config_inc_to_php" id="upgrade_config_inc_to_php"></a><div class="element clickable function  upgrade_config_inc_to_php" data-toggle="collapse" data-target=".upgrade_config_inc_to_php .collapse">
<h2>Checks that config.inc has been renamed to config.php</h2>
<pre>upgrade_config_inc_to_php() </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<table class="table table-bordered"><tr>
<th>since</th>
<td>0.9</td>
</tr></table>
</div></div>
</div>
<a name="upgrade_delete_token" id="upgrade_delete_token"></a><div class="element clickable function  upgrade_delete_token" data-toggle="collapse" data-target=".upgrade_delete_token .collapse">
<h2>Deletes the site-token setting for a more secure version</h2>
<pre>upgrade_delete_token() </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<table class="table table-bordered"><tr>
<th>since</th>
<td>0.9</td>
</tr></table>
</div></div>
</div>
<a name="upgrade_get_functions" id="upgrade_get_functions"></a><div class="element clickable function  upgrade_get_functions" data-toggle="collapse" data-target=".upgrade_get_functions .collapse">
<h2>Selects the upgrade functions applicable for this upgrade.</h2>
<pre>upgrade_get_functions(string $version) : array</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>The upgrade functions are specified by the <a href="$upgrade_functions">$upgrade_functions</a>
variable.  This variable is an associative array containing version numbers
as keys and an array of upgrade function names as values.  This function
merges all the upgrade function names of the version between the current
installed version and the upgraded version.</p></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$version</h4>
<code>string</code><p>the version of SimpleID to upgrade from, calls {@link upgrade_get_version()} if not specified</p>
</div>
<h3>Returns</h3>
<div class="subelement response">
<code>array</code>an array of strings, containing the list of upgrade functions to call. The functions should be called in the same order as they appear in this array</div>
</div></div>
</div>
<a name="upgrade_get_version" id="upgrade_get_version"></a><div class="element clickable function  upgrade_get_version" data-toggle="collapse" data-target=".upgrade_get_version .collapse">
<h2>Detects the current installed version of SimpleID</h2>
<pre>upgrade_get_version() : string</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>The current installed version of SimpleID is taken from the <a href="store_get()">version</a>
application setting.  This setting is only available for versions 0.7 or later, so
if it is absent we can assume it's prior to version 0.7.</p></p>
<h3>Returns</h3>
<div class="subelement response">
<code>string</code>the detected version, or the string '0.6.0 or earlier'</div>
</div></div>
</div>
<a name="upgrade_info" id="upgrade_info"></a><div class="element clickable function  upgrade_info" data-toggle="collapse" data-target=".upgrade_info .collapse">
<h2>Displays the upgrade info page.</h2>
<pre>upgrade_info() </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description"><p class="long_description"></p></div></div>
</div>
<a name="upgrade_rp_to_store" id="upgrade_rp_to_store"></a><div class="element clickable function  upgrade_rp_to_store" data-toggle="collapse" data-target=".upgrade_rp_to_store .collapse">
<h2>Moves the user's site preferences from the cache to the store.</h2>
<pre>upgrade_rp_to_store() </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<table class="table table-bordered"><tr>
<th>since</th>
<td>0.7</td>
</tr></table>
</div></div>
</div>
<a name="upgrade_selection" id="upgrade_selection"></a><div class="element clickable function  upgrade_selection" data-toggle="collapse" data-target=".upgrade_selection .collapse">
<h2>Detects the current installed version of SimpleID, selects the individual upgrade
functions applicable to this upgrade and displays the upgrade
selection page.</h2>
<pre>upgrade_selection() </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description"><p class="long_description"></p></div></div>
</div>
<a name="upgrade_set_version" id="upgrade_set_version"></a><div class="element clickable function  upgrade_set_version" data-toggle="collapse" data-target=".upgrade_set_version .collapse">
<h2>Sets the current version of SimpleID.</h2>
<pre>upgrade_set_version(string $version) </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>This function sets the version application setting via <a href="store_get()">store_get()</a>.
A specific version can be specified, or it can be taken from <a href="SIMPLEID_VERSION">SIMPLEID_VERSION</a>.</p></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$version</h4>
<code>string</code><p>the version to set</p></div>
</div></div>
</div>
<a name="upgrade_start" id="upgrade_start"></a><div class="element clickable function  upgrade_start" data-toggle="collapse" data-target=".upgrade_start .collapse">
<h2>Entry point for SimpleID upgrade script.</h2>
<pre>upgrade_start() </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<table class="table table-bordered"><tr>
<th>see</th>
<td>\global\user_init()</td>
</tr></table>
</div></div>
</div>
<a name="upgrade_token_to_store" id="upgrade_token_to_store"></a><div class="element clickable function  upgrade_token_to_store" data-toggle="collapse" data-target=".upgrade_token_to_store .collapse">
<h2>Moves the site token from the cache to the store.</h2>
<pre>upgrade_token_to_store() </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<table class="table table-bordered"><tr>
<th>since</th>
<td>0.7</td>
</tr></table>
</div></div>
</div>
<a name="upgrade_user_init" id="upgrade_user_init"></a><div class="element clickable function  upgrade_user_init" data-toggle="collapse" data-target=".upgrade_user_init .collapse">
<h2>Determines whether the current user has permission to run this script.</h2>
<pre>upgrade_user_init() </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description"><p class="long_description"><p>A user has permission to run this script if:</p>

<ul>
<li>administrator=1 appears in the user's identity file; or</li>
<li><a href="$upgrade_access_check">$upgrade_access_check</a> is false</li>
</ul>

<p>If the user does not have permission, <a href="upgade_access_denied()">upgade_access_denied()</a> is called</p></p></div></div>
</div>
<a name="user_auto_login" id="user_auto_login"></a><div class="element clickable function  user_auto_login" data-toggle="collapse" data-target=".user_auto_login .collapse">
<h2>Attempts to automatically login using credentials presented by the user agent.</h2>
<pre>user_auto_login() </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description"><p class="long_description"><p>The user agent may present various credentials as part of its request.  These
may include cookies and SSL client certificates.  This function calls the
<a href="hook_user_auto_login()">hook_user_auto_login()</a> hook of enabled extensions to see if any
of these credentials can be used to automatically login a user.</p></p></div></div>
</div>
<a name="user_cookieauth_create_cookie" id="user_cookieauth_create_cookie"></a><div class="element clickable function  user_cookieauth_create_cookie" data-toggle="collapse" data-target=".user_cookieauth_create_cookie .collapse">
<h2>Creates a auto login cookie.</h2>
<pre>user_cookieauth_create_cookie(string $id, int $expires) </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>The login cookie will be based on the
current log in user.</p></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$id</h4>
<code>string</code><p>the ID of the series of auto login cookies, Cookies belonging to the same user and computer have the same ID. If none is specified, one will be generated</p></div>
<div class="subelement argument">
<h4>$expires</h4>
<code>int</code><p>the time at which the cookie will expire. If none is specified the time specified in {@link SIMPLEID_USER_AUTOLOGIN_EXPIRES_IN} will be used</p>
</div>
</div></div>
</div>
<a name="user_cookieauth_invalidate" id="user_cookieauth_invalidate"></a><div class="element clickable function  user_cookieauth_invalidate" data-toggle="collapse" data-target=".user_cookieauth_invalidate .collapse">
<h2>Removes the auto login cookie from the user agent and the SimpleID
cache.</h2>
<pre>user_cookieauth_invalidate() </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description"><p class="long_description"></p></div></div>
</div>
<a name="user_cookieauth_user_auto_login" id="user_cookieauth_user_auto_login"></a><div class="element clickable function  user_cookieauth_user_auto_login" data-toggle="collapse" data-target=".user_cookieauth_user_auto_login .collapse">
<h2>Verifies a auto login cookie.</h2>
<pre>user_cookieauth_user_auto_login() </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description"><p class="long_description"><p>If valid, log in the user automatically.</p></p></div></div>
</div>
<a name="user_header" id="user_header"></a><div class="element clickable function  user_header" data-toggle="collapse" data-target=".user_header .collapse">
<h2>Set up the user section in the header, showing the currently logged in user.</h2>
<pre>user_header(string $state) </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$state</h4>
<code>string</code><p>the SimpleID state to retain once the user has logged out, if required.</p></div>
</div></div>
</div>
<a name="user_hotp" id="user_hotp"></a><div class="element clickable function  user_hotp" data-toggle="collapse" data-target=".user_hotp .collapse">
<h2>Calculates a HMAC-Based One-Time Password (HOTP) based on RFC 4226.</h2>
<pre>user_hotp(string $secret, string $data, string $algorithm, int $digits) : int</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>This function returns an integer calculated from the HOTP algorithm.
The returned integer may need to be zero-padded to return a string
with the required number of digits</p></p>
<table class="table table-bordered"><tr>
<th>link</th>
<td><a href="http://tools.ietf.org/html/rfc4226">http://tools.ietf.org/html/rfc4226</a></td>
</tr></table>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$secret</h4>
<code>string</code><p>the shared secret as a binary string</p></div>
<div class="subelement argument">
<h4>$data</h4>
<code>string</code><p>the counter value as a 64 bit in big endian encoding</p></div>
<div class="subelement argument">
<h4>$algorithm</h4>
<code>string</code><p>the hashing algorithm as supported by the hash_hmac() function</p>
</div>
<div class="subelement argument">
<h4>$digits</h4>
<code>int</code><p>the number of digits in the one-time password</p>
</div>
<h3>Returns</h3>
<div class="subelement response">
<code>int</code>the one-time password</div>
</div></div>
</div>
<a name="user_init" id="user_init"></a><div class="element clickable function  user_init" data-toggle="collapse" data-target=".user_init .collapse">
<h2>Initialises the user system.</h2>
<pre>user_init(string $q) </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>Loads data for the currently logged-in user,
if any.</p></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$q</h4>
<code>string</code><p>the SimpleID command, if any</p></div>
</div></div>
</div>
<a name="user_load" id="user_load"></a><div class="element clickable function  user_load" data-toggle="collapse" data-target=".user_load .collapse">
<h2>Loads user data for a specified user name.</h2>
<pre>user_load(string $uid) : mixed</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<table class="table table-bordered"><tr>
<th>see</th>
<td>\global\user_load_from_identity()</td>
</tr></table>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$uid</h4>
<code>string</code><p>the name of the user to load</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>mixed</code>data for the specified user, or NULL if the user name does not exist</div>
</div></div>
</div>
<a name="user_load_from_identity" id="user_load_from_identity"></a><div class="element clickable function  user_load_from_identity" data-toggle="collapse" data-target=".user_load_from_identity .collapse">
<h2>Loads user data for a specified OpenID Identity URI.</h2>
<pre>user_load_from_identity(string $identity) : mixed</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<table class="table table-bordered"><tr>
<th>see</th>
<td>\global\user_load()</td>
</tr></table>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$identity</h4>
<code>string</code><p>the Identity URI of the user to load</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>mixed</code>data for the specified user, or NULL if the user name does not exist</div>
</div></div>
</div>
<a name="user_login" id="user_login"></a><div class="element clickable function  user_login" data-toggle="collapse" data-target=".user_login .collapse">
<h2>Attempts to log in a user, using the user name and password specified in the
HTTP request.</h2>
<pre>user_login() </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description"><p class="long_description"></p></div></div>
</div>
<a name="user_login_form" id="user_login_form"></a><div class="element clickable function  user_login_form" data-toggle="collapse" data-target=".user_login_form .collapse">
<h2>Displays a user login or a login verification form.</h2>
<pre>user_login_form(string $destination, string $state, string $fixed_uid, string $mode) </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$destination</h4>
<code>string</code><p>the SimpleID location to which the user is directed if login is successful</p></div>
<div class="subelement argument">
<h4>$state</h4>
<code>string</code><p>the current SimpleID state, if required by the location</p></div>
<div class="subelement argument">
<h4>$fixed_uid</h4>
<code>string</code><p>the user name to be included in the login form; if NULL, the user is asked to supply the user name. If $mode is otp this cannot be null</p>
</div>
<div class="subelement argument">
<h4>$mode</h4>
<code>string</code><p>either credentials (login form) or otp (login verification form)</p>
</div>
</div></div>
</div>
<a name="user_logout" id="user_logout"></a><div class="element clickable function  user_logout" data-toggle="collapse" data-target=".user_logout .collapse">
<h2>Attempts to log out a user and returns to the login form.</h2>
<pre>user_logout(string $destination) </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$destination</h4>
<code>string</code><p>the destination value to be included in the login form</p></div>
</div></div>
</div>
<a name="user_otp_page" id="user_otp_page"></a><div class="element clickable function  user_otp_page" data-toggle="collapse" data-target=".user_otp_page .collapse">
<h2>Displays the page used to set up login verification using one-time
passwords.</h2>
<pre>user_otp_page() </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description"><p class="long_description"></p></div></div>
</div>
<a name="user_passauth_user_verify_credentials" id="user_passauth_user_verify_credentials"></a><div class="element clickable function  user_passauth_user_verify_credentials" data-toggle="collapse" data-target=".user_passauth_user_verify_credentials .collapse">
<h2>Verifies a set of credentials using the default user name-password authentication
method.</h2>
<pre>user_passauth_user_verify_credentials(string $uid, array $credentials) : bool</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$uid</h4>
<code>string</code><p>the name of the user to verify</p></div>
<div class="subelement argument">
<h4>$credentials</h4>
<code>array</code><p>the credentials supplied by the browser</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>bool</code>whether the credentials supplied matches those for the specified user</div>
</div></div>
</div>
<a name="user_ppid_page" id="user_ppid_page"></a><div class="element clickable function  user_ppid_page" data-toggle="collapse" data-target=".user_ppid_page .collapse">
<h2>Returns the public page for a private personal ID.</h2>
<pre>user_ppid_page(string $ppid) </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$ppid</h4>
<code>string</code><p>the PPID</p></div>
</div></div>
</div>
<a name="user_public_page" id="user_public_page"></a><div class="element clickable function  user_public_page" data-toggle="collapse" data-target=".user_public_page .collapse">
<h2>Returns the user's public page.</h2>
<pre>user_public_page(string $uid) </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$uid</h4>
<code>string</code><p>the user ID</p></div>
</div></div>
</div>
<a name="user_save" id="user_save"></a><div class="element clickable function  user_save" data-toggle="collapse" data-target=".user_save .collapse">
<h2>Stores user data for a specified user name.</h2>
<pre>user_save(array $user) </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$user</h4>
<code>array</code><p>the user to save</p></div>
</div></div>
</div>
<a name="user_totp" id="user_totp"></a><div class="element clickable function  user_totp" data-toggle="collapse" data-target=".user_totp .collapse">
<h2>Calculates a Time-Based One-Time Password (TOTP) based on RFC 6238.</h2>
<pre>user_totp(string $secret, int $time, int $period, int $drift, string $algorithm, int $digits) : int</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>This function returns an integer calculated from the TOTP algorithm.
The returned integer may need to be zero-padded to return a string
with the required number of digits</p></p>
<table class="table table-bordered"><tr>
<th>link</th>
<td><a href="http://tools.ietf.org/html/rfc6238">http://tools.ietf.org/html/rfc6238</a></td>
</tr></table>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$secret</h4>
<code>string</code><p>the shared secret as a binary string</p></div>
<div class="subelement argument">
<h4>$time</h4>
<code>int</code><p>the time to use in the HOTP algorithm. If NULL, the current time is used</p></div>
<div class="subelement argument">
<h4>$period</h4>
<code>int</code><p>the time step in seconds</p></div>
<div class="subelement argument">
<h4>$drift</h4>
<code>int</code><p>the number of time steps to be added to the time to adjust for transmission delay</p></div>
<div class="subelement argument">
<h4>$algorithm</h4>
<code>string</code><p>the hashing algorithm as supported by the hash_hmac() function</p>
</div>
<div class="subelement argument">
<h4>$digits</h4>
<code>int</code><p>the number of digits in the one-time password</p>
</div>
<h3>Returns</h3>
<div class="subelement response">
<code>int</code>the one-time password</div>
</div></div>
</div>
<a name="user_verify_credentials" id="user_verify_credentials"></a><div class="element clickable function  user_verify_credentials" data-toggle="collapse" data-target=".user_verify_credentials .collapse">
<h2>Verifies a set of credentials for a specified user.</h2>
<pre>user_verify_credentials(string $uid, array $credentials) : bool</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>A set of credentials comprises:</p>

<ul>
<li>A user name</li>
<li>Some kind of verifying information, such as a plaintext password, a hashed
password (e.g. digest) or some other kind of identifying information.</li>
</ul>

<p>The user name is passed to this function using the $uid parameter.  The user
name may or may not exist.  If the user name does not exist, this function
<strong>must</strong> return false.</p>

<p>The credentials are supplied as an array using the $credentials parameter.
Typically this array will be a subset of the $_POST superglobal passed to the
<a href="user_login()">user_login()</a> function.  Thus it will generally contain the keys 'pass' and
'digest'.</p>

<p>This function calls the <a href="hook_user_verify_credentials()">hook_user_verify_credentials()</a> hook to
check whether the credentials supplied matches the credentials
for the specified user in the store.</p></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$uid</h4>
<code>string</code><p>the name of the user to verify</p></div>
<div class="subelement argument">
<h4>$credentials</h4>
<code>array</code><p>the credentials supplied by the browser</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>bool</code>whether the credentials supplied matches those for the specified user</div>
</div></div>
</div>
<a name="user_verify_otp" id="user_verify_otp"></a><div class="element clickable function  user_verify_otp" data-toggle="collapse" data-target=".user_verify_otp .collapse">
<h2>Verifies a one time password (OTP) specified by the user.</h2>
<pre>user_verify_otp(array $params, string $code, int $max_drift) : bool</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>This function compares an OTP supplied by a user with the OTP
calculated based on the current time and the parameters of the
algorithm.  The parameters, such as the secret key, are supplied
using in $params.  These parameters are typically stored for each
user in the user store.</p>

<p>To allow for clocks going out of sync, the current time will be
by a number (in time steps) specified in $params['drift'].  If
the OTP supplied by the user is accepted, $params['drift'] will
be also be updated with the latest difference.</p>

<p>To allow for network delay, the function will accepts OTPs which
is a number of time steps away from the OTP calculated from the
adjusted time.  The maximum number of time steps is specified in
the $max_drift parameter.</p></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$params</h4>
<code>array</code><p>&$params the OTP parameters stored</p>
</div>
<div class="subelement argument">
<h4>$code</h4>
<code>string</code><p>the OTP supplied by the user</p></div>
<div class="subelement argument">
<h4>$max_drift</h4>
<code>int</code><p>the maximum drift allowed for network delay, in time steps</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>bool</code>whether the OTP supplied matches the OTP generated based on the specified parameters, within the maximum drift</div>
</div></div>
</div>
<a name="user_xrds" id="user_xrds"></a><div class="element clickable function  user_xrds" data-toggle="collapse" data-target=".user_xrds .collapse">
<h2>Returns the user's public XRDS page.</h2>
<pre>user_xrds(string $uid) </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$uid</h4>
<code>string</code><p>the user ID</p></div>
</div></div>
</div>
<a name="validate_form_token" id="validate_form_token"></a><div class="element clickable function  validate_form_token" data-toggle="collapse" data-target=".validate_form_token .collapse">
<h2>Checks whether a form token is valid</h2>
<pre>validate_form_token(string $token, string $id, bool $bind_session) : bool</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$token</h4>
<code>string</code><p>the token returned by the user agent</p></div>
<div class="subelement argument">
<h4>$id</h4>
<code>string</code><p>the form ID</p></div>
<div class="subelement argument">
<h4>$bind_session</h4>
<code>bool</code><p>whether the token has been bound to the current session</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>bool</code>true if the form token is valid</div>
</div></div>
</div>
<h3>
<i class="icon-custom icon-class"></i> Classes and interfaces</h3>
<a name="XRDSParser" id="XRDSParser"></a><div class="element ajax clickable class" href="../classes/XRDSParser.html">
<h1>XRDSParser<a href="../classes/XRDSParser.html">¶</a>
</h1>
<p class="short_description">A simple XRDS parser.</p>
<div class="details collapse"></div>
<a href="../classes/XRDSParser.html" class="more">« More »</a>
</div>
<h3>
<i class="icon-custom icon-constant"></i> Constants</h3>
<a name="%24name" id="$name"> </a><div class="element clickable constant  $name" data-toggle="collapse" data-target=".$name .collapse">
<h2>$name</h2>
<pre>$name </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description"><p class="long_description"></p></div></div>
</div>
<a name="ASSOCIATION_PRIVATE" id="ASSOCIATION_PRIVATE"> </a><div class="element clickable constant  ASSOCIATION_PRIVATE" data-toggle="collapse" data-target=".ASSOCIATION_PRIVATE .collapse">
<h2>ASSOCIATION_PRIVATE</h2>
<pre>ASSOCIATION_PRIVATE </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description"><p class="long_description"></p></div></div>
</div>
<a name="ASSOCIATION_SHARED" id="ASSOCIATION_SHARED"> </a><div class="element clickable constant  ASSOCIATION_SHARED" data-toggle="collapse" data-target=".ASSOCIATION_SHARED .collapse">
<h2>ASSOCIATION_SHARED</h2>
<pre>ASSOCIATION_SHARED </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description"><p class="long_description"></p></div></div>
</div>
<a name="CACHE_DIR" id="CACHE_DIR"> </a><div class="element clickable constant  CACHE_DIR" data-toggle="collapse" data-target=".CACHE_DIR .collapse">
<h2>CACHE_DIR</h2>
<pre>CACHE_DIR </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description"><p class="long_description"></p></div></div>
</div>
<a name="CACHE_DIR" id="CACHE_DIR"> </a><div class="element clickable constant  CACHE_DIR" data-toggle="collapse" data-target=".CACHE_DIR .collapse">
<h2>CACHE_DIR</h2>
<pre>CACHE_DIR </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description"><p class="long_description"></p></div></div>
</div>
<a name="CHECKID_APPROVAL_REQUIRED" id="CHECKID_APPROVAL_REQUIRED"> </a><div class="element clickable constant  CHECKID_APPROVAL_REQUIRED" data-toggle="collapse" data-target=".CHECKID_APPROVAL_REQUIRED .collapse">
<h2>CHECKID_APPROVAL_REQUIRED</h2>
<pre>CHECKID_APPROVAL_REQUIRED </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description"><p class="long_description"></p></div></div>
</div>
<a name="CHECKID_IDENTITIES_NOT_MATCHING" id="CHECKID_IDENTITIES_NOT_MATCHING"> </a><div class="element clickable constant  CHECKID_IDENTITIES_NOT_MATCHING" data-toggle="collapse" data-target=".CHECKID_IDENTITIES_NOT_MATCHING .collapse">
<h2>CHECKID_IDENTITIES_NOT_MATCHING</h2>
<pre>CHECKID_IDENTITIES_NOT_MATCHING </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description"><p class="long_description"></p></div></div>
</div>
<a name="CHECKID_IDENTITY_NOT_EXIST" id="CHECKID_IDENTITY_NOT_EXIST"> </a><div class="element clickable constant  CHECKID_IDENTITY_NOT_EXIST" data-toggle="collapse" data-target=".CHECKID_IDENTITY_NOT_EXIST .collapse">
<h2>CHECKID_IDENTITY_NOT_EXIST</h2>
<pre>CHECKID_IDENTITY_NOT_EXIST </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description"><p class="long_description"></p></div></div>
</div>
<a name="CHECKID_LOGIN_REQUIRED" id="CHECKID_LOGIN_REQUIRED"> </a><div class="element clickable constant  CHECKID_LOGIN_REQUIRED" data-toggle="collapse" data-target=".CHECKID_LOGIN_REQUIRED .collapse">
<h2>CHECKID_LOGIN_REQUIRED</h2>
<pre>CHECKID_LOGIN_REQUIRED </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description"><p class="long_description"></p></div></div>
</div>
<a name="CHECKID_OK" id="CHECKID_OK"> </a><div class="element clickable constant  CHECKID_OK" data-toggle="collapse" data-target=".CHECKID_OK .collapse">
<h2>CHECKID_OK</h2>
<pre>CHECKID_OK </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description"><p class="long_description"></p></div></div>
</div>
<a name="CHECKID_PROTOCOL_ERROR" id="CHECKID_PROTOCOL_ERROR"> </a><div class="element clickable constant  CHECKID_PROTOCOL_ERROR" data-toggle="collapse" data-target=".CHECKID_PROTOCOL_ERROR .collapse">
<h2>CHECKID_PROTOCOL_ERROR</h2>
<pre>CHECKID_PROTOCOL_ERROR </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description"><p class="long_description"></p></div></div>
</div>
<a name="CHECKID_RETURN_TO_SUSPECT" id="CHECKID_RETURN_TO_SUSPECT"> </a><div class="element clickable constant  CHECKID_RETURN_TO_SUSPECT" data-toggle="collapse" data-target=".CHECKID_RETURN_TO_SUSPECT .collapse">
<h2>CHECKID_RETURN_TO_SUSPECT</h2>
<pre>CHECKID_RETURN_TO_SUSPECT </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description"><p class="long_description"></p></div></div>
</div>
<a name="OPENID_DH_DEFAULT_GEN" id="OPENID_DH_DEFAULT_GEN"> </a><div class="element clickable constant  OPENID_DH_DEFAULT_GEN" data-toggle="collapse" data-target=".OPENID_DH_DEFAULT_GEN .collapse">
<h2>OpenID default generator for Diffie-Hellman key exchange.</h2>
<pre>OPENID_DH_DEFAULT_GEN </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description"><p class="long_description"></p></div></div>
</div>
<a name="OPENID_DH_DEFAULT_MOD" id="OPENID_DH_DEFAULT_MOD"> </a><div class="element clickable constant  OPENID_DH_DEFAULT_MOD" data-toggle="collapse" data-target=".OPENID_DH_DEFAULT_MOD .collapse">
<h2>OpenID default modulus for Diffie-Hellman key exchange.</h2>
<pre>OPENID_DH_DEFAULT_MOD </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<table class="table table-bordered"><tr>
<th>link</th>
<td><a href="http://openid.net/specs/openid-authentication-1_1.html#pvalue,">http://openid.net/specs/openid-authentication-2_0.html#pvalue</a></td>
</tr></table>
</div></div>
</div>
<a name="OPENID_IDENTIFIER_SELECT" id="OPENID_IDENTIFIER_SELECT"> </a><div class="element clickable constant  OPENID_IDENTIFIER_SELECT" data-toggle="collapse" data-target=".OPENID_IDENTIFIER_SELECT .collapse">
<h2>Constant for the OP-local identifier which indicates that SimpleID should choose an identifier</h2>
<pre>OPENID_IDENTIFIER_SELECT </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<table class="table table-bordered"><tr>
<th>link</th>
<td><a href="http://openid.net/specs/openid-authentication-2_0.html#anchor27">http://openid.net/specs/openid-authentication-2_0.html#anchor27</a></td>
</tr></table>
</div></div>
</div>
<a name="OPENID_NS_1_0" id="OPENID_NS_1_0"> </a><div class="element clickable constant  OPENID_NS_1_0" data-toggle="collapse" data-target=".OPENID_NS_1_0 .collapse">
<h2>Constant for OpenID namespace</h2>
<pre>OPENID_NS_1_0 </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description"><p class="long_description"></p></div></div>
</div>
<a name="OPENID_NS_1_1" id="OPENID_NS_1_1"> </a><div class="element clickable constant  OPENID_NS_1_1" data-toggle="collapse" data-target=".OPENID_NS_1_1 .collapse">
<h2>Constant for OpenID namespace</h2>
<pre>OPENID_NS_1_1 </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description"><p class="long_description"></p></div></div>
</div>
<a name="OPENID_NS_2_0" id="OPENID_NS_2_0"> </a><div class="element clickable constant  OPENID_NS_2_0" data-toggle="collapse" data-target=".OPENID_NS_2_0 .collapse">
<h2>Constant for OpenID namespace</h2>
<pre>OPENID_NS_2_0 </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description"><p class="long_description"></p></div></div>
</div>
<a name="OPENID_NS_AX" id="OPENID_NS_AX"> </a><div class="element clickable constant  OPENID_NS_AX" data-toggle="collapse" data-target=".OPENID_NS_AX .collapse">
<h2>Namespace for the AX extension</h2>
<pre>OPENID_NS_AX </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description"><p class="long_description"></p></div></div>
</div>
<a name="OPENID_NS_PAPE" id="OPENID_NS_PAPE"> </a><div class="element clickable constant  OPENID_NS_PAPE" data-toggle="collapse" data-target=".OPENID_NS_PAPE .collapse">
<h2>Namespace for the PAPE extension</h2>
<pre>OPENID_NS_PAPE </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description"><p class="long_description"></p></div></div>
</div>
<a name="OPENID_NS_SREG" id="OPENID_NS_SREG"> </a><div class="element clickable constant  OPENID_NS_SREG" data-toggle="collapse" data-target=".OPENID_NS_SREG .collapse">
<h2>Namespace for the Simple Registration extension</h2>
<pre>OPENID_NS_SREG </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description"><p class="long_description"></p></div></div>
</div>
<a name="OPENID_NS_UI" id="OPENID_NS_UI"> </a><div class="element clickable constant  OPENID_NS_UI" data-toggle="collapse" data-target=".OPENID_NS_UI .collapse">
<h2>Namespace for the User Interface extension</h2>
<pre>OPENID_NS_UI </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description"><p class="long_description"></p></div></div>
</div>
<a name="OPENID_RESPONSE_FRAGMENT" id="OPENID_RESPONSE_FRAGMENT"> </a><div class="element clickable constant  OPENID_RESPONSE_FRAGMENT" data-toggle="collapse" data-target=".OPENID_RESPONSE_FRAGMENT .collapse">
<h2>Parameter for {@link openid_indirect_response_url()}</h2>
<pre>OPENID_RESPONSE_FRAGMENT </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description"><p class="long_description"></p></div></div>
</div>
<a name="OPENID_RESPONSE_QUERY" id="OPENID_RESPONSE_QUERY"> </a><div class="element clickable constant  OPENID_RESPONSE_QUERY" data-toggle="collapse" data-target=".OPENID_RESPONSE_QUERY .collapse">
<h2>Parameter for {@link openid_indirect_response_url()}</h2>
<pre>OPENID_RESPONSE_QUERY </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description"><p class="long_description"></p></div></div>
</div>
<a name="OPENID_RETURN_TO" id="OPENID_RETURN_TO"> </a><div class="element clickable constant  OPENID_RETURN_TO" data-toggle="collapse" data-target=".OPENID_RETURN_TO .collapse">
<h2>Constant for the XRDS service type for return_to verification</h2>
<pre>OPENID_RETURN_TO </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description"><p class="long_description"></p></div></div>
</div>
<a name="OPENID_SHA1_BLOCKSIZE" id="OPENID_SHA1_BLOCKSIZE"> </a><div class="element clickable constant  OPENID_SHA1_BLOCKSIZE" data-toggle="collapse" data-target=".OPENID_SHA1_BLOCKSIZE .collapse">
<h2>OPENID_SHA1_BLOCKSIZE</h2>
<pre>OPENID_SHA1_BLOCKSIZE </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description"><p class="long_description"></p></div></div>
</div>
<a name="OPENID_VERSION_1_1" id="OPENID_VERSION_1_1"> </a><div class="element clickable constant  OPENID_VERSION_1_1" data-toggle="collapse" data-target=".OPENID_VERSION_1_1 .collapse">
<h2>Constant for the global variable {@link $version}</h2>
<pre>OPENID_VERSION_1_1 </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description"><p class="long_description"></p></div></div>
</div>
<a name="OPENID_VERSION_2" id="OPENID_VERSION_2"> </a><div class="element clickable constant  OPENID_VERSION_2" data-toggle="collapse" data-target=".OPENID_VERSION_2 .collapse">
<h2>Constant for the global variable {@link $version}</h2>
<pre>OPENID_VERSION_2 </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description"><p class="long_description"></p></div></div>
</div>
<a name="PAPE_LEVEL_NIST800_63" id="PAPE_LEVEL_NIST800_63"> </a><div class="element clickable constant  PAPE_LEVEL_NIST800_63" data-toggle="collapse" data-target=".PAPE_LEVEL_NIST800_63 .collapse">
<h2>Namespaces for PAPE levels</h2>
<pre>PAPE_LEVEL_NIST800_63 </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description"><p class="long_description"></p></div></div>
</div>
<a name="PAPE_POLICY_NONE" id="PAPE_POLICY_NONE"> </a><div class="element clickable constant  PAPE_POLICY_NONE" data-toggle="collapse" data-target=".PAPE_POLICY_NONE .collapse">
<h2>Namespaces for PAPE policies</h2>
<pre>PAPE_POLICY_NONE </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description"><p class="long_description"></p></div></div>
</div>
<a name="PAPE_POLICY_PPID" id="PAPE_POLICY_PPID"> </a><div class="element clickable constant  PAPE_POLICY_PPID" data-toggle="collapse" data-target=".PAPE_POLICY_PPID .collapse">
<h2>PAPE_POLICY_PPID</h2>
<pre>PAPE_POLICY_PPID </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description"><p class="long_description"></p></div></div>
</div>
<a name="PRE_0_7_0_VERSION" id="PRE_0_7_0_VERSION"> </a><div class="element clickable constant  PRE_0_7_0_VERSION" data-toggle="collapse" data-target=".PRE_0_7_0_VERSION .collapse">
<h2>PRE_0_7_0_VERSION</h2>
<pre>PRE_0_7_0_VERSION </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description"><p class="long_description"></p></div></div>
</div>
<a name="SIMPLEHTTP_USER_AGENT" id="SIMPLEHTTP_USER_AGENT"> </a><div class="element clickable constant  SIMPLEHTTP_USER_AGENT" data-toggle="collapse" data-target=".SIMPLEHTTP_USER_AGENT .collapse">
<h2>The user agent to use during HTTP requests.</h2>
<pre>SIMPLEHTTP_USER_AGENT </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description"><p class="long_description"></p></div></div>
</div>
<a name="SIMPLEID_LOGIN_NONCE_EXPIRES_IN" id="SIMPLEID_LOGIN_NONCE_EXPIRES_IN"> </a><div class="element clickable constant  SIMPLEID_LOGIN_NONCE_EXPIRES_IN" data-toggle="collapse" data-target=".SIMPLEID_LOGIN_NONCE_EXPIRES_IN .collapse">
<h2>The time the nonce used in the login process will last.</h2>
<pre>SIMPLEID_LOGIN_NONCE_EXPIRES_IN </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description"><p class="long_description"></p></div></div>
</div>
<a name="SIMPLEID_LOG_DEBUG" id="SIMPLEID_LOG_DEBUG"> </a><div class="element clickable constant  SIMPLEID_LOG_DEBUG" data-toggle="collapse" data-target=".SIMPLEID_LOG_DEBUG .collapse">
<h2>Log level</h2>
<pre>SIMPLEID_LOG_DEBUG </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description"><p class="long_description"></p></div></div>
</div>
<a name="SIMPLEID_LOG_ERROR" id="SIMPLEID_LOG_ERROR"> </a><div class="element clickable constant  SIMPLEID_LOG_ERROR" data-toggle="collapse" data-target=".SIMPLEID_LOG_ERROR .collapse">
<h2>Log level</h2>
<pre>SIMPLEID_LOG_ERROR </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description"><p class="long_description"></p></div></div>
</div>
<a name="SIMPLEID_LOG_FATAL" id="SIMPLEID_LOG_FATAL"> </a><div class="element clickable constant  SIMPLEID_LOG_FATAL" data-toggle="collapse" data-target=".SIMPLEID_LOG_FATAL .collapse">
<h2>Log level</h2>
<pre>SIMPLEID_LOG_FATAL </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description"><p class="long_description"></p></div></div>
</div>
<a name="SIMPLEID_LOG_INFO" id="SIMPLEID_LOG_INFO"> </a><div class="element clickable constant  SIMPLEID_LOG_INFO" data-toggle="collapse" data-target=".SIMPLEID_LOG_INFO .collapse">
<h2>Log level</h2>
<pre>SIMPLEID_LOG_INFO </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description"><p class="long_description"></p></div></div>
</div>
<a name="SIMPLEID_LOG_NOTICE" id="SIMPLEID_LOG_NOTICE"> </a><div class="element clickable constant  SIMPLEID_LOG_NOTICE" data-toggle="collapse" data-target=".SIMPLEID_LOG_NOTICE .collapse">
<h2>Log level</h2>
<pre>SIMPLEID_LOG_NOTICE </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description"><p class="long_description"></p></div></div>
</div>
<a name="SIMPLEID_LOG_WARN" id="SIMPLEID_LOG_WARN"> </a><div class="element clickable constant  SIMPLEID_LOG_WARN" data-toggle="collapse" data-target=".SIMPLEID_LOG_WARN .collapse">
<h2>Log level</h2>
<pre>SIMPLEID_LOG_WARN </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description"><p class="long_description"></p></div></div>
</div>
<a name="SIMPLEID_RAND_SOURCE" id="SIMPLEID_RAND_SOURCE"> </a><div class="element clickable constant  SIMPLEID_RAND_SOURCE" data-toggle="collapse" data-target=".SIMPLEID_RAND_SOURCE .collapse">
<h2>The source of random bits.</h2>
<pre>SIMPLEID_RAND_SOURCE </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description"><p class="long_description"><p>On Unix-like systems, this could be /dev/random
or /dev/urandom</p></p></div></div>
</div>
<a name="SIMPLEID_USER_AUTOLOGIN_EXPIRES_IN" id="SIMPLEID_USER_AUTOLOGIN_EXPIRES_IN"> </a><div class="element clickable constant  SIMPLEID_USER_AUTOLOGIN_EXPIRES_IN" data-toggle="collapse" data-target=".SIMPLEID_USER_AUTOLOGIN_EXPIRES_IN .collapse">
<h2>The time (in seconds) the auto login cookie will last.</h2>
<pre>SIMPLEID_USER_AUTOLOGIN_EXPIRES_IN </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description"><p class="long_description"><p>This is currently
set as 2 weeks.</p></p></div></div>
</div>
<a name="SIMPLEID_VERSION" id="SIMPLEID_VERSION"> </a><div class="element clickable constant  SIMPLEID_VERSION" data-toggle="collapse" data-target=".SIMPLEID_VERSION .collapse">
<h2>The current version of SimpleID</h2>
<pre>SIMPLEID_VERSION </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description"><p class="long_description"></p></div></div>
</div>
<a name="UPGRADE_LEGACY_CONFIG_INC" id="UPGRADE_LEGACY_CONFIG_INC"> </a><div class="element clickable constant  UPGRADE_LEGACY_CONFIG_INC" data-toggle="collapse" data-target=".UPGRADE_LEGACY_CONFIG_INC .collapse">
<h2>UPGRADE_LEGACY_CONFIG_INC</h2>
<pre>UPGRADE_LEGACY_CONFIG_INC </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description"><p class="long_description"></p></div></div>
</div>
<a name="XRD2_NS" id="XRD2_NS"> </a><div class="element clickable constant  XRD2_NS" data-toggle="collapse" data-target=".XRD2_NS .collapse">
<h2>The namespace identifier for XRDS version 2.</h2>
<pre>XRD2_NS </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description"><p class="long_description"></p></div></div>
</div>
<a name="XRDS_NS" id="XRDS_NS"> </a><div class="element clickable constant  XRDS_NS" data-toggle="collapse" data-target=".XRDS_NS .collapse">
<h2>The namespace identifier for an XRDS document.</h2>
<pre>XRDS_NS </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description"><p class="long_description"></p></div></div>
</div>
<a name="XRDS_SIMPLE_NS" id="XRDS_SIMPLE_NS"> </a><div class="element clickable constant  XRDS_SIMPLE_NS" data-toggle="collapse" data-target=".XRDS_SIMPLE_NS .collapse">
<h2>The namespace identifier for XRDS Simple.</h2>
<pre>XRDS_SIMPLE_NS </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description"><p class="long_description"></p></div></div>
</div>
<a name="XRDS_SIMPLE_TYPE" id="XRDS_SIMPLE_TYPE"> </a><div class="element clickable constant  XRDS_SIMPLE_TYPE" data-toggle="collapse" data-target=".XRDS_SIMPLE_TYPE .collapse">
<h2>The type identifier for XRDS Simple.</h2>
<pre>XRDS_SIMPLE_TYPE </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description"><p class="long_description"></p></div></div>
</div>
<a name="XRD_OPENID_NS" id="XRD_OPENID_NS"> </a><div class="element clickable constant  XRD_OPENID_NS" data-toggle="collapse" data-target=".XRD_OPENID_NS .collapse">
<h2>The namespace identifier for OpenID services.</h2>
<pre>XRD_OPENID_NS </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description"><p class="long_description"></p></div></div>
</div>
</div>
</div>
</div>
<div class="row"><footer class="span12">
            Template is built using <a href="http://twitter.github.com/bootstrap/">Twitter Bootstrap 2</a> and icons provided by <a href="http://glyphicons.com/">Glyphicons</a>.<br>
            Documentation is powered by <a href="http://www.phpdoc.org/">phpDocumentor 2.0.0a10</a> and<br>
            generated on 2013-05-12T06:51:32Z.<br></footer></div>
</div>
</body>
</html>
