<!DOCTYPE html>
<html>
<head>
    <title>PHPXRef 0.7.1 : SimpleID : Detail view of common.inc</title>
    <link rel="stylesheet" href="../xref.css" type="text/css">
    <link rel="stylesheet" href="../xref-print.css" type="text/css" media="print">
    <style id="hilight" type="text/css"></style>
    <meta http-equiv="content-type" content="text/html;charset=utf-8">
</head>
<body>
<table class="pagetitle" width="100%">
	<tr>
        <td valign="top" class="pagetitle">
            [ <a href="../index.html">Index</a> ]
        </td>
        <td align="right" class="pagetitle">
		    <h2 style="margin-bottom: 0px">PHP Cross Reference of SimpleID</h2>
	    </td>
    </tr>
</table>


<!-- Generated by PHPXref 0.7.1 at Mon Apr  6 15:06:20 2015 -->
<!-- PHPXref (c) 2000-2010 Gareth Watts - gareth@omnipotent.net -->
<!-- http://phpxref.sourceforge.net/ -->

<script src="../phpxref.js" type="text/javascript"></script>
<script language="JavaScript" type="text/javascript">
<!--
ext='.html';
relbase='../';
subdir='www';
filename='common.inc.html';
cookiekey='simpleid';
handleNavFrame(relbase, subdir, filename);

// -->
</script>
<script language="JavaScript" type="text/javascript">
if (gwGetCookie('xrefnav')=='off')
  document.write('<p class="navlinks">[ <a href="javascript:navOn()">Show Explorer<\/a> ]<\/p>');
else
  document.write('<p class="navlinks">[ <a href="javascript:navOff()">Hide Explorer<\/a> ]<\/p>');
</script>
<noscript>
<p class="navlinks">
[ <a href="../nav.html" target="_top">Show Explorer</a> ]
[ <a href="index.html" target="_top">Hide Navbar</a> ]
</p>
</noscript>
<script language="JavaScript" type="text/javascript">
<!--

document.writeln('<table align="right" class="searchbox-link"><tr><td><a class="searchbox-link" href="javascript:void(0)" onMouseOver="showSearchBox()">Search</a><br>');
document.writeln('<table border="0" cellspacing="0" cellpadding="0" class="searchbox" id="searchbox">');
document.writeln('<tr><td class="searchbox-title">');
document.writeln('<a class="searchbox-title" href="javascript:showSearchPopup()">Search History +</a>');
document.writeln('<\/td><\/tr>');

document.writeln('<tr><td class="searchbox-body" id="searchbox-body">');
document.writeln('<form name="search" style="margin:0px; padding:0px" onSubmit=\'return jump()\'>');
document.writeln('<a class="searchbox-body" href="../_classes/index.html">Class<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="classname"><br>');
document.writeln('<a id="funcsearchlink" class="searchbox-body" href="../_functions/index.html">Function<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="funcname"><br>');
document.writeln('<a class="searchbox-body" href="../_variables/index.html">Variable<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="varname"><br>');
document.writeln('<a class="searchbox-body" href="../_constants/index.html">Constant<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="constname"><br>');
document.writeln('<a class="searchbox-body" href="../_tables/index.html">Table<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="tablename"><br>');
document.writeln('<input type="submit" class="searchbox-button" value="Search">');
document.writeln('<\/form>');
document.writeln('<\/td><\/tr><\/table>');
document.writeln('<\/td><\/tr><\/table>');
// -->
</script>
<div id="search-popup" class="searchpopup"><p id="searchpopup-title" class="searchpopup-title">title</p><div id="searchpopup-body" class="searchpopup-body">Body</div><p class="searchpopup-close"><a href="javascript:gwCloseActive()">[close]</a></p></div>
<h2 class="details-heading"><a href="./index.html">/www/</a> -> <a href="common.inc.source.html">common.inc</a> (summary)</h2>
<div class="details-summary">
<p class="viewlinks">[<a href="common.inc.source.html">Source view</a>]
[<a href="javascript:window.print();">Print</a>]
[<a href="../_stats.html">Project Stats</a>]</p>
<p><b>Common functions used by SimpleID, and the implementation of extensions.</b></p>
<table>
<tr><td align="right">File Size: </td><td>401 lines (12 kb)</td></tr>
<tr><td align="right">Included or required:</td><td>0 times</td></tr>
<tr><td align="right" valign="top">Referenced: </td><td>0 times</td></tr>
<tr><td align="right" valign="top">Includes or requires: </td><td>0 files</td></tr>
</table>
<h3>Defines 16 functions</h3>
<div class="inset">
&nbsp;&nbsp;<a href="#set_message">set_message</a>()<br>
&nbsp;&nbsp;<a href="#indirect_fatal_error">indirect_fatal_error</a>()<br>
&nbsp;&nbsp;<a href="#header_response_code">header_response_code</a>()<br>
&nbsp;&nbsp;<a href="#is_https">is_https</a>()<br>
&nbsp;&nbsp;<a href="#negotiate_content_type">negotiate_content_type</a>()<br>
&nbsp;&nbsp;<a href="#pickle">pickle</a>()<br>
&nbsp;&nbsp;<a href="#unpickle">unpickle</a>()<br>
&nbsp;&nbsp;<a href="#get_request_uri">get_request_uri</a>()<br>
&nbsp;&nbsp;<a href="#get_base_path">get_base_path</a>()<br>
&nbsp;&nbsp;<a href="#simpleid_url">simpleid_url</a>()<br>
&nbsp;&nbsp;<a href="#get_form_token">get_form_token</a>()<br>
&nbsp;&nbsp;<a href="#validate_form_token">validate_form_token</a>()<br>
&nbsp;&nbsp;<a href="#extension_init">extension_init</a>()<br>
&nbsp;&nbsp;<a href="#extension_invoke_all">extension_invoke_all</a>()<br>
&nbsp;&nbsp;<a href="#extension_invoke">extension_invoke</a>()<br>
&nbsp;&nbsp;<a href="#get_extensions">get_extensions</a>()<br>
</div>
</div>
<br><div class="details-funclist">
<div class="details-classtitle"><a name="functions"><b>Functions</b></a></div>
<div class="details-classinfo">
Functions that are not part of a class:<br><br>
<div class="inset"><table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="set_message" onClick="logFunction('set_message', 'common.inc.source.html#l37')" href="common.inc.source.html#l37">set_message</a>(<a href="../_variables/msg.html">$msg</a>)&nbsp;&nbsp;
<a href="../_functions/set_message.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Sets a message to display to the user on the rendered SimpleID page.<BR>
</b><BR><b>param:</b> string $msg the message to set<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="indirect_fatal_error" onClick="logFunction('indirect_fatal_error', 'common.inc.source.html#l49')" href="common.inc.source.html#l49">indirect_fatal_error</a>(<a href="../_variables/error.html">$error</a>)&nbsp;&nbsp;
<a href="../_functions/indirect_fatal_error.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Displays a fatal error message and exits.<BR>
</b><BR><b>param:</b> string $error the message to set<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="header_response_code" onClick="logFunction('header_response_code', 'common.inc.source.html#l64')" href="common.inc.source.html#l64">header_response_code</a>(<a href="../_variables/code.html">$code</a>)&nbsp;&nbsp;
<a href="../_functions/header_response_code.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Send a HTTP response code to the user agent.<BR>
</b><BR>The format of the HTTP response code depends on the way PHP is run.<BR>
When run as an Apache module, a properly formatted HTTP response<BR>
string is sent.&nbsp;&nbsp;When run via CGI, the response code is sent via the<BR>
Status response header.<BR>
<BR>
<b>param:</b> string $code the response code along<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="is_https" onClick="logFunction('is_https', 'common.inc.source.html#l82')" href="common.inc.source.html#l82">is_https</a>()&nbsp;&nbsp;
<a href="../_functions/is_https.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Determines whether the current connection with the user agent is via<BR>
HTTPS.<BR>
</b><BR>HTTPS is detected if one of the following occurs:<BR>
<BR>
- $_SERVER['HTTPS'] is set to 'on' (Apache installations)<BR>
- $_SERVER['HTTP_X_FORWARDED_PROTO'] is set to 'https' (reverse proxies)<BR>
- $_SERVER['HTTP_FRONT_END_HTTPS'] is set to 'on'<BR>
<BR>
<b>return:</b> bool true if the connection is via HTTPS<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="negotiate_content_type" onClick="logFunction('negotiate_content_type', 'common.inc.source.html#l100')" href="common.inc.source.html#l100">negotiate_content_type</a>(<a href="../_variables/content_types.html">$content_types</a>, <a href="../_variables/accept_header.html">$accept_header</a> = NULL)&nbsp;&nbsp;
<a href="../_functions/negotiate_content_type.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Content type negotiation using the Accept Header.<BR>
</b><BR>Under HTTP, the user agent is able to negoatiate the content type returned with<BR>
the server using HTTP Accept header.&nbsp;&nbsp;This header contains a comma-delimited<BR>
list of items (e.g. content types) which the user agent is able to<BR>
accept, ranked by a quality parameter.<BR>
<BR>
This function takes the header from the user agent, compares it against the<BR>
content types which the server can provide, then returns the item which the highest<BR>
quality which the server can provide.<BR>
<BR>
<b>return:</b> string the negotiated content type, FALSE if $accept_header is NULL and<br>
<b>param:</b> array $content_types an array of content types which the server can<br>
<b>param:</b> string $accept_header the header string provided by the user agent.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="pickle" onClick="logFunction('pickle', 'common.inc.source.html#l173')" href="common.inc.source.html#l173">pickle</a>(<a href="../_variables/data.html">$data</a>)&nbsp;&nbsp;
<a href="../_functions/pickle.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Serialises a variable for inclusion as a URL parameter.<BR>
</b><BR><b>return:</b> string serialised data<br>
<b>param:</b> mixed $data the data to serialise<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="unpickle" onClick="logFunction('unpickle', 'common.inc.source.html#l184')" href="common.inc.source.html#l184">unpickle</a>(<a href="../_variables/pickle.html">$pickle</a>)&nbsp;&nbsp;
<a href="../_functions/unpickle.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Deserialises data specified in a URL parameter as a variable.<BR>
</b><BR><b>return:</b> mixed the deserialised data<br>
<b>param:</b> string $pickle the serialised data<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_request_uri" onClick="logFunction('get_request_uri', 'common.inc.source.html#l195')" href="common.inc.source.html#l195">get_request_uri</a>(<a href="../_variables/base.html">$base</a>)&nbsp;&nbsp;
<a href="../_functions/get_request_uri.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Obtains the URI of the current request, given a base URI.<BR>
</b><BR><b>return:</b> string the request URI<br>
<b>param:</b> string $base the base URI<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_base_path" onClick="logFunction('get_base_path', 'common.inc.source.html#l213')" href="common.inc.source.html#l213">get_base_path</a>()&nbsp;&nbsp;
<a href="../_functions/get_base_path.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns the base URL path, relative to the current host, of the SimpleID<BR>
installation.<BR>
</b><BR>This is worked out from {@link SIMPLEID_BASE_URL}.&nbsp;&nbsp;It will always contain<BR>
a trailing slash.<BR>
<BR>
<b>return:</b> string the base URL path<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="simpleid_url" onClick="logFunction('simpleid_url', 'common.inc.source.html#l241')" href="common.inc.source.html#l241">simpleid_url</a>(<a href="../_variables/q.html">$q</a> = '', <a href="../_variables/params.html">$params</a> = '', <a href="../_variables/relative.html">$relative</a> = false)&nbsp;&nbsp;
<a href="../_functions/simpleid_url.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Obtains a SimpleID URL.&nbsp;&nbsp;URLs produced by SimpleID should use this function.<BR>
</b><BR><b>return:</b> string the url<br>
<b>param:</b> string $q the q parameter<br>
<b>param:</b> string $params a properly encoded query string<br>
<b>param:</b> bool $relative whether a relative URL should be returns<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_form_token" onClick="logFunction('get_form_token', 'common.inc.source.html#l272')" href="common.inc.source.html#l272">get_form_token</a>(<a href="../_variables/id.html">$id</a>)&nbsp;&nbsp;
<a href="../_functions/get_form_token.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Obtains a form token given a form ID.<BR>
</b><BR>Form tokens are used in SimpleID forms to guard against cross-site forgery<BR>
attacks.<BR>
<BR>
<b>return:</b> string a form token<br>
<b>param:</b> string $id the form ID<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="validate_form_token" onClick="logFunction('validate_form_token', 'common.inc.source.html#l298')" href="common.inc.source.html#l298">validate_form_token</a>(<a href="../_variables/token.html">$token</a>, <a href="../_variables/id.html">$id</a>)&nbsp;&nbsp;
<a href="../_functions/validate_form_token.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Checks whether a form token is valid<BR>
</b><BR><b>return:</b> bool true if the form token is valid<br>
<b>param:</b> string $token the token returned by the user agent<br>
<b>param:</b> string $id the form ID<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="extension_init" onClick="logFunction('extension_init', 'common.inc.source.html#l328')" href="common.inc.source.html#l328">extension_init</a>()&nbsp;&nbsp;
<a href="../_functions/extension_init.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Initialises the extension mechanism.&nbsp;&nbsp;This function looks up the extensions<BR>
to load in the {@link SIMPLEID_EXTENSIONS} constants, loads them, then<BR>
calls the ns hook.<BR>
</b><BR></td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="extension_invoke_all" onClick="logFunction('extension_invoke_all', 'common.inc.source.html#l343')" href="common.inc.source.html#l343">extension_invoke_all</a>()&nbsp;&nbsp;
<a href="../_functions/extension_invoke_all.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Invokes a hook in all the loaded extensions.<BR>
</b><BR><b>return:</b> array the return values from the hook<br>
<b>param:</b> string $function the name of the hook to call<br>
<b>param:</b> mixed $args the arguments to the hook<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="extension_invoke" onClick="logFunction('extension_invoke', 'common.inc.source.html#l372')" href="common.inc.source.html#l372">extension_invoke</a>()&nbsp;&nbsp;
<a href="../_functions/extension_invoke.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Invokes a hook in a specified extension.<BR>
</b><BR><b>return:</b> mixed the return value from the hook<br>
<b>param:</b> string $extension the extension to call<br>
<b>param:</b> string $function the name of the hook to call<br>
<b>param:</b> mixed $args the arguments to the hook<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_extensions" onClick="logFunction('get_extensions', 'common.inc.source.html#l391')" href="common.inc.source.html#l391">get_extensions</a>()&nbsp;&nbsp;
<a href="../_functions/get_extensions.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns an array of currently loaded extensions.<BR>
</b><BR><b>param:</b> array a list of the names of the currently loaded extensions.<br>
</td></tr></table>

<br>
</div></div>

</div>
<!-- A link to the phpxref site in your customized footer file is appreciated ;-) -->
<br><hr>
<table width="100%">
	<tr><td>Generated: Mon Apr  6 15:06:20 2015</td>
	<td align="right"><i>Cross-referenced by <a href="http://phpxref.sourceforge.net/">PHPXref 0.7.1</a></i></td>
	</tr>
</table>
</body></html>
